<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Apache jUDDI Guide</title><link rel="stylesheet" type="text/css" href="css/jbossorg.css"/><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"/><meta xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" http-equiv="Content-Type" content="text/html; charset=UTF-8"/></head><body><div xml:lang="en" class="book" title="Apache jUDDI Guide"><div class="titlepage"><div><p xmlns:d="http://docbook.org/ns/docbook" id="title"><a href="http://www.jboss.org" class="site_href"><strong>JBoss.org</strong></a><a href="http://docs.jboss.org/" class="doc_href"><strong>Community Documentation</strong></a></p><div><h1 class="title"><a id="d5e1"/>Apache jUDDI Guide</h1></div><div><div class="authorgroup">

    <div class="author"><h3 class="author"><span class="firstname">Kurt</span> <span class="othername">T</span> <span class="surname">Stam</span></h3><div class="affiliation">
      <span class="shortaffil">RedHat<br/></span>
      <span class="jobtitle">Enterprise Integration Magician (EIM)<br/></span>
      <span class="orgname">Red Hat, Inc.<br/></span>
       <span class="orgdiv"><a class="ulink" href="http://www.jboss.org/overlord">SOA Governance</a><br/></span>
      <div class="authorblurb">
      <p>
        Open Source, written by domain experts.
      </p>
    </div>

    </div></div>

    <div class="author"><h3 class="author"><span class="firstname">Alex</span> <span class="surname">O'Ree</span></h3><div class="affiliation">
      <span class="shortaffil">Apache Software Foundation (ASF)<br/></span>
      <span class="orgname">Apache Software Foundation (ASF), http://juddi.apache.org<br/></span>
    </div></div>

     </div></div><div><p class="copyright">Copyright © 2003-2014 The Apache Software Foundation</p></div><div><a href="ln-d5e27.html">Legal Notice</a></div></div><hr/></div><div class="dedication" title="Dedication"><div class="titlepage"><div><div><h2 class="title"><a id="_dedication"/>Dedication</h2></div></div></div>

<p>We’d like to dedicate this guide to Steve Viens and Andy Cutright who started this project back in 2003.</p>
</div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="preface"><a href="#_preface">Preface</a></span></dt><dt><span class="chapter"><a href="#UDDI-Registry-Introduction">1. Universal Description, Discovery and Integration (UDDI)</a></span></dt><dd><dl><dt><span class="section"><a href="#_uddi_protocol_specification">1.1. UDDI Protocol, Specification</a></span></dt><dt><span class="section"><a href="#_uddi_registry">1.2. UDDI Registry</a></span></dt><dt><span class="section"><a href="#_juddi_project">1.3. jUDDI Project</a></span></dt></dl></dd><dt><span class="chapter"><a href="#chapter-GettingStarted">2. Getting Started</a></span></dt><dd><dl><dt><span class="section"><a href="#_prerequisites">2.1. Prerequisites</a></span></dt><dt><span class="section"><a href="#_what_should_i_download">2.2. What should I Download?</a></span></dt><dt><span class="section"><a href="#_running_juddi">2.3. Running jUDDI</a></span></dt><dt><span class="section"><a href="#_using_the_juddi_administrative_interface">2.4. Using the jUDDI Administrative Interface</a></span></dt><dt><span class="section"><a href="#_using_juddi_web_services">2.5. Using jUDDI Web Services</a></span></dt><dt><span class="section"><a href="#_using_juddi_gui_to_create_your_keygenerator_and_business">2.6. Using jUDDI GUI to create your keygenerator and business</a></span></dt><dt><span class="section"><a href="#_running_the_demos_in_the_disto">2.7. Running the demos in the disto</a></span></dt><dt><span class="section"><a href="#_examples_on_the_juddi_blog">2.8. Examples on the jUDDI blog</a></span></dt><dt><span class="section"><a href="#_what_is_new_in_juddi_3_2">2.9. What is new in jUDDI 3.2?</a></span></dt></dl></dd><dt><span class="chapter"><a href="#chapter-jUDDIArchitecture">3. jUDDI Architecture</a></span></dt><dd><dl><dt><span class="section"><a href="#_juddi_server">3.1. jUDDI Server</a></span></dt><dd><dl><dt><span class="section"><a href="#_uddi_api_layer_literal_uddi_ws_literal_using_jax_ws">3.1.1. UDDI API layer <code class="literal">uddi-ws</code> using JAX-WS</a></span></dt><dt><span class="section"><a href="#_core_uddi_literal_juddi_core_literal_using_jpa">3.1.2. Core UDDI <code class="literal">juddi-core</code> using JPA</a></span></dt><dt><span class="section"><a href="#_relational_databases">3.1.3. Relational Databases</a></span></dt><dt><span class="section"><a href="#_servlet_containers">3.1.4. Servlet Containers</a></span></dt></dl></dd><dt><span class="section"><a href="#_juddi_gui_literal_juddi_gui_war_literal">3.2. jUDDI GUI <code class="literal">juddi-gui.war</code></a></span></dt></dl></dd><dt><span class="chapter"><a href="#chapter-Administration">4. Administration</a></span></dt><dd><dl><dt><span class="section"><a href="#_changing_the_web_server_listen_port">4.1. Changing the Web Server Listen Port</a></span></dt><dt><span class="section"><a href="#_administering_users_and_access_control">4.2. Administering Users and Access Control</a></span></dt><dd><dl><dt><span class="section"><a href="#_administrative_users">4.2.1. Administrative Users</a></span></dt><dt><span class="section"><a href="#_end_users">4.2.2. End Users</a></span></dt></dl></dd><dt><span class="section"><a href="#ConfiguringDatabaseConnections">4.3. Configuration Database Connections</a></span></dt><dd><dl><dt><span class="section"><a href="#_derby_out_of_the_box">4.3.1. Derby Out-of-the-Box</a></span></dt><dt><span class="section"><a href="#_switching_to_another_database">4.3.2. Switching to another Database</a></span></dt><dt><span class="section"><a href="#_switch_to_mysql_on_tomcat_using_openjpa">4.3.3. Switch to MySQL on Tomcat using OpenJPA</a></span></dt><dt><span class="section"><a href="#_switch_to_postgres_on_tomcat_using_openjpa">4.3.4. Switch to Postgres on Tomcat using OpenJPA</a></span></dt><dt><span class="section"><a href="#_switch_to_postgres_on_jboss_using_hibernate">4.3.5. Switch to Postgres on JBoss using Hibernate</a></span></dt><dt><span class="section"><a href="#_switch_to_oracle_on_tomcat_using_hibernate">4.3.6. Switch to Oracle on Tomcat using Hibernate</a></span></dt><dt><span class="section"><a href="#_switch_to_hsql_on_tomcat_using_hibernate">4.3.7. Switch to HSQL on Tomcat using Hibernate</a></span></dt><dt><span class="section"><a href="#_switch_to_other_db">4.3.8. Switch to other db</a></span></dt><dt><span class="section"><a href="#_override_persistence_properties_in_the_juddiv3_xml">4.3.9. Override persistence properties in the juddiv3.xml</a></span></dt></dl></dd><dt><span class="section"><a href="#_logging">4.4. Logging</a></span></dt><dt><span class="section"><a href="#_administering_the_gui_juddi_gui_war">4.5. Administering the GUI (juddi-gui.war)</a></span></dt><dt><span class="section"><a href="#_task_signing_the_digital_signature_applet_jar_file">4.6. Task: Signing the Digital Signature Applet jar file</a></span></dt><dt><span class="section"><a href="#_administrating_your_juddi_instance_using_the_administrative_console">4.7. Administrating your jUDDI Instance using the Administrative Console</a></span></dt><dt><span class="section"><a href="#_configure_juddi">4.8. Configure jUDDI</a></span></dt><dd><dl><dt><span class="section"><a href="#_enabling_remote_access">4.8.1. Enabling Remote Access</a></span></dt></dl></dd><dt><span class="section"><a href="#_monitoring_the_status_and_statistics">4.9. Monitoring the Status and Statistics</a></span></dt><dd><dl><dt><span class="section"><a href="#_statistics">4.9.1. Statistics</a></span></dt><dt><span class="section"><a href="#_status">4.9.2. Status</a></span></dt></dl></dd><dt><span class="section"><a href="#_accessing_the_juddiv3_api">4.10. Accessing the jUDDIv3 API</a></span></dt><dt><span class="section"><a href="#_security_guidance">4.11. Security Guidance</a></span></dt><dd><dl><dt><span class="section"><a href="#_juddi_server_2">4.11.1. jUDDI Server</a></span></dt><dt><span class="section"><a href="#_juddi_client_and_developers">4.11.2. jUDDI Client (and developers)</a></span></dt><dt><span class="section"><a href="#_juddi_gui_web_user_interface">4.11.3. jUDDI GUI (Web user interface)</a></span></dt></dl></dd><dt><span class="section"><a href="#_backups_upgrading_and_data_migration">4.12. Backups, Upgrading and Data Migration</a></span></dt><dd><dl><dt><span class="section"><a href="#_database_backups">4.12.1. Database Backups</a></span></dt><dt><span class="section"><a href="#_config_backup">4.12.2. Config Backup</a></span></dt></dl></dd><dt><span class="section"><a href="#_upgrading_juddi">4.13. Upgrading jUDDI</a></span></dt><dt><span class="section"><a href="#_scaling_juddi_and_federation">4.14. Scaling jUDDI and Federation</a></span></dt><dd><dl><dt><span class="section"><a href="#_scaling_the_juddi_services_multiple_servers">4.14.1. Scaling the jUDDI Services (multiple servers)</a></span></dt><dt><span class="section"><a href="#_limitations_of_juddi">4.14.2. Limitations of jUDDI</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#jUDDIServerConfig">5. jUDDI Server Configuration (<code class="literal">juddiv3.xml</code>)</a></span></dt><dd><dl><dt><span class="section"><a href="#_authentication">5.1. Authentication</a></span></dt><dt><span class="section"><a href="#_startup">5.2. Startup</a></span></dt><dt><span class="section"><a href="#_email">5.3. Email</a></span></dt><dt><span class="section"><a href="#_query_properties">5.4. Query Properties</a></span></dt><dt><span class="section"><a href="#_rmi_proxy">5.5. RMI Proxy</a></span></dt><dt><span class="section"><a href="#_key_generation_and_cryptography">5.6. Key Generation and Cryptography</a></span></dt><dt><span class="section"><a href="#_subscription">5.7. Subscription</a></span></dt><dt><span class="section"><a href="#_custody_transfer">5.8. Custody Transfer</a></span></dt><dt><span class="section"><a href="#_validation">5.9. Validation</a></span></dt><dt><span class="section"><a href="#_logging_2">5.10. Logging</a></span></dt><dt><span class="section"><a href="#_performance">5.11. Performance</a></span></dt><dt><span class="section"><a href="#_replication">5.12. Replication</a></span></dt><dt><span class="section"><a href="#_deploying_two_or_more_juddi_server_on_the_same_application_server">5.13. Deploying two or more jUDDI server on the same application server</a></span></dt><dt><span class="section"><a href="#_juddi_gui_configuration">5.14. jUDDI GUI Configuration</a></span></dt><dt><span class="section"><a href="#_juddi_client_uddi_xml_settings">5.15. jUDDI Client uddi.xml Settings</a></span></dt><dt><span class="section"><a href="#_encryption_keys">5.16. Encryption Keys</a></span></dt><dt><span class="section"><a href="#_customizing_the_juddi_gui">5.17. Customizing the juddi-gui</a></span></dt></dl></dd><dt><span class="chapter"><a href="#chapter-Replication">6. Replication Services</a></span></dt><dd><dl><dt><span class="section"><a href="#_introduction">6.1. Introduction</a></span></dt><dt><span class="section"><a href="#_uddiv3_replication_overview">6.2. UDDIv3 Replication Overview</a></span></dt><dd><dl><dt><span class="section"><a href="#_uddiv3_replication_topology">6.2.1. UDDIv3 Replication Topology</a></span></dt><dt><span class="section"><a href="#_conflict_handling">6.2.2. Conflict handling</a></span></dt></dl></dd><dt><span class="section"><a href="#_configuring_your_juddi_node_for_replication">6.3. Configuring your jUDDI Node for replication</a></span></dt><dd><dl><dt><span class="section"><a href="#_changing_the_node_id">6.3.1. Changing the Node ID</a></span></dt><dt><span class="section"><a href="#_setting_up_client_cert_authentication">6.3.2. Setting up CLIENT-CERT authentication</a></span></dt><dt><span class="section"><a href="#_setting_the_replication_configuration">6.3.3. Setting the Replication Configuration</a></span></dt><dt><span class="section"><a href="#_performing_custody_transfer_between_nodes">6.3.4. Performing Custody Transfer between nodes</a></span></dt><dt><span class="section"><a href="#_what_s_supported_and_what_s_not">6.3.5. What’s Supported and What’s Not</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#chapter-UDDISeedData">7. UDDI Seed Data</a></span></dt><dd><dl><dt><span class="section"><a href="#_seed_data_files">7.1. Seed Data Files</a></span></dt><dt><span class="section"><a href="#_tokens_in_the_seed_data">7.2. Tokens in the Seed Data</a></span></dt><dt><span class="section"><a href="#_customer_seed_data">7.3. Customer Seed Data</a></span></dt></dl></dd><dt><span class="chapter"><a href="#chapter-HowToDeployjUDDITo">8. How to deploy jUDDI To?</a></span></dt><dd><dl><dt><span class="section"><a href="#_tomcat">8.1. Tomcat</a></span></dt><dd><dl><dt><span class="section"><a href="#_openjpa_and_cxf">8.1.1. OpenJPA and CXF</a></span></dt><dt><span class="section"><a href="#_hibernate_and_cxf">8.1.2. Hibernate and CXF</a></span></dt><dt><span class="section"><a href="#_openjpa_and_axis2">8.1.3. OpenJPA and Axis2</a></span></dt></dl></dd><dt><span class="section"><a href="#_jboss">8.2. JBoss</a></span></dt><dd><dl><dt><span class="section"><a href="#_jbossas_6_0_0_ga">8.2.1. JBossAS 6.0.0.GA</a></span></dt><dt><span class="section"><a href="#_jbossas_7_x_jbosseap_6_x">8.2.2. JBossAS 7.x/JBossEAP-6.x</a></span></dt></dl></dd><dt><span class="section"><a href="#_deploying_to_glassfish">8.3. Deploying to Glassfish</a></span></dt><dd><dl><dt><span class="section"><a href="#_glassfish_jars">8.3.1. Glassfish jars</a></span></dt><dt><span class="section"><a href="#_configure_the_juddi_datasource">8.3.2. Configure the JUDDI datasource</a></span></dt><dt><span class="section"><a href="#_add_juddiv3_cxf_war">8.3.3. Add juddiv3-cxf.war</a></span></dt><dt><span class="section"><a href="#_run_juddi">8.3.4. Run jUDDI</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="#_extending_uddi">9. Extending UDDI</a></span></dt><dd><dl><dt><span class="section"><a href="#_authentication_modules">9.1. Authentication modules</a></span></dt><dt><span class="section"><a href="#_subscription_notification_handlers">9.2. Subscription Notification Handlers</a></span></dt><dt><span class="section"><a href="#_keyedreference_value_set_validation_services">9.3. KeyedReference Value Set Validation Services</a></span></dt><dt><span class="section"><a href="#_cryptographic_providers">9.4. Cryptographic Providers</a></span></dt><dt><span class="section"><a href="#_juddi_client_transport">9.5. jUDDI Client Transport</a></span></dt></dl></dd><dt><span class="chapter"><a href="#DigitalSignatures">10. Digital Signatures</a></span></dt><dd><dl><dt><span class="section"><a href="#_requirements">10.1. Requirements</a></span></dt><dt><span class="section"><a href="#_using_digital_signatures_using_the_juddi_gui">10.2. Using Digital Signatures using the jUDDI GUI</a></span></dt><dt><span class="section"><a href="#_frequently_asked_questions">10.3. Frequently Asked Questions</a></span></dt></dl></dd><dt><span class="chapter"><a href="#_troubleshooting_juddi">11. Troubleshooting jUDDI</a></span></dt><dd><dl><dt><span class="section"><a href="#_juddi_web_services_juddiv3_war">11.1. jUDDI Web Services, juddiv3.war</a></span></dt><dd><dl><dt><span class="section"><a href="#_enable_debugging_logging">11.1.1. Enable debugging logging</a></span></dt></dl></dd><dt><span class="section"><a href="#_juddi_gui_juddi_gui_war">11.2. jUDDI GUI, juddi-gui.war</a></span></dt><dt><span class="section"><a href="#_juddi_client_java">11.3. jUDDI Client Java</a></span></dt><dd><dl><dt><span class="section"><a href="#_enable_debugging_logging_2">11.3.1. Enable debugging logging</a></span></dt></dl></dd><dt><span class="section"><a href="#_juddi_client_net">11.4. jUDDI Client .NET</a></span></dt><dt><span class="section"><a href="#_getting_help">11.5. Getting help</a></span></dt></dl></dd><dt><span class="chapter"><a href="#_contributing_to_juddi">12. Contributing to jUDDI</a></span></dt><dd><dl><dt><span class="section"><a href="#_license_guidance">12.1. License guidance</a></span></dt><dt><span class="section"><a href="#_svn_access">12.2. SVN access</a></span></dt><dt><span class="section"><a href="#_project_structure">12.3. Project structure</a></span></dt><dt><span class="section"><a href="#_building_and_testing_juddi">12.4. Building and testing jUDDI</a></span></dt><dd><dl><dt><span class="section"><a href="#_all_java_components">12.4.1. All Java Components</a></span></dt><dt><span class="section"><a href="#__net">12.4.2. .NET</a></span></dt></dl></dd><dt><span class="section"><a href="#_other_ways_to_contribute_to_juddi">12.5. Other ways to Contribute to jUDDI</a></span></dt><dd><dl><dt><span class="section"><a href="#_bug_reports">12.5.1. Bug Reports</a></span></dt><dt><span class="section"><a href="#_internationalization">12.5.2. Internationalization</a></span></dt><dt><span class="section"><a href="#_contributing_source_code">12.5.3. Contributing Source code</a></span></dt><dt><span class="section"><a href="#_releases">12.5.4. Releases</a></span></dt></dl></dd><dt><span class="section"><a href="#_what_the">12.6. What the?</a></span></dt></dl></dd><dt><span class="bibliography"><a href="#_bibliography">Bibliography</a></span></dt><dt><span class="index"><a href="#_index">Index</a></span></dt></dl></div><div class="list-of-figures"><p><strong>List of Figures</strong></p><dl><dt>1.1. <a href="#figure-UDDIREG-InvocationPattern">Invocation Pattern using the UDDI Registry</a></dt><dt>2.1. <a href="#figure-GettingStarted-Welcome">jUDDI welcome page</a></dt><dt>2.2. <a href="#figure--GettingStarted-Admin">jUDDI admin</a></dt><dt>2.3. <a href="#figure-GettingStarted-HappyjUDDI">Happy jUDDI.</a></dt><dt>2.4. <a href="#figure-GettingStarted-FormLogin">Form login</a></dt><dt>2.5. <a href="#figure-GettingStarted-AddPublisher">Add Publisher</a></dt><dt>2.6. <a href="#figure-GettingStarted-jUDDIServices">jUDDI Services</a></dt><dt>2.7. <a href="#figure-GettingStarted-SoapUI">Getting an authToken using SoapUI</a></dt><dt>2.8. <a href="#figure-GettingStarted-CreateKeygenerator">Create Key Generator</a></dt><dt>2.9. <a href="#figure-GettingStarted-CreateBusiness">Create Business</a></dt><dt>3.1. <a href="#figure-jUDDIArchitecture-Architecture">jUDDI Architecture</a></dt><dt>3.2. <a href="#figure-jUDDIArchitecture-ClientGui">jUDDI Client and Console Architecture</a></dt><dt>3.3. <a href="#figure-jUDDIArchitecture-Gui">jUDDI Console Architecture</a></dt><dt>4.1. <a href="#figure-GuideAdministrator-Configure">jUDDI Server Configuration Page.</a></dt><dt>4.2. <a href="#figure-GuideAdministrator-Statistics">jUDDI Server Statistics.</a></dt><dt>4.3. <a href="#figure-GuideAdministrator-MBeans">jUDDI MBeans.</a></dt><dt>4.4. <a href="#figure-GuideAdministrator-Status">jUDDI Server Status.</a></dt><dt>4.5. <a href="#figure-GuideAdministrator-API">jUDDI API.</a></dt></dl></div><div class="list-of-tables"><p><strong>List of Tables</strong></p><dl><dt>1.1. <a href="#d5e97">Supported UDDI Interfaces</a></dt><dt>1.2. <a href="#d5e230">jUDDI Features</a></dt><dt>1.3. <a href="#d5e321">Supported Sort Orders</a></dt><dt>1.4. <a href="#d5e413">Supported Find Qualifiers</a></dt><dt>4.1. <a href="#d5e1062">Hibernate properties that can be referenced in the <span class="emphasis"><em>juddiv3.xml</em></span> file</a></dt><dt>5.1. <a href="#d5e1331">Authentication properties that can be referenced in the juddiv3.xml file</a></dt><dt>5.2. <a href="#d5e1413">Startup properties that can be referenced in the <span class="emphasis"><em>juddiv3.xml</em></span> file</a></dt><dt>5.3. <a href="#d5e1694">Query properties that can be referenced in the <span class="emphasis"><em>juddiv3.xml</em></span> file</a></dt><dt>5.4. <a href="#d5e1853">UDDI Key generation properties that can be referenced in the <code class="literal">juddiv3.xml</code> file.</a></dt><dt>5.5. <a href="#d5e1903">Subscription properties that can be referenced in the <span class="emphasis"><em>juddiv3.xml</em></span> file.</a></dt><dt>5.6. <a href="#d5e2003">Transfer properties that can be referenced in the <span class="emphasis"><em>juddiv3.xml</em></span> file.</a></dt><dt>5.7. <a href="#d5e2031">These settings are for validating the data that users store in jUDDI. They can be referenced in the <span class="emphasis"><em>juddiv3.xml</em></span> file.</a></dt><dt>5.8. <a href="#d5e2285">jUDDI GUI Configuration</a></dt></dl></div>


<div class="preface" title="Preface"><div class="titlepage"><div><div><h2 class="title"><a id="_preface"/>Preface</h2></div></div></div>

<p>The jUDDI project maintains a UDDIv3 registry that can be deployed to most modern JEE application servers. The jUDDI project is part of the Apache Software Foundation and encourages participation. It is easy to participate and if you discover a simple typo or would like to contribute to this guide in general please read the README page (add link).</p>
</div>
<div class="chapter" title="Chapter 1. Universal Description, Discovery and Integration (UDDI)"><div class="titlepage"><div><div><h2 class="title"><a id="UDDI-Registry-Introduction"/>Chapter 1. Universal Description, Discovery and Integration (UDDI)</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#_uddi_protocol_specification">1.1. UDDI Protocol, Specification</a></span></dt><dt><span class="section"><a href="#_uddi_registry">1.2. UDDI Registry</a></span></dt><dt><span class="section"><a href="#_juddi_project">1.3. jUDDI Project</a></span></dt></dl></div>

<div class="section" title="1.1. UDDI Protocol, Specification"><div class="titlepage"><div><div><h2 class="title"><a id="_uddi_protocol_specification"/>1.1. UDDI Protocol, Specification</h2></div></div></div>

<p>The Universal Description, Discovery and Integration (UDDI) protocol is one of the major building blocks required for successful Web services. UDDI creates a standard interoperable platform that enables companies and applications to quickly, easily, and dynamically find and use Web services over the Internet (or Intranet). UDDI also allows operational registries to be maintained for different purposes in different contexts. UDDI is a cross-industry effort driven by major platform and software providers, as well as marketplace operators and e-business leaders within the OASIS standards consortium <a class="xref" href="#uddi-oasis-open-org">[uddi-oasis-open-org]</a>. UDDI has gone through 3 revisions and the latest version is 3.0.2 <a class="xref" href="#uddi-v3">[uddi-v3]</a>. Additional information regarding UDDI can be found at <a class="ulink" href="http://uddi.xml.org">http://uddi.xml.org</a> <a class="xref" href="#uddi-xml-org">[uddi-xml-org]</a>.</p>
</div>
<div class="section" title="1.2. UDDI Registry"><div class="titlepage"><div><div><h2 class="title"><a id="_uddi_registry"/>1.2. UDDI Registry</h2></div></div></div>

<p>The UDDI Registry <a id="d5e50" class="indexterm"/>
<a id="d5e53" class="indexterm"/> implements the UDDI specification <a id="d5e55" class="indexterm"/>
<a id="d5e58" class="indexterm"/>. UDDI is a Web-based <span class="emphasis"><em>distributed</em></span> <span class="emphasis"><em>directory</em></span> <a id="d5e62" class="indexterm"/> that enables businesses to list themselves on the Internet (or Intranet) and discover each other, similar to a traditional phone book’s yellow and white pages. The UDDI registry is both a white pages business directory and a technical specifications library. The Registry is designed to store information about Businesses and Services and it holds references to detailed documentation.</p>
<div class="figure"><a id="figure-UDDIREG-InvocationPattern"/><p class="title"><strong>Figure 1.1. Invocation Pattern using the UDDI Registry</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/UDDI_Registry_invocation_pattern.png" alt="Invocation Pattern using the UDDI Registry"/></div>
</div></div><br class="figure-break"/>

<p>In step 1 of <a class="xref" href="#figure-UDDIREG-InvocationPattern" title="Figure 1.1. Invocation Pattern using the UDDI Registry">Figure 1.1, “Invocation Pattern using the UDDI Registry”</a> it is shown how a business publishes services to the UDDI registry. In step 2, a client looks up the service in the registry and receives service binding information. Finally in step 3, the client then uses the binding information to invoke the service. The UDDI APIs are SOAP based for interoperability reasons. In this example we’ve three APIs specified in the UDDI v3 specification, Security, Publication and Inquiry. The UDDI v3 specification defines 9 APIs:</p>
<div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
UDDI_Security_PortType, defines the API to obtain a security token. With a valid security token a publisher can publish to the registry. A security token can be used for the entire session.
</li><li class="listitem">
UDDI_Publication_PortType, defines the API to publish business and service information to the UDDI registry.
</li><li class="listitem">
UDDI_Inquiry_PortType, defines the API to query the UDDI registry. Typically this API does not require a security token.
</li><li class="listitem">
UDDI_CustodyTransfer_PortType, this API can be used to transfer the custody of a business from one UDDI node to another.
</li><li class="listitem">
UDDI_Subscription_PortType, defines the API to register for updates on a particular business of service.
</li><li class="listitem">
UDDI_SubscriptionListener_PortType, defines the API a client must implement to receive subscription notifications from a UDDI node.
</li><li class="listitem">
UDDI_Replication_PortType, defines the API to replicate registry data between UDDI nodes.
</li><li class="listitem">
UDDI_ValueSetValidation_PortType, by nodes to allow external providers of value set validation. Web services to assess whether keyedReferences or keyedReferenceGroups are valid.
</li><li class="listitem">
UDDI_ValueSetCaching_PortType, UDDI nodes may perform validation of publisher references themselves using the cached values obtained from such a Web service.
</li></ol></div>

</div>
<div class="section" title="1.3. jUDDI Project"><div class="titlepage"><div><div><h2 class="title"><a id="_juddi_project"/>1.3. jUDDI Project</h2></div></div></div>

<p>Apache jUDDI is server and client-side implementation of the UDDI v3 specification. The server side is the UDDI Registry, the client side are the juddi-client libraries. There is a Java as well as a C# version of the client libraries. The jUDDI GUI uses the client libraries to connect to a UDDI Registry. For more details please see the <a class="xref" href="#chapter-GettingStarted" title="Chapter 2. Getting Started">Chapter 2, <em>Getting Started</em></a>.</p>
<p>The following is a list of all supported UDDI interfaces provided by this release of jUDDI</p>
<div class="table"><a id="d5e97"/><p class="title"><strong>Table 1.1. Supported UDDI Interfaces</strong></p><div class="table-contents">

  
  <table summary="Supported UDDI Interfaces" border="1"><colgroup><col width="25*" class="col_1"/><col width="25*" class="col_2"/><col width="25*" class="col_3"/><col width="25*" class="col_4"/></colgroup><thead><tr><th align="left" valign="top">API</th><th align="left" valign="top">Spec</th><th align="left" valign="top">Supported</th><th align="left" valign="top">Notes</th></tr></thead><tbody><tr><td align="left" valign="top"><p><a class="ulink" href="http://uddi.org/pubs/uddi-v3.0.2-20041019.htm#_Toc85908076">Inquiry</a></p></td><td align="left" valign="top"><p>Required</p></td><td align="left" valign="top"><p>All Methods</p></td><td align="left" valign="top"> </td></tr><tr><td align="left" valign="top"><p><a class="ulink" href="http://uddi.org/pubs/uddi-v3.0.2-20041019.htm#_Toc85908158">Inquiry HTTP GET</a></p></td><td align="left" valign="top"><p>Optional</p></td><td align="left" valign="top"><p>All Methods</p></td><td align="left" valign="top"><p>Plus a number of additional methods</p></td></tr><tr><td align="left" valign="top"><p><a class="ulink" href="http://uddi.org/pubs/uddi-v3.0.2-20041019.htm#_Toc85908095">Publication</a></p></td><td align="left" valign="top"><p>Required</p></td><td align="left" valign="top"><p>All Methods</p></td><td align="left" valign="top"> </td></tr><tr><td align="left" valign="top"><p><a class="ulink" href="http://uddi.org/pubs/uddi-v3.0.2-20041019.htm#_Toc85908115">Security</a></p></td><td align="left" valign="top"><p>Optional</p></td><td align="left" valign="top"><p>All Methods</p></td><td align="left" valign="top"><p>Pluggable authentication</p></td></tr><tr><td align="left" valign="top"><p><a class="ulink" href="http://uddi.org/pubs/uddi-v3.0.2-20041019.htm#_Toc85908128">Subscription</a></p></td><td align="left" valign="top"><p>Optional</p></td><td align="left" valign="top"><p>All Methods</p></td><td align="left" valign="top"><p>HTTP, SMTP delivery implemented, pluggable</p></td></tr><tr><td align="left" valign="top"><p><a class="ulink" href="http://uddi.org/pubs/uddi-v3.0.2-20041019.htm#_Toc85908336">Subscription Listener</a></p></td><td align="left" valign="top"><p>Optional</p></td><td align="left" valign="top"><p>All Methods</p></td><td align="left" valign="top"><p>Client and Server side implementations</p></td></tr><tr><td align="left" valign="top"><p><a class="ulink" href="http://uddi.org/pubs/uddi-v3.0.2-20041019.htm#_Toc85908141">Value Set Caching</a></p></td><td align="left" valign="top"><p>Optional</p></td><td align="left" valign="top"><p>Partial</p></td><td align="left" valign="top"><p>Scheduled for 3.3</p></td></tr><tr><td align="left" valign="top"><p><a class="ulink" href="http://uddi.org/pubs/uddi-v3.0.2-20041019.htm#_Toc85908141">Value Set Validation</a></p></td><td align="left" valign="top"><p>Optional</p></td><td align="left" valign="top"><p>Implemented</p></td><td align="left" valign="top"><p>Scheduled for 3.3</p></td></tr><tr><td align="left" valign="top"><p><a class="ulink" href="http://uddi.org/pubs/uddi-v3.0.2-20041019.htm#_Toc85908180">Replication</a></p></td><td align="left" valign="top"><p>Optional</p></td><td align="left" valign="top"><p>Partial</p></td><td align="left" valign="top"><p>Scheduled for 3.3</p></td></tr><tr><td align="left" valign="top"><p><a class="ulink" href="http://uddi.org/pubs/uddi-v3.0.2-20041019.htm#_Toc85908118">Custody and Ownership Transfer</a></p></td><td align="left" valign="top"><p>Optional</p></td><td align="left" valign="top"><p>All Methods</p></td><td align="left" valign="top"><p>Only supports user to user transfers on the same node</p></td></tr><tr><td align="left" valign="top"><p><a class="ulink" href="http://uddi.org/pubs/ProgrammersAPI-V2.04-Published-20020719.htm#_Toc25137711">UDDIv2 Inquiry</a></p></td><td align="left" valign="top"><p>Required</p></td><td align="left" valign="top"><p>BETA</p></td><td align="left" valign="top"><p>Supported via API translator</p></td></tr><tr><td align="left" valign="top"><p><a class="ulink" href="http://uddi.org/pubs/ProgrammersAPI-V2.04-Published-20020719.htm#_Toc25137722">UDDIv2 Publish</a></p></td><td align="left" valign="top"><p>Required</p></td><td align="left" valign="top"><p>BETA</p></td><td align="left" valign="top"><p>Supported via API translator</p></td></tr></tbody></table>
</div></div><br class="table-break"/>

<p>The following is a list of other features of interest that was either defined in the UDDI specifications or in technical notes.</p>
<div class="table"><a id="d5e230"/><p class="title"><strong>Table 1.2. jUDDI Features</strong></p><div class="table-contents">

  
  <table summary="jUDDI Features" border="1"><colgroup><col width="25*" class="col_1"/><col width="25*" class="col_2"/><col width="25*" class="col_3"/><col width="25*" class="col_4"/></colgroup><thead><tr><th align="left" valign="top">API</th><th align="left" valign="top">Spec</th><th align="left" valign="top">Supported</th><th align="left" valign="top">Notes</th></tr></thead><tbody><tr><td align="left" valign="top"><p>Digital Signatures</p></td><td align="left" valign="top"><p>Server req</p></td><td align="left" valign="top"><p>Full support</p></td><td align="left" valign="top"><p>Java and .NET clients and in browser signing</p></td></tr><tr><td align="left" valign="top"><p>Client side Subscription Listener</p></td><td align="left" valign="top"><p>Optional</p></td><td align="left" valign="top"><p>Full support</p></td><td align="left" valign="top"><p>Java and .NET clients</p></td></tr><tr><td align="left" valign="top"><p><a class="ulink" href="https://www.oasis-open.org/committees/uddi-spec/doc/tn/uddi-spec-tc-tn-wsdl-v2.htm">WSDL to UDDI</a></p></td><td align="left" valign="top"><p>Recommendation</p></td><td align="left" valign="top"><p>Full support</p></td><td align="left" valign="top"><p>Java, .NET clients and web GUI</p></td></tr><tr><td align="left" valign="top"><p><a class="ulink" href="https://www.oasis-open.org/committees/uddi-spec/doc/tn/uddi-spec-tc-tn-wsdl-v2.htm">WADL to UDDI</a></p></td><td align="left" valign="top"><p>Recommendation</p></td><td align="left" valign="top"><p>Full support</p></td><td align="left" valign="top"><p>Java, .NET clients and web GUI</p></td></tr><tr><td align="left" valign="top"><p><a class="ulink" href="https://www.oasis-open.org/committees/uddi-spec/doc/tn/uddi-spec-tc-tn-bpel-20040725.htm">BPEL to UDDI</a></p></td><td align="left" valign="top"><p>Recommendation</p></td><td align="left" valign="top"><p>Full support</p></td><td align="left" valign="top"><p>Java client</p></td></tr><tr><td align="left" valign="top"><p>UDDI Technical Compliance Kit</p></td><td align="left" valign="top"><p>-</p></td><td align="left" valign="top"><p>Full support</p></td><td align="left" valign="top"><p>Provides a standalone UDDI testing capability</p></td></tr><tr><td align="left" valign="top"><p>Internationalization</p></td><td align="left" valign="top"><p>Recommendation</p></td><td align="left" valign="top"><p>Yes</p></td><td align="left" valign="top"><p>Both end user interfaces (User and Admin web apps) are supported. Error messages from the server are external and can be overwritten.</p></td></tr><tr><td align="left" valign="top"><p>Registration via Annotations</p></td><td align="left" valign="top"><p>-</p></td><td align="left" valign="top"><p>Full support</p></td><td align="left" valign="top"><p>Provides automated registration of classes via Java/.NET Annotations</p></td></tr></tbody></table>
</div></div><br class="table-break"/>

<p>UDDI defines a number of <a class="ulink" href="http://uddi.org/pubs/uddi-v3.0.2-20041019.htm#_Toc85908080">sorting mechanisms</a>.</p>
<div class="table"><a id="d5e321"/><p class="title"><strong>Table 1.3. Supported Sort Orders</strong></p><div class="table-contents">

  
  <table summary="Supported Sort Orders" border="1"><colgroup><col width="25*" class="col_1"/><col width="25*" class="col_2"/><col width="25*" class="col_3"/><col width="25*" class="col_4"/></colgroup><thead><tr><th align="left" valign="top">Find Qualifier</th><th align="left" valign="top">Spec</th><th align="left" valign="top">Supported</th><th align="left" valign="top">Notes</th></tr></thead><tbody><tr><td align="left" valign="top"><p><a class="ulink" href="http://uddi.org/pubs/uddi-v3.0.2-20041019.htm#sortOrd">binarySort</a></p></td><td align="left" valign="top"><p>Required</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"> </td></tr><tr><td align="left" valign="top"><p><a class="ulink" href="http://uddi.org/pubs/uddi-v3.0.2-20041019.htm#caseInsensSort">caseInsensitiveSort</a></p></td><td align="left" valign="top"><p>Required</p></td><td align="left" valign="top"><p>party</p></td><td align="left" valign="top"><p>Only when using caseInsentitiveMatch, <a class="ulink" href="https://issues.apache.org/jira/browse/JUDDI-785">JIRA opened</a></p></td></tr><tr><td align="left" valign="top"><p><a class="ulink" href="http://uddi.org/pubs/uddi-v3.0.2-20041019.htm#_Toc85908355">caseSensitiveSort</a></p></td><td align="left" valign="top"><p>Required</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"> </td></tr><tr><td align="left" valign="top"><p><a class="ulink" href="http://uddi.org/pubs/uddi-v3.0.2-20041019.htm#_Toc85908356">sortByNameAsc</a></p></td><td align="left" valign="top"><p>Required</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"> </td></tr><tr><td align="left" valign="top"><p><a class="ulink" href="http://uddi.org/pubs/uddi-v3.0.2-20041019.htm#_Toc85908357">sortByNameDesc</a></p></td><td align="left" valign="top"><p>Required</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"> </td></tr><tr><td align="left" valign="top"><p><a class="ulink" href="http://uddi.org/pubs/uddi-v3.0.2-20041019.htm#_Toc85908358">sortByDateAsc</a></p></td><td align="left" valign="top"><p>Required</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"> </td></tr><tr><td align="left" valign="top"><p><a class="ulink" href="http://uddi.org/pubs/uddi-v3.0.2-20041019.htm#_Toc85908359">sortByDateDesc</a></p></td><td align="left" valign="top"><p>Required</p></td><td align="left" valign="top"><p>yes</p></td><td align="left" valign="top"> </td></tr><tr><td align="left" valign="top"><p><a class="ulink" href="http://uddi.org/pubs/uddi-v3.0.2-20041019.htm#_Toc42047570">JIS-X4061</a></p></td><td align="left" valign="top"><p>Optional</p></td><td align="left" valign="top"><p>no</p></td><td align="left" valign="top"><p>Japanese Character Strings</p></td></tr></tbody></table>
</div></div><br class="table-break"/>

<p>UDDI also defines a number of <a class="ulink" href="http://uddi.org/pubs/uddi-v3.0.2-20041019.htm#_Toc85908080">Find Qualifiers</a>, which modify the default search behavior of the <a class="ulink" href="http://uddi.org/pubs/uddi-v3.0.2-20041019.htm#_Toc85908076">Inquiry</a> Find* APIs.</p>
<div class="table"><a id="d5e413"/><p class="title"><strong>Table 1.4. Supported Find Qualifiers</strong></p><div class="table-contents">

  
  <table summary="Supported Find Qualifiers" border="1"><colgroup><col width="33*" class="col_1"/><col width="33*" class="col_2"/><col width="33*" class="col_3"/></colgroup><thead><tr><th align="left" valign="top">Find Qualifier</th><th align="left" valign="top">Spec</th><th align="left" valign="top">Supported</th></tr></thead><tbody><tr><td align="left" valign="top"><p><a class="ulink" href="http://uddi.org/pubs/uddi-v3.0.2-20041019.htm#_Toc85908360">andAllKeys</a></p></td><td align="left" valign="top"><p>Required</p></td><td align="left" valign="top"><p>yes</p></td></tr><tr><td align="left" valign="top"><p><a class="ulink" href="http://uddi.org/pubs/uddi-v3.0.2-20041019.htm#_Toc85908346">approximateMatch</a></p></td><td align="left" valign="top"><p>Required</p></td><td align="left" valign="top"><p>yes</p></td></tr><tr><td align="left" valign="top"><p><a class="ulink" href="http://uddi.org/pubs/uddi-v3.0.2-20041019.htm#_Toc85908365">bindingSubset</a></p></td><td align="left" valign="top"><p>Required</p></td><td align="left" valign="top"><p>yes</p></td></tr><tr><td align="left" valign="top"><p><a class="ulink" href="http://uddi.org/pubs/uddi-v3.0.2-20041019.htm#_Toc85908348">caseInsensitiveMatch</a></p></td><td align="left" valign="top"><p>Required</p></td><td align="left" valign="top"><p>yes</p></td></tr><tr><td align="left" valign="top"><p><a class="ulink" href="http://uddi.org/pubs/uddi-v3.0.2-20041019.htm#_Toc85908349">caseSensitiveMatch</a></p></td><td align="left" valign="top"><p>Required</p></td><td align="left" valign="top"><p>yes</p></td></tr><tr><td align="left" valign="top"><p><a class="ulink" href="http://uddi.org/pubs/uddi-v3.0.2-20041019.htm#_Toc85908363">combineCategoryBags</a></p></td><td align="left" valign="top"><p>Required</p></td><td align="left" valign="top"><p>yes</p></td></tr><tr><td align="left" valign="top"><p><a class="ulink" href="http://uddi.org/pubs/uddi-v3.0.2-20041019.htm#_Toc85908350">diacriticInsensitiveMatch</a></p></td><td align="left" valign="top"><p>Optional</p></td><td align="left" valign="top"><p>yes</p></td></tr><tr><td align="left" valign="top"><p><a class="ulink" href="http://uddi.org/pubs/uddi-v3.0.2-20041019.htm#_Toc85908351">diacriticSensitiveMatch</a></p></td><td align="left" valign="top"><p>Required</p></td><td align="left" valign="top"><p>yes</p></td></tr><tr><td align="left" valign="top"><p><a class="ulink" href="http://uddi.org/pubs/uddi-v3.0.2-20041019.htm#_Toc85908347">exactMatch</a></p></td><td align="left" valign="top"><p>Required</p></td><td align="left" valign="top"><p>yes</p></td></tr><tr><td align="left" valign="top"><p><a class="ulink" href="http://uddi.org/pubs/uddi-v3.0.2-20041019.htm#_Toc85908367">signaturePresent</a></p></td><td align="left" valign="top"><p>Required</p></td><td align="left" valign="top"><p>yes</p></td></tr><tr><td align="left" valign="top"><p><a class="ulink" href="http://uddi.org/pubs/uddi-v3.0.2-20041019.htm#_Toc85908361">orAllKeys</a></p></td><td align="left" valign="top"><p>Required</p></td><td align="left" valign="top"><p>yes</p></td></tr><tr><td align="left" valign="top"><p><a class="ulink" href="http://uddi.org/pubs/uddi-v3.0.2-20041019.htm#_Toc85908362">orLikeKeys</a></p></td><td align="left" valign="top"><p>Required</p></td><td align="left" valign="top"><p>yes</p></td></tr><tr><td align="left" valign="top"><p><a class="ulink" href="http://uddi.org/pubs/uddi-v3.0.2-20041019.htm#_Toc85908364">serviceSubset</a></p></td><td align="left" valign="top"><p>Required</p></td><td align="left" valign="top"><p>yes</p></td></tr><tr><td align="left" valign="top"><p><a class="ulink" href="http://uddi.org/pubs/uddi-v3.0.2-20041019.htm#_Toc85908366">suppressProjectedServices</a></p></td><td align="left" valign="top"><p>Required</p></td><td align="left" valign="top"><p>yes</p></td></tr></tbody></table>
</div></div><br class="table-break"/>

</div>
</div>
<div class="chapter" title="Chapter 2. Getting Started"><div class="titlepage"><div><div><h2 class="title"><a id="chapter-GettingStarted"/>Chapter 2. Getting Started</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#_prerequisites">2.1. Prerequisites</a></span></dt><dt><span class="section"><a href="#_what_should_i_download">2.2. What should I Download?</a></span></dt><dt><span class="section"><a href="#_running_juddi">2.3. Running jUDDI</a></span></dt><dt><span class="section"><a href="#_using_the_juddi_administrative_interface">2.4. Using the jUDDI Administrative Interface</a></span></dt><dt><span class="section"><a href="#_using_juddi_web_services">2.5. Using jUDDI Web Services</a></span></dt><dt><span class="section"><a href="#_using_juddi_gui_to_create_your_keygenerator_and_business">2.6. Using jUDDI GUI to create your keygenerator and business</a></span></dt><dt><span class="section"><a href="#_running_the_demos_in_the_disto">2.7. Running the demos in the disto</a></span></dt><dt><span class="section"><a href="#_examples_on_the_juddi_blog">2.8. Examples on the jUDDI blog</a></span></dt><dt><span class="section"><a href="#_what_is_new_in_juddi_3_2">2.9. What is new in jUDDI 3.2?</a></span></dt></dl></div>

<p>The jUDDI project is an open source implementation of the UDDI specification. The registry implementation is a WebArchive (war) <span class="emphasis"><em>juddiv3.war</em></span>  which is deployable to any JEE container. The application exposes a WebService API which can be accessed using any generic SOAP client, the <span class="emphasis"><em>juddi-gui</em></span> or, if you are looking to integrate the UDDI api in your application, the Java or .NET version of the <span class="emphasis"><em>juddi-client</em></span>.</p>
<div class="section" title="2.1. Prerequisites"><div class="titlepage"><div><div><h2 class="title"><a id="_prerequisites"/>2.1. Prerequisites</h2></div></div></div>

<p>jUDDI is written in Java and minimally requires</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
JDK1.6+, although jUDDI should run on JDK1.6, please use the latest JDK if possible
</li></ul></div>

<p>optionally</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
Maven 3.0.3+ if you want to run the examples
</li><li class="listitem">
A Relation Database, to replace Derby
</li></ul></div>

<p>The versions mentioned above are minimal versions and it is recommended to use the latest version available. By default jUDDI ships and uses a <span class="emphasis"><em>Derby</em></span> database. After evaluation you probably want to move to a more full featured database.</p>
</div>
<div class="section" title="2.2. What should I Download?"><div class="titlepage"><div><div><h2 class="title"><a id="_what_should_i_download"/>2.2. What should I Download?</h2></div></div></div>

<p>At the jUDDI download page <a class="ulink" href="http://juddi.apache.org/releases.html">http://juddi.apache.org/releases.html</a>, you have the chioce of two distributions; the <span class="emphasis"><em>juddi-client</em></span> distro or the juddi-distro, where the latter includes both client and server. Each distribution contains signed binaries, source, examples and documentation. It you are not sure which distribution to download, then take the <span class="emphasis"><em>juddi-distro</em></span> since it contains everything which is by far the easiest way to get going.</p>
</div>
<div class="section" title="2.3. Running jUDDI"><div class="titlepage"><div><div><h2 class="title"><a id="_running_juddi"/>2.3. Running jUDDI</h2></div></div></div>

<p>After downloading and unpacking of the <span class="emphasis"><em>juddi-distro</em></span>, you can start the preconfigured tomcat server by going into the <span class="emphasis"><em>juddi-distro-&lt;version&gt;</em></span> directory and running startup</p>
<pre class="screen">$ cd apache-tomcat-&lt;version&gt;/bin
$ ./startup.sh</pre>

<p>Once the server is up and running can make sure the root data was properly installed by browsing to <a class="ulink" href="http://localhost:8080/juddiv3">http://localhost:8080/juddiv3</a></p>
<p>You should see the screen show in <a class="xref" href="#figure-GettingStarted-Welcome" title="Figure 2.1. jUDDI welcome page">Figure 2.1, “jUDDI welcome page”</a>, the jUDDI Welcome Page.</p>
<div class="figure"><a id="figure-GettingStarted-Welcome"/><p class="title"><strong>Figure 2.1. jUDDI welcome page</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/GettingStarted-jUDDI_welcome.png" alt="Welcome to jUDDI"/></div>
</div></div><br class="figure-break"/>

<p>Before continuing please check the jUDDI instalation Status on this page and make sure it says: "jUDDI has been successfully installed!". If the page won’t load or the status is anything else please check the <span class="emphasis"><em>apache-tomcat-x.x.x/logs/juddi.log</em></span> and if you need help you can contact us via the jUDDI user mailing list. Also note that it created a <span class="emphasis"><em>root</em></span> partition, using seed data. You can modify or add to the seed, for that see <a class="xref" href="#chapter-UDDISeedData" title="Chapter 7. UDDI Seed Data">Chapter 7, <em>UDDI Seed Data</em></a>.</p>
</div>
<div class="section" title="2.4. Using the jUDDI Administrative Interface"><div class="titlepage"><div><div><h2 class="title"><a id="_using_the_juddi_administrative_interface"/>2.4. Using the jUDDI Administrative Interface</h2></div></div></div>

<p>The juddi admin console runs at <a class="ulink" href="http://localhost:8080/juddiv3/admin">http://localhost:8080/juddiv3/admin</a> and requires a login with the role of uddiadmin via the basic authentication popup dialog box. Check the <span class="emphasis"><em>apache-tomcat-x.x.x/conf/tomcat-users.conf</em></span> file for the password of the <span class="emphasis"><em>uddiadmin</em></span> user. Please change the password before going live.</p>
<div class="figure"><a id="figure--GettingStarted-Admin"/><p class="title"><strong>Figure 2.2. jUDDI admin</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/GettingStarted-jUDDI_admin.png" alt="jUDDI Admin"/></div>
</div></div><br class="figure-break"/>

<p>By popular demand we brought back the happy jUDDI!' page. Just click on <span class="emphasis"><em>Status and Statistics</em></span> page. By default we run on CXF, so it is normal if says the AxisServlet is not found. There should be no other red on this page.</p>
<div class="figure"><a id="figure-GettingStarted-HappyjUDDI"/><p class="title"><strong>Figure 2.3. Happy jUDDI.</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/GettingStarted-happy_juddi.png" alt="Happy jUDDI!"/></div>
</div></div><br class="figure-break"/>

<p>By default jUDDI ships with 2 publishers: <span class="emphasis"><em>root</em></span> and <span class="emphasis"><em>uddi</em></span>. Root is the owner of the repository, while the <span class="emphasis"><em>uddi</em></span> user is the owner of all the default tmodels and categorizations. Please use the <span class="emphasis"><em>root</em></span> user to log into the form login in the admin console.</p>
<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Important</h2>
<p>Please use the <span class="emphasis"><em>root</em></span> user to log into the form login in the admin console.</p>
</div>

<div class="figure"><a id="figure-GettingStarted-FormLogin"/><p class="title"><strong>Figure 2.4. Form login</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/GettingStarted-form_login.png" alt="Form Login"/></div>
</div></div><br class="figure-break"/>

<p>You will now be able to do more then simple browsing. Navigate to the Administration and select <span class="emphasis"><em>save_publisher</em></span> from the dropdown. This will allow you to add your own publisher.</p>
<div class="figure"><a id="figure-GettingStarted-AddPublisher"/><p class="title"><strong>Figure 2.5. Add Publisher</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/GettingStarted-add_publisher.png" alt="Add Publisher"/></div>
</div></div><br class="figure-break"/>

</div>
<div class="section" title="2.5. Using jUDDI Web Services"><div class="titlepage"><div><div><h2 class="title"><a id="_using_juddi_web_services"/>2.5. Using jUDDI Web Services</h2></div></div></div>

<p>OK now that we have verified that jUDDI is good to go we can inspect the UDDI WebService API by browsing to <a class="ulink" href="http://localhost:8080/juddiv3/services">http://localhost:8080/juddiv3/services</a></p>
<p>You should see an overview of all the SOAP Services and their WSDLs.</p>
<div class="figure"><a id="figure-GettingStarted-jUDDIServices"/><p class="title"><strong>Figure 2.6. jUDDI Services</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/GettingStarted-juddi_services.png" alt="jUDDI Services"/></div>
</div></div><br class="figure-break"/>

<p>The services page shows you the available endpoints and methods available. Using any SOAP client, you should be able to import the wsdls into a tool like SoapUI as shown in <a class="xref" href="#figure-GettingStarted-SoapUI" title="Figure 2.7. Getting an authToken using SoapUI">Figure 2.7, “Getting an authToken using SoapUI”</a> and send some sample requests to jUDDI to test:</p>
<div class="figure"><a id="figure-GettingStarted-SoapUI"/><p class="title"><strong>Figure 2.7. Getting an authToken using SoapUI</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/GettingStarted-authToken_SoapUI.png" alt="Getting an authToken using SoapUI"/></div>
</div></div><br class="figure-break"/>

<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2>
<p>Try obtaining an authToken for the publisher you created earlier.</p>
</div>

</div>
<div class="section" title="2.6. Using jUDDI GUI to create your keygenerator and business"><div class="titlepage"><div><div><h2 class="title"><a id="_using_juddi_gui_to_create_your_keygenerator_and_business"/>2.6. Using jUDDI GUI to create your keygenerator and business</h2></div></div></div>

<p>Navigate to <a class="ulink" href="http://localhost:8080/juddi-gui/">http://localhost:8080/juddi-gui/</a> to get to the jUDDI-GUI. Please use the Form Login and use the credentials of the publisher you created above. You can browse around, but really the first thing that needs to be done is to create a Key Generator or Partition at <a class="ulink" href="http://localhost:8080/juddi-gui/tmodelPartitions.jsp">http://localhost:8080/juddi-gui/tmodelPartitions.jsp</a>. A Key Generator is needed to save human readable, universally unique UDDIv3 keys. Please read more about UDDI v3 formatted keys, but the short story is that UDDI v3 keys are formatted like: <span class="emphasis"><em>uddi:&lt;domain&gt;:name</em></span>. For example, if you wanted a tModel defined as "uddi:www.mycompany.com:serviceauthenticationmethod", you would first have to create a tModel key generator with value "uddi:www.mycompany.com:keygenerator".</p>
<div class="figure"><a id="figure-GettingStarted-CreateKeygenerator"/><p class="title"><strong>Figure 2.8. Create Key Generator</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/GettingStarted-create_keygenerator.png" alt="Create Key Generator"/></div>
</div></div><br class="figure-break"/>

<p>Next create your business using the key generator format you just registered. For example in <a class="xref" href="#figure-GettingStarted-CreateBusiness" title="Figure 2.9. Create Business">Figure 2.9, “Create Business”</a> we use a businessKey of <span class="emphasis"><em>uddi:www.mycompany.com:mybusiness</em></span>.</p>
<div class="figure"><a id="figure-GettingStarted-CreateBusiness"/><p class="title"><strong>Figure 2.9. Create Business</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/GettingStarted-create_business.png" alt="Create Business"/></div>
</div></div><br class="figure-break"/>

<p>See the Client and GUI Guide <a class="xref" href="#stam-oree">[stam-oree]</a> for more details on how to use the GUI.</p>
</div>
<div class="section" title="2.7. Running the demos in the disto"><div class="titlepage"><div><div><h2 class="title"><a id="_running_the_demos_in_the_disto"/>2.7. Running the demos in the disto</h2></div></div></div>

<p>The jUDDI distribution ships with a lot of demos to get yourself more familiarized with the features of jUDDI. You are encouraged to go over the demos and follow the instructions in the README files. To ensure the demos work they use the root publisher. In practice you should not be using the root publisher for this, but rather your own publisher you created above. To reference your own publisher simply update the uddi.xml file in each demo. For more details on running the demos see the Client and GUI Guide <a class="xref" href="#stam-oree">[stam-oree]</a>.</p>
</div>
<div class="section" title="2.8. Examples on the jUDDI blog"><div class="titlepage"><div><div><h2 class="title"><a id="_examples_on_the_juddi_blog"/>2.8. Examples on the jUDDI blog</h2></div></div></div>

<p>The jUDDI blog at <a class="ulink" href="http://apachejuddi.blogspot.com/">http://apachejuddi.blogspot.com/</a> has examples as well as screencasts. This can be a useful resource to learn about some new feature or to simply get started.</p>
</div>
<div class="section" title="2.9. What is new in jUDDI 3.2?"><div class="titlepage"><div><div><h2 class="title"><a id="_what_is_new_in_juddi_3_2"/>2.9. What is new in jUDDI 3.2?</h2></div></div></div>

<p>Here’s the change log for version 3.2</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
A new end user interface based on Twitter’s Bootstrap
</li><li class="listitem">
A new administrative user interface based on Twitter’s Bootstrap with in browser monitoring
</li><li class="listitem">
A client side subscription callback API
</li><li class="listitem">
Client distribution package
</li><li class="listitem">
Many more examples
</li><li class="listitem">
WADL to UDDI mappings
</li><li class="listitem">
All credentials are now encryptable with command line tools
</li><li class="listitem">
Removal of the porlet services
</li><li class="listitem">
Deployment templates for Jboss EAP 6+
</li><li class="listitem">
Client side digital signature support
</li><li class="listitem">
REST style interface for Inquiry API
</li><li class="listitem">
Added many more tModels to the base install
</li><li class="listitem">
More documentation
</li></ul></div>

</div>
</div>
<div class="chapter" title="Chapter 3. jUDDI Architecture"><div class="titlepage"><div><div><h2 class="title"><a id="chapter-jUDDIArchitecture"/>Chapter 3. jUDDI Architecture</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#_juddi_server">3.1. jUDDI Server</a></span></dt><dd><dl><dt><span class="section"><a href="#_uddi_api_layer_literal_uddi_ws_literal_using_jax_ws">3.1.1. UDDI API layer <code class="literal">uddi-ws</code> using JAX-WS</a></span></dt><dt><span class="section"><a href="#_core_uddi_literal_juddi_core_literal_using_jpa">3.1.2. Core UDDI <code class="literal">juddi-core</code> using JPA</a></span></dt><dt><span class="section"><a href="#_relational_databases">3.1.3. Relational Databases</a></span></dt><dt><span class="section"><a href="#_servlet_containers">3.1.4. Servlet Containers</a></span></dt></dl></dd><dt><span class="section"><a href="#_juddi_gui_literal_juddi_gui_war_literal">3.2. jUDDI GUI <code class="literal">juddi-gui.war</code></a></span></dt></dl></div>

<div class="section" title="3.1. jUDDI Server"><div class="titlepage"><div><div><h2 class="title"><a id="_juddi_server"/>3.1. jUDDI Server</h2></div></div></div>

<p>The jUDDI Architecture leverages well known frameworks to minimize the codebase we need to maintain. The API layer uses JAX-WS, while the persistence layer uses JPA. The entire server is packages as a war archive that can be deployed to different servlet containers with minimal configuration changes. The JPA layer uses JDBC to communicate to a relational database. <a class="xref" href="#figure-jUDDIArchitecture-Architecture" title="Figure 3.1. jUDDI Architecture">Figure 3.1, “jUDDI Architecture”</a> shows the different components, where the implementation providers marked with a blue dot are the implementations we use by default.</p>
<div class="figure"><a id="figure-jUDDIArchitecture-Architecture"/><p class="title"><strong>Figure 3.1. jUDDI Architecture</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/jUDDIArchitecture_server.png" alt="jUDDI Architecture Diagram"/></div>
</div></div><br class="figure-break"/>

<div class="section" title="3.1.1. UDDI API layer uddi-ws using JAX-WS"><div class="titlepage"><div><div><h3 class="title"><a id="_uddi_api_layer_literal_uddi_ws_literal_using_jax_ws"/>3.1.1. UDDI API layer <code class="literal">uddi-ws</code> using JAX-WS</h3></div></div></div>

<p>The API layer is generated from the WSDL files provided with the UDDI specification. Since the 3.2 release we support both the UDDIv2 as well as the UDDIv3 API.  The <code class="literal">uddi-ws</code> components leverages <code class="literal">JAX-WS</code> annotations to bring up the UDDIv2 and v3 Endpoints.  In addition to these two sets of SOAP based services, we also support a REST based API. The REST based API is a subset of the SOAP API. The  default JAX-WS implemention used is Apache CXF, but we also offer scripted deployments for JBossWS and Axis2. Each WebService stack relies on the web.xml as well as vendor specific configuration files. For example, CXF uses a beans.xml file in the WEB-INF directory. For more details on this see  <a class="xref" href="#">???</a>.</p>
<p>The <code class="literal">juddi-client.jar</code> can be used on the client side to communicate with the API layer. The juddi-client can be configured to use either SOAP, RMI or and inVM protocol, where the inVM protocol is the most performant. For more details on the juddi-client configuration options see the Client Guide <a class="xref" href="#stam-oree">[stam-oree]</a>.</p>
</div>
<div class="section" title="3.1.2. Core UDDI juddi-core using JPA"><div class="titlepage"><div><div><h3 class="title"><a id="_core_uddi_literal_juddi_core_literal_using_jpa"/>3.1.2. Core UDDI <code class="literal">juddi-core</code> using JPA</h3></div></div></div>

<p>The jUDDI server logic is packaged in the <code class="literal">juddi-core.jar</code>. It implements all of the server side behavior defined in the UDDI specification. For persistence it uses the Java Peristence Api (JPA). The default JPA implemenation used is OpenJPA, but Hibernate is supported as well. The configuration for JPA implementations lives in the <code class="literal">WEB-INF/classes/META-INF/persistence.xml</code> file. This file also references the datasource that is used to connect to the datasource.</p>
<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Important</h2>
<p>It is important to note that there are two JARs provided through maven. If you will be using Hibernate, please use the juddi-core JAR, if you are using OpenJPA, use juddi-core-openjpa.</p>
</div>

<p>The difference between these JARs is that the persistence classes within juddi-core-openjpa have been enhanced (<a class="ulink" href="http://people.apache.org/~mprudhom/openjpa/site/openjpa-project/manual/ref_guide_pc_enhance.html">http://people.apache.org/~mprudhom/openjpa/site/openjpa-project/manual/ref_guide_pc_enhance.html</a>). Unfortunately, the Hibernate classloader does not deal well with these enhanced classes, so it it important to note not to use the juddi-core-openjpa JAR with Hibernate.</p>
</div>
<div class="section" title="3.1.3. Relational Databases"><div class="titlepage"><div><div><h3 class="title"><a id="_relational_databases"/>3.1.3. Relational Databases</h3></div></div></div>

<p>By default we ship jUDDI preconfigured with a Java based Database called <code class="literal">Derby</code>. This database persists to the local file system, typically from where the application was started.</p>
<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Note</h2>
<p>To switch databases, you need to change the JDBC driver configuration in the datasource as well as the database dialect setting in the persistence.xml.</p>
</div>

<p>For details on switching database see the <a class="xref" href="#ConfiguringDatabaseConnections" title="4.3. Configuration Database Connections">Section 4.3, “Configuration Database Connections”</a>.</p>
</div>
<div class="section" title="3.1.4. Servlet Containers"><div class="titlepage"><div><div><h3 class="title"><a id="_servlet_containers"/>3.1.4. Servlet Containers</h3></div></div></div>

<p>The jUDDI server is packaged up a WebArchive (<code class="literal">juddiv3.war</code>). This war archive can be deployed to different servlet containers with minimal configuration changes. By default we ship on Apache Tomcat but we also have scripted deployment support for GlassFish and JBoss.</p>
<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2>
<p>Most open source EE6 containers (JBoss, Geronimo, Glassfish) ship with jUDDI preconfigured to pass the JAXR tests in the TCK.</p>
</div>

<p>When switching containers you may need to use different configuration to create a datasource. Some containers already package up a WebServices stack which can be used instead of the CXF packages up in juddiv3.war/WEB-INF/lib. In that case the number of dependent jars in the <code class="literal">juddiv3.war</code> can be reduced significantly. For details on switching containers see the <a class="xref" href="#chapter-HowToDeployjUDDITo" title="Chapter 8. How to deploy jUDDI To?">Chapter 8, <em>How to deploy jUDDI To?</em></a>.</p>
</div>
</div>
<div class="section" title="3.2. jUDDI GUI juddi-gui.war"><div class="titlepage"><div><div><h2 class="title"><a id="_juddi_gui_literal_juddi_gui_war_literal"/>3.2. jUDDI GUI <code class="literal">juddi-gui.war</code></h2></div></div></div>

<p>The jUDDI GUI is also a Web Archive that is deployed along side the <code class="literal">juddiv3</code> server in the same servlet container. The GUI uses the <code class="literal">juddi-client</code> to communicate to the UDDI API Endpoints. It can use a SOAP, RMI or an inVM transport protocol, so the GUI can be deployed in a different location then the server as long as it can connect to the UDDI SOAP API.</p>
<div class="figure"><a id="figure-jUDDIArchitecture-ClientGui"/><p class="title"><strong>Figure 3.2. jUDDI Client and Console Architecture</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/jUDDIArchitecture_clientAndGui.png" alt="jUDDI Client and GUI Diagram"/></div>
</div></div><br class="figure-break"/>

<p><a class="xref" href="#figure-jUDDIArchitecture-ClientGui" title="Figure 3.2. jUDDI Client and Console Architecture">Figure 3.2, “jUDDI Client and Console Architecture”</a> shows the admin console and the juddi-gui. Typically one one run the admin console behind a firewall. The admin console interacts over a jUDDI WS API and, among other things, it can be used to create and delete publishers.</p>
<p>The <code class="literal">juddi-gui</code> can be configured to connect to any UDDIv2 or UDDIv3 compliant UDDI server.</p>
<div class="figure"><a id="figure-jUDDIArchitecture-Gui"/><p class="title"><strong>Figure 3.3. jUDDI Console Architecture</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/jUDDIArchitecture_Gui.png" alt="jUDDI GUI Diagram"/></div>
</div></div><br class="figure-break"/>

<p>You may have a jUDDI v3 Server for each type of environment (Dev, QA and Prod) and you would only need one console to connect to each one of them.</p>
<p>For details on using the GUI see the Client and GUI Guide <a class="xref" href="#stam-oree">[stam-oree]</a>.</p>
</div>
</div>
<div class="chapter" title="Chapter 4. Administration"><div class="titlepage"><div><div><h2 class="title"><a id="chapter-Administration"/>Chapter 4. Administration</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#_changing_the_web_server_listen_port">4.1. Changing the Web Server Listen Port</a></span></dt><dt><span class="section"><a href="#_administering_users_and_access_control">4.2. Administering Users and Access Control</a></span></dt><dd><dl><dt><span class="section"><a href="#_administrative_users">4.2.1. Administrative Users</a></span></dt><dt><span class="section"><a href="#_end_users">4.2.2. End Users</a></span></dt></dl></dd><dt><span class="section"><a href="#ConfiguringDatabaseConnections">4.3. Configuration Database Connections</a></span></dt><dd><dl><dt><span class="section"><a href="#_derby_out_of_the_box">4.3.1. Derby Out-of-the-Box</a></span></dt><dt><span class="section"><a href="#_switching_to_another_database">4.3.2. Switching to another Database</a></span></dt><dt><span class="section"><a href="#_switch_to_mysql_on_tomcat_using_openjpa">4.3.3. Switch to MySQL on Tomcat using OpenJPA</a></span></dt><dt><span class="section"><a href="#_switch_to_postgres_on_tomcat_using_openjpa">4.3.4. Switch to Postgres on Tomcat using OpenJPA</a></span></dt><dt><span class="section"><a href="#_switch_to_postgres_on_jboss_using_hibernate">4.3.5. Switch to Postgres on JBoss using Hibernate</a></span></dt><dt><span class="section"><a href="#_switch_to_oracle_on_tomcat_using_hibernate">4.3.6. Switch to Oracle on Tomcat using Hibernate</a></span></dt><dt><span class="section"><a href="#_switch_to_hsql_on_tomcat_using_hibernate">4.3.7. Switch to HSQL on Tomcat using Hibernate</a></span></dt><dt><span class="section"><a href="#_switch_to_other_db">4.3.8. Switch to other db</a></span></dt><dt><span class="section"><a href="#_override_persistence_properties_in_the_juddiv3_xml">4.3.9. Override persistence properties in the juddiv3.xml</a></span></dt></dl></dd><dt><span class="section"><a href="#_logging">4.4. Logging</a></span></dt><dt><span class="section"><a href="#_administering_the_gui_juddi_gui_war">4.5. Administering the GUI (juddi-gui.war)</a></span></dt><dt><span class="section"><a href="#_task_signing_the_digital_signature_applet_jar_file">4.6. Task: Signing the Digital Signature Applet jar file</a></span></dt><dt><span class="section"><a href="#_administrating_your_juddi_instance_using_the_administrative_console">4.7. Administrating your jUDDI Instance using the Administrative Console</a></span></dt><dt><span class="section"><a href="#_configure_juddi">4.8. Configure jUDDI</a></span></dt><dd><dl><dt><span class="section"><a href="#_enabling_remote_access">4.8.1. Enabling Remote Access</a></span></dt></dl></dd><dt><span class="section"><a href="#_monitoring_the_status_and_statistics">4.9. Monitoring the Status and Statistics</a></span></dt><dd><dl><dt><span class="section"><a href="#_statistics">4.9.1. Statistics</a></span></dt><dt><span class="section"><a href="#_status">4.9.2. Status</a></span></dt></dl></dd><dt><span class="section"><a href="#_accessing_the_juddiv3_api">4.10. Accessing the jUDDIv3 API</a></span></dt><dt><span class="section"><a href="#_security_guidance">4.11. Security Guidance</a></span></dt><dd><dl><dt><span class="section"><a href="#_juddi_server_2">4.11.1. jUDDI Server</a></span></dt><dt><span class="section"><a href="#_juddi_client_and_developers">4.11.2. jUDDI Client (and developers)</a></span></dt><dt><span class="section"><a href="#_juddi_gui_web_user_interface">4.11.3. jUDDI GUI (Web user interface)</a></span></dt></dl></dd><dt><span class="section"><a href="#_backups_upgrading_and_data_migration">4.12. Backups, Upgrading and Data Migration</a></span></dt><dd><dl><dt><span class="section"><a href="#_database_backups">4.12.1. Database Backups</a></span></dt><dt><span class="section"><a href="#_config_backup">4.12.2. Config Backup</a></span></dt></dl></dd><dt><span class="section"><a href="#_upgrading_juddi">4.13. Upgrading jUDDI</a></span></dt><dt><span class="section"><a href="#_scaling_juddi_and_federation">4.14. Scaling jUDDI and Federation</a></span></dt><dd><dl><dt><span class="section"><a href="#_scaling_the_juddi_services_multiple_servers">4.14.1. Scaling the jUDDI Services (multiple servers)</a></span></dt><dt><span class="section"><a href="#_limitations_of_juddi">4.14.2. Limitations of jUDDI</a></span></dt></dl></dd></dl></div>

<div class="section" title="4.1. Changing the Web Server Listen Port"><div class="titlepage"><div><div><h2 class="title"><a id="_changing_the_web_server_listen_port"/>4.1. Changing the Web Server Listen Port</h2></div></div></div>

<p>If you want to change the port Tomcat listens on to something non-standard (something other than 8080), use the following guidance.</p>
<p>jUDDI Server (Tomcat) - This assumes you are using the jUDDI server bundled with Apache Tomcat. For other application servers, consult their documentation, however the juddiv3.xml must still be altered.</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
Edit <code class="literal">conf/server.xml</code> and change the port within the &lt;Connector&gt; element.
</li><li class="listitem">
Edit <code class="literal">webapps/juddiv3/WEB-INF/classes/juddiv3.xml</code> and change the port number jUDDI Server Baseurl.
</li><li class="listitem">
Edit <code class="literal">webapps/juddiv3/WEB-INF/config.properties</code> and change the port numbers for "securityurl" and "juddipapi".
</li><li class="listitem">
Edit <code class="literal">webapps/juddi-gui/META-INF/config.properties</code> and change the port numbers for all of the URLs listed.
</li></ul></div>

<p>If these changes are made before jUDDI has been started for the first time, then no further action is required. If jUDDI has been previously started, you’ll need to either A) update the URL information for the Node’s root business entity URLs or B) turn on "Seed Always" in the juddiv3.xml file to auto update the changes.</p>
</div>
<div class="section" title="4.2. Administering Users and Access Control"><div class="titlepage"><div><div><h2 class="title"><a id="_administering_users_and_access_control"/>4.2. Administering Users and Access Control</h2></div></div></div>

<p>As of version 3.2, jUDDI Authentication is handled from two perspectives, administrator and end user access.</p>
<div class="section" title="4.2.1. Administrative Users"><div class="titlepage"><div><div><h3 class="title"><a id="_administrative_users"/>4.2.1. Administrative Users</h3></div></div></div>

<p>Administrative users have special access to juddi-gui’s remote configuration page at <a class="ulink" href="http://localhost:8080/juddi-gui/settings.jsp">http://localhost:8080/juddi-gui/settings.jsp</a> and to the Administrative Console at <a class="ulink" href="http://localhost:8080/juddiv3/admin">http://localhost:8080/juddiv3/admin</a>. Access to both of these is configured at the container level (i.e. Jboss, Tomcat, etc). By default, users that need to access these pages need to have the "uddiadmin" role (which is defined in the WEB-INF/web.xml of both web application archives). When you are running on tomcat this configuration can be found in the <code class="literal">&lt;tomcat&gt;/conf/tomcat-users.conf</code> file.</p>
</div>
<div class="section" title="4.2.2. End Users"><div class="titlepage"><div><div><h3 class="title"><a id="_end_users"/>4.2.2. End Users</h3></div></div></div>

<p>End users typically will either access jUDDI’s services directly at <a class="ulink" href="http://localhost:8080/juddiv3/">http://localhost:8080/juddiv3/</a> or via the user interfaces <a class="ulink" href="http://localhost:8080/juddi-gui">http://localhost:8080/juddi-gui</a>. In both cases, authentication is handled via jUDDI’s Authentication providers which is configured in <code class="literal">juddiv3.war/WEB-INF/classes/juddiv3.xml</code>.</p>
<div class="section" title="4.2.2.1. Under the Hood"><div class="titlepage"><div><div><h4 class="title"><a id="_under_the_hood"/>4.2.2.1. Under the Hood</h4></div></div></div>

<p>In order to enforce proper write access to jUDDI, each request to jUDDI needs a valid authToken. Note that read access is not restricted (by default, but can be enabled) and therefore queries into the registries are not restricted.</p>
<p>To obtain a valid authToken a getAuthToken() request must be made, where a GetAuthToken object is passed. On the GetAuthToken object a userid and credential (password) needs to be set.</p>
<pre class="screen">org.uddi.api_v3.GetAuthToken ga = new org.uddi.api_v3.GetAuthToken();
ga.setUserID("username");
ga.setCred("password");
org.uddi.api_v3.AuthToken token = securityService.getAuthToken(ga);</pre>

<p>The property <code class="literal">juddi/auth/*</code> in the <code class="literal">juddiv3.xml</code> configuration file can be used to configure how jUDDI is going to check the credentials passed in on the GetAuthToken request. By default jUDDI uses the JUDDIAuthenticator implementation. You can provide your own authentication implementation or use any of the ones mention below. The implementation needs to implement the org.apache.juddi.auth.Authenticator interface, and <code class="literal">juddi/auth/authenticator/class</code> property should refer to the implementation class.</p>
<p>There are two phases involved in Authentication. The authenticate phase and the identify phase. Both of these phases are represented by a method in the Authenticator interface.</p>
<p>The authenticate phase occurs during the GetAuthToken request as described above. The goal of this phase is to turn a user id and credentials into a valid publisher id. The publisher id (referred to as the "authorized name" in UDDI terminology) is the value that assigns ownership within UDDI. Whenever a new entity is created, it must be tagged with ownership by the authorized name of the publisher. The value of the publisher id can be completely transparent to jUDDI - the only requirement is that one exists to assign to new entities. Thus, the authenticate phase must return a non-null publisher id. Upon completion of the GetAuthToken request, an authentication token is issued to the caller.</p>
<p>In subsequent calls to the UDDI API that require authentication, the token issued from the GetAuthToken request must be provided. This leads to the next phase of jUDDI authentication - the identify phase.</p>
<p>The identify phase is responsible for turning the authentication token (or the publisher id associated with that authentication token) into a valid UddiEntityPublisher object. The UddiEntityPublisher object contains all the properties necessary to handle ownership of UDDI entities. Thus, the token (or publisher id) is used to "identify" the publisher.</p>
<p>The two phases provide compliance with the UDDI authentication structure and grant flexibility for users that wish to provide their own authentication mechanism. Handling of credentials and publisher properties can be done entirely outside of jUDDI. However, jUDDI provides the Publisher entity, which is a sub-class of UddiEntityPublisher, to persist publisher properties within jUDDI. This is used in the default authentication and is the subject of the next section.</p>
</div>
<div class="section" title="4.2.2.2. Choosing a Cryptographic Provider"><div class="titlepage"><div><div><h4 class="title"><a id="_choosing_a_cryptographic_provider"/>4.2.2.2. Choosing a Cryptographic Provider</h4></div></div></div>

<p>jUDDI provides a number of cryptographic providers. Some of them may not be available in your region of the world due to export restrictions. All of these providers are provides that are included with the Oracle Java Runtime Environment.</p>
<div class="section" title="4.2.2.2.1. jUDDI’s Cryptographic Providers"><div class="titlepage"><div><div><h5 class="title"><a id="_juddi_s_cryptographic_providers"/>4.2.2.2.1. jUDDI’s Cryptographic Providers</h5></div></div></div>

<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2>
<p>The AES256Cryptor requires the Sun Java unlimited strength Crypograhpic Extensions to be installed. OpenJDK users are not affected by this.</p>
</div>

<p>In the following section, Authentication, a Cryptographic Provider must be selected using the following property in juddiv3.xml:</p>
<pre class="screen">juddi/cryptor</pre>

</div>
<div class="section" title="4.2.2.2.2. jUDDI Server Providers"><div class="titlepage"><div><div><h5 class="title"><a id="_juddi_server_providers"/>4.2.2.2.2. jUDDI Server Providers</h5></div></div></div>

<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
org.apache.juddi.cryptor.DefaultCryptor - Password Based Encryption With MD5 and DES
</li><li class="listitem">
org.apache.juddi.cryptor.TripleDESCrytor - Triple DES 168 bit
</li><li class="listitem">
org.apache.juddi.cryptor.AES128Cryptor - Advanced Encryption Standard 128 bit
</li><li class="listitem">
org.apache.juddi.cryptor.AES256Cryptor - Advanced Encryption Standard 256 bit
</li></ul></div>

</div>
</div>
<div class="section" title="4.2.2.3. jUDDI Client Providers (Java and .NET)"><div class="titlepage"><div><div><h4 class="title"><a id="_juddi_client_providers_java_and_net"/>4.2.2.3. jUDDI Client Providers (Java and .NET)</h4></div></div></div>

<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
org.apache.juddi.v3.client.crypto.DefaultCryptor - Password Based Encryption With MD5 and DES
</li><li class="listitem">
org.apache.juddi.v3.client.crypto.TripleDESCrytor - Triple DES 168 bit
</li><li class="listitem">
org.apache.juddi.v3.client.crypto.AES128Cryptor - Advanced Encryption Standard 128 bit
</li><li class="listitem">
org.apache.juddi.v3.client.crypto.AES256Cryptor - Advanced Encryption Standard 256 bit
</li></ul></div>

<div class="section" title="4.2.2.3.1. Encrypting a Password"><div class="titlepage"><div><div><h5 class="title"><a id="_encrypting_a_password"/>4.2.2.3.1. Encrypting a Password</h5></div></div></div>

<p>To encrypt a password, the jUDDI Tomcat server comes with a basic Windows Batch file and a Unix Bash script which will fire off the correct Java command. It is located at the following path:</p>
<pre class="screen">{tomcat_home}/bin/juddi-cryptor.bat/sh</pre>

<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2>
<p>The jUDDI-Client (Java only) uses the same encryption keys and the jUDDI Server, therefore encrypted passwords using this tool will work with the jUDDI-client’s configuration file.</p>
</div>

<p>In addition, an MD5 hashing program is included to assist with setting users passwords for the MD5XMLDocAuthenticator.</p>
<pre class="screen">{tomcat_home}/bin/juddi-md5.bat/sh</pre>

<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2>
<p>You can generate new encryption keys using this utility by specifying the System Property -Dgenerate=true option. You can then use them using the System Property -Djuddi.encryptionKeyFile.TripleDESCrytor=path/to/key</p>
</div>

</div>
</div>
<div class="section" title="4.2.2.4. jUDDI Authentication"><div class="titlepage"><div><div><h4 class="title"><a id="_juddi_authentication"/>4.2.2.4. jUDDI Authentication</h4></div></div></div>

<p>The default authentication mechanism provided by jUDDI is the JUDDIAuthenticator. The authenticate phase of the JUDDIAuthenticator simply checks to see if the user id passed in has an associated record in the Publisher table. No credentials checks are made. If, during authentication, the publisher does not exist, it the publisher is added on the fly.</p>
<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Warning</h2>
<p>Do not use jUDDI Default Authenticator in production. It does not compare passwords to anything!</p>
</div>

<p>The identify phase uses the publisher id to retrieve the Publisher record and return it. All necessary publisher properties are populated as Publisher inherits from UddiEntityPublisher.</p>
<pre class="screen">juddi/auth/authenticator/class = org.apache.juddi.auth.JUDDIAuthentication</pre>

</div>
<div class="section" title="4.2.2.5. XMLDocAuthentication"><div class="titlepage"><div><div><h4 class="title"><a id="_xmldocauthentication"/>4.2.2.5. XMLDocAuthentication</h4></div></div></div>

<p>The XMLDocAuthentication implementation needs a XML file on the classpath. The juddiv3.xml file would need to look like</p>
<pre class="screen">juddi/auth/authenticator/class = org.apache.juddi.auth.XMLDocAuthentication
juddi/auth/usersfile = juddi-users.xml</pre>

<p>where the name of the XML can be provided but it defaults to juddi-users.xml, and the content of the file would looks something like</p>
<pre class="screen">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;juddi-users&gt;
    &lt;user userid="anou_mana" password="password" /&gt;
    &lt;user userid="bozo" password="clown" /&gt;
    &lt;user userid="sviens" password="password" /&gt;
&lt;/juddi-users&gt;</pre>

<p>The authenticate phase checks that the user id and password match a value in the XML file. The identify phase simply uses the user id to populate a new UddiEntityPublisher.</p>
</div>
<div class="section" title="4.2.2.6. CryptedXMLDocAuthentication"><div class="titlepage"><div><div><h4 class="title"><a id="_cryptedxmldocauthentication"/>4.2.2.6. CryptedXMLDocAuthentication</h4></div></div></div>

<p>The CryptedXMLDocAuthentication implementation is similar to the XMLDocAuthentication implementation, but the passwords are encrypted.</p>
<pre class="screen">juddi/auth/authenticator/class = org.apache.juddi.auth.CryptedXMLDocAuthentication
juddi/auth/usersfile = juddi-users-encrypted.xml
juddi/cryptor = org.apache.juddi.cryptor.DefaultCryptor</pre>

<p>where the name user credential file is juddi-users-encrypted.xml, and the content of the file would looks something like</p>
<pre class="screen">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;juddi-users&gt;
    &lt;user userid="anou_mana" password="+j/kXkZJftwTFTBH6Cf6IQ=="/&gt;
    &lt;user userid="bozo" password="Na2Ait+2aW0="/&gt;
    &lt;user userid="sviens" password="+j/kXkZJftwTFTBH6Cf6IQ=="/&gt;
&lt;/juddi-users&gt;</pre>

<p>The DefaultCryptor implementation uses BEWithMD5AndDES and Base64 to encrypt the passwords. Note that the code in the AuthenticatorTest can be used to learn more about how to use this Authenticator implementation. You can plugin your own encryption algorithm by implementing the org.apache.juddi.cryptor.Cryptor interface and referencing your implementation class in the juddi.cryptor property.
The authenticate phase checks that the user id and password match a value in the XML file. The identify phase simply uses the user id to populate a new UddiEntityPublisher.</p>
</div>
<div class="section" title="4.2.2.7. MD5XMLDocAuthenticator"><div class="titlepage"><div><div><h4 class="title"><a id="_md5xmldocauthenticator"/>4.2.2.7. MD5XMLDocAuthenticator</h4></div></div></div>

<p>The MD5XMLDocAuthenticator implementation is similar to the XMLDocAuthentication implementation, but the passwords are hashed using MD5.</p>
<pre class="screen">juddi/auth/authenticator/class = org.apache.juddi.auth.MD5XMLDocAuthenticator
juddi/auth/usersfile = juddi-users-hashed.xml
juddi/cryptor = org.apache.juddi.cryptor.DefaultCryptor</pre>

<p>where the name user credential file is juddi-users-encrypted.xml, and the content of the file would looks something like</p>
<pre class="screen">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;juddi-users&gt;
    &lt;user userid="anou_mana" password="+j/kXkZJftwTFTBH6Cf6IQ=="/&gt;
    &lt;user userid="bozo" password="Na2Ait+2aW0="/&gt;
    &lt;user userid="sviens" password="+j/kXkZJftwTFTBH6Cf6IQ=="/&gt;
&lt;/juddi-users&gt;</pre>

<p>The DefaultCryptor implementation uses BEWithMD5AndDES and Base64 to encrypt the passwords. Note that the code in the AuthenticatorTest can be used to learn more about how to use this Authenticator implementation. You can plugin your own encryption algorithm by implementing the org.apache.juddi.cryptor.Cryptor interface and referencing your implementation class in the juddi.cryptor property.
The authenticate phase checks that the user id and password match a value in the XML file. The identify phase simply uses the user id to populate a new UddiEntityPublisher.</p>
</div>
<div class="section" title="4.2.2.8. LDAP Authentication"><div class="titlepage"><div><div><h4 class="title"><a id="_ldap_authentication"/>4.2.2.8. LDAP Authentication</h4></div></div></div>

<p>LdapSimpleAuthenticator provides a way of authenticating users using LDAP simple authentication. It is fairly rudimentary and more LDAP integration is planned in the future, but this class allows you to authenticate a user based on an LDAP prinicipal, provided that the principal (usually the distinguished name) and the juddi publisher ID are the same.</p>
<p>To use this class you must add the following properties to the juddi3v.xml file:</p>
<pre class="screen">juddi/auth/authenticator/class=org.apache.juddi.auth.LdapSimpleAuthenticator
juddi/auth/authenticator/url=ldap://localhost:389
juddi/auth/authenticator/style=simple</pre>

<p>The juddi/authenticator/url property configures the LdapSimpleAuthenticator class so that it knows where the LDAP server resides. Future work is planned in this area to use the LDAP uid rather than the LDAP principal as the default publisher id.</p>
<p>LdapExpandedAuthenticator provides a slightly more flexible way to authenticate users via LDAP.</p>
<pre class="screen">juddi/auth/authenticator/class=org.apache.juddi.v3.auth.LdapSimpleAuthenticator
juddi/auth/authenticator/url=ldap://localhost:389
juddi/auth/authenticator/style=simple
juddi/auth/authenticator/ldapexp=CN=%s, OU=Users,DC=Domain, etc</pre>

</div>
<div class="section" title="4.2.2.9. JBoss Authentication"><div class="titlepage"><div><div><h4 class="title"><a id="_jboss_authentication"/>4.2.2.9. JBoss Authentication</h4></div></div></div>

<p>Is it possible to hook up to third party credential stores. If for example jUDDI is deployed to the JBoss Application server it is possible to hook up to it’s authentication machinery. The JBossAuthenticator class is provided in the docs/examples/auth directory. This class enables jUDDI deployments on JBoss use a server security domain to authenticate users.</p>
<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2>
<p>The JBoss authentication is not distributed with jUDDI. It can be found here: <a class="ulink" href="http://svn.apache.org/viewvc/juddi/extras/jbossauthenticator/src/org/apache/juddi/auth/JBossAuthenticator.java?view=markup">http://svn.apache.org/viewvc/juddi/extras/jbossauthenticator/src/org/apache/juddi/auth/JBossAuthenticator.java?view=markup</a></p>
</div>

<p>To use this class you must add the following properties to the juddiv3.xml file:</p>
<pre class="screen">juddi/auth/authenticator/class=org.apache.juddi.auth.JBossAuthenticator
juddi/auth/securityDomain=java:/jaas/other</pre>

<p>The juddi/auth/authenticator/class property plugs the JbossAuthenticator class into the jUDDI the Authenticator framework. The juddi/sercuityDomain, configures the JBossAuthenticator class where it can lookup the application server’s security domain, which it will use to perform the authentication. Note that JBoss creates one security domain for each application policy element on the <code class="literal">$JBOSS_HOME/server/default/conf/login-config.xml</code> file, which gets bound to the server JNDI tree with name java:/jaas/&lt;application-policy-name&gt;&lt;/application-policy-name&gt;. If a lookup refers to a non existent application policy it defaults to a policy named other.</p>
</div>
<div class="section" title="4.2.2.10. Container Based Authentication"><div class="titlepage"><div><div><h4 class="title"><a id="_container_based_authentication"/>4.2.2.10. Container Based Authentication</h4></div></div></div>

<p>Certain security configurations may use HTTP based authentication. In this scenario, jUDDI simply trust’s that the container will authenticate the user via some mechanism and uses that username for interactions with jUDDI.  To configure this setup, use the following configuration settings in juddiv3.xml:</p>
<pre class="screen">juddi/auth/authenticator/class=org.apache.juddi.auth.HTTPContainerAuthenticator
juddi/auth/authenticator@useAuthToken=false</pre>

<p>In addition, you’ll have to make whatever changes necessary to the juddiv3.war/WEB-INF/web.xml file in order to use the chosen authentication mechanism. See your appliation server’s documentation for details on this.</p>
</div>
<div class="section" title="4.2.2.11. Authentication by Proxy (HTTP Header)"><div class="titlepage"><div><div><h4 class="title"><a id="_authentication_by_proxy_http_header"/>4.2.2.11. Authentication by Proxy (HTTP Header)</h4></div></div></div>

<p>Certain security configurations that enforce authentication before requests come to the web application, such as via Apache HTTPD or a reverse SSL proxy. In these cases, the proxy provided authenticates the user, then passes along the user’s identity via a HTTP header. To configure this setup, use the following configuration settings in juddiv3.xml:</p>
<pre class="screen">juddi/auth/authenticator/class=org.apache.juddi.auth.HTTPHeaderAuthenticator
juddi/auth/authenticator/header=(Some HTTP Header)
juddi/auth/authenticator@useAuthToken=false</pre>

</div>
</div>
</div>
<div class="section" title="4.3. Configuration Database Connections"><div class="titlepage"><div><div><h2 class="title"><a id="ConfiguringDatabaseConnections"/>4.3. Configuration Database Connections</h2></div></div></div>

<div class="section" title="4.3.1. Derby Out-of-the-Box"><div class="titlepage"><div><div><h3 class="title"><a id="_derby_out_of_the_box"/>4.3.1. Derby Out-of-the-Box</h3></div></div></div>

<p>By default jUDDI uses an embedded Derby database. This allows us to build a  downloadable distribution that works out-of-the-box, without having to do any database setup work. We recommend switching to an enterprise-level database  before going to production. JUDDI uses the Java Persistence API (JPA) in the back  end and we’ve tested with both OpenJPA and Hibernate. To configure which JPA  provider you want to use, you will need to edit the configuration in the <span class="emphasis"><em>juddiv3.war/WEB-INF/classes/META-INF/persistence.xml</em></span>. The content of this file is pretty standard between JPA implementations, however there can be slight differences.
To make it easy we created different versions for different JPA implementations and target platforms. All JPA implementation have an enhancement phase, where the persistence <span class="emphasis"><em>model</em></span> classes are enhanced. Hibernate does this at runtime, OpenJPA prefers doing this at compile time. This is the reason we ship two versions of <span class="emphasis"><em>juddi-core</em></span>, where the <span class="emphasis"><em>juddi-core-openjpa.jar</em></span> contains classes (byte-code) enhanced by OpenJPA. This is the reason this jar is larger then the <span class="emphasis"><em>juddi-core.jar</em></span>.</p>
<p>For Hibernate, for testing the content of this file looks like</p>

<pre class="literallayout">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;persistence xmlns="http://java.sun.com/xml/ns/persistence"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/persistence
    http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd"
    version="1.0"&gt;
    &lt;persistence-unit name="juddiDatabase" transaction-type="RESOURCE_LOCAL"&gt;
        &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;
        &lt;jta-data-source&gt;java:comp/env/jdbc/JuddiDS&lt;/jta-data-source&gt;
        &lt;!-- entity classes --&gt;
        &lt;class&gt;org.apache.juddi.model.Address&lt;/class&gt;
        &lt;class&gt;org.apache.juddi.model.AddressLine&lt;/class&gt;
        ...
        &lt;class&gt;org.apache.juddi.model.UddiEntity&lt;/class&gt;
        &lt;class&gt;org.apache.juddi.model.UddiEntityPublisher&lt;/class&gt;

        &lt;properties&gt;
            &lt;property name="hibernate.archive.autodetection" value="class"/&gt;
            &lt;property name="hibernate.hbm2ddl.auto" value="update"/&gt;
            &lt;property name="hibernate.show_sql" value="false"/&gt;
            &lt;property name="hibernate.dialect" value="org.hibernate.dialect.DerbyDialect"/&gt;
        &lt;/properties&gt;
    &lt;/persistence-unit&gt;
&lt;/persistence&gt;</pre>


<p>For OpenJPA the persistence.xml looks like</p>

<pre class="literallayout">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;persistence xmlns="http://java.sun.com/xml/ns/persistence"
             xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
             xsi:schemaLocation="http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd"
             version="1.0"&gt;
  &lt;persistence-unit name="juddiDatabase" transaction-type="RESOURCE_LOCAL"&gt;
    &lt;provider&gt;org.apache.openjpa.persistence.PersistenceProviderImpl&lt;/provider&gt;
    &lt;non-jta-data-source&gt;java:comp/env/jdbc/JuddiDS&lt;/non-jta-data-source&gt;
    &lt;!-- entity classes --&gt;
    &lt;class&gt;org.apache.juddi.model.Address&lt;/class&gt;
    &lt;class&gt;org.apache.juddi.model.AddressLine&lt;/class&gt;
   ...
    &lt;class&gt;org.apache.juddi.model.UddiEntity&lt;/class&gt;
    &lt;class&gt;org.apache.juddi.model.UddiEntityPublisher&lt;/class&gt;
    &lt;properties&gt;
      &lt;property name="openjpa.jdbc.SynchronizeMappings" value="buildSchema(SchemaAction='add')"/&gt;
      &lt;property name="openjpa.Log" value="DefaultLevel=WARN, Tool=INFO"/&gt;
      &lt;property name="openjpa.jdbc.UpdateManager" value="operation-order"/&gt;
      &lt;property name="openjpa.jdbc.DBDictionary" value="derby"/&gt;
      &lt;!-- dialects: derby, postgres, mysql, oracle, sybase, sqlserver
           for a complete list check the OpenJPA documentation --&gt;
      &lt;property name="openjpa.RuntimeUnenhancedClasses" value="warn"/&gt;
      &lt;property name="openjpa.Compatibility" value="CheckDatabaseForCascadePersistToDetachedEntity=true"/&gt;
    &lt;/properties&gt;
  &lt;/persistence-unit&gt;
&lt;/persistence&gt;</pre>


<p>In this case we reference a <span class="emphasis"><em>jta-data-source</em></span> called <span class="emphasis"><em>java:comp/env/jdbc/JuddiDS</em></span>. Datasource deployment is Application Server specific. If you are using Tomcat, then the datasource is defined in <span class="emphasis"><em>juddi/META-INF/context.xml</em></span> which by default looks like</p>

<pre class="literallayout">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;Context&gt;
    &lt;WatchedResource&gt;WEB-INF/web.xml&lt;/WatchedResource&gt;
    &lt;Resource name="jdbc/JuddiDS" auth="Container"
        type="javax.sql.DataSource" username="" password=""
        driverClassName="org.apache.derby.jdbc.EmbeddedDriver"
        url="jdbc:derby:juddi-derby-test-db;create=true"
        maxActive="8"
        /&gt;
&lt;/Context&gt;</pre>


<p>By default the juddiv3.war is configured to be used on Tomcat using OpenJPA. However the download bundle lets you specify different target platforms resulting in a different setup. In all cases it will point to the embedded Derby database.</p>
</div>
<div class="section" title="4.3.2. Switching to another Database"><div class="titlepage"><div><div><h3 class="title"><a id="_switching_to_another_database"/>4.3.2. Switching to another Database</h3></div></div></div>

<p>We recommend switching to an enterprise-level database before going to production. Most JPA providers support a large number of Databases and switching to another database is achieved by updating the configuration settings in both the persistence.xml and datasource files. The recipe is:</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
change the database dialect in the persistence.xml.
</li><li class="listitem">
change the database connection information in the datasource.
</li><li class="listitem">
add the database specific driver to your classpath.
</li><li class="listitem">
in some cases (Oracle is one such case) you will need to use sequences for the ID generation, in this case you will need an <span class="emphasis"><em>orm.xml</em></span> file. We ship a <span class="emphasis"><em>orm.xml.example</em></span> along side the <span class="emphasis"><em>persistence.xml</em></span>. Rename this file and update this to your liking.
</li></ul></div>

<p>Some examples for specific databases are given below.</p>
<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Warning</h2>
<p>Tomcat copies the <span class="emphasis"><em>context.xml</em></span> to <span class="emphasis"><em>&lt;tomcat&gt;/conf/CATALINA/localhost/juddiv3.xml</em></span>, and if you update the <span class="emphasis"><em>context.xml</em></span> it may not update this copy. You should simply delete the <span class="emphasis"><em>juddiv3.xml</em></span> file after updating the <span class="emphasis"><em>context.xml</em></span>.</p>
</div>

</div>
<div class="section" title="4.3.3. Switch to MySQL on Tomcat using OpenJPA"><div class="titlepage"><div><div><h3 class="title"><a id="_switch_to_mysql_on_tomcat_using_openjpa"/>4.3.3. Switch to MySQL on Tomcat using OpenJPA</h3></div></div></div>

<p>Check if you have are using Hibernate of OpenJPA, by looking at the jars in the <span class="emphasis"><em>juddiv3.war/WEB-INF/lib</em></span>.
Edit the dialect in the <span class="emphasis"><em>persistence.xml</em></span>
For OpenJPA:</p>

<pre class="literallayout">&lt;property name="openjpa.jdbc.DBDictionary" value="mysql"/&gt;</pre>


<p>Next edit the datasource. For tomcat you need to update the <span class="emphasis"><em>juddiv3/META-INF/context.xml</em></span> which should look something like</p>

<pre class="literallayout">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;Context&gt;
    &lt;WatchedResource&gt;WEB-INF/web.xml&lt;/WatchedResource&gt;
    &lt;Resource name="jdbc/JuddiDS" auth="Container"
        type="javax.sql.DataSource" username="root" password=""
        driverClassName="com.mysql.jdbc.Driver"
        url="jdbc:mysql://localhost:3306/juddiv3"
        maxActive="8"/&gt;
&lt;/Context&gt;</pre>


<p>Finally you need to add the MySQL mysql driver (i.e. The <span class="emphasis"><em>mysql-connector-java-5.1.6.jar</em></span>) to the classpath. Note that this jar may already by in the tomcat/lib directory, in which case you can move on to the step and create the mysql juddiv3 database. To create a MySQL database name <code class="literal">juddiv3</code> use</p>
<pre class="screen">mysql&gt; create database juddiv3</pre>

<p>and finally you probably want to switch to a user which is a bit less potent then <span class="emphasis"><em>root</em></span>, and delete the <span class="emphasis"><em>&lt;tomcat&gt;/conf/CATALINA/localhost/juddiv3.xml</em></span> file.</p>
</div>
<div class="section" title="4.3.4. Switch to Postgres on Tomcat using OpenJPA"><div class="titlepage"><div><div><h3 class="title"><a id="_switch_to_postgres_on_tomcat_using_openjpa"/>4.3.4. Switch to Postgres on Tomcat using OpenJPA</h3></div></div></div>

<p>Check if you have are using Hibernate of OpenJPA, by looking at the jars in the <span class="emphasis"><em>juddiv3.war/WEB-INF/lib</em></span>.
Edit the dialect in the <span class="emphasis"><em>persistence.xml</em></span>
For OpenJPA:</p>

<pre class="literallayout">&lt;property name="openjpa.jdbc.DBDictionary" value="postgres"/&gt;</pre>


<p>Next edit the datasource. For tomcat you need to update the <span class="emphasis"><em>juddiv3/META-INF/context.xml</em></span> which should look something like</p>

<pre class="literallayout">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;Context&gt;
    &lt;WatchedResource&gt;WEB-INF/web.xml&lt;/WatchedResource&gt;
    &lt;Resource name="jdbc/JuddiDS" auth="Container"
            type="javax.sql.DataSource" username="juddi" password="juddi"
            driverClassName="org.postgresql.Driver"
            url="jdbc:postgresql://localhost:5432/juddi"
            maxActive="8"/&gt;
&lt;/Context&gt;</pre>


<p>To create a MySQL database name <span class="emphasis"><em>juddi</em></span> use</p>
<pre class="screen">postgres= CREATE USER juddi with PASSWORD 'password';
postgres= CREATE DATABASE juddi;
postgres= GRANT ALL PRIVILEGES ON DATABASE juddi to juddi;</pre>

<p>Be sure to have <span class="emphasis"><em>postgresql-8.3-604.jdbc4.jar</em></span> to the classpath. Note that this jar may already by in the tomcat/lib directory, in which case the final step is to delete the <span class="emphasis"><em>&lt;tomcat&gt;/conf/CATALINA/localhost/juddiv3.xml</em></span> file.</p>
</div>
<div class="section" title="4.3.5. Switch to Postgres on JBoss using Hibernate"><div class="titlepage"><div><div><h3 class="title"><a id="_switch_to_postgres_on_jboss_using_hibernate"/>4.3.5. Switch to Postgres on JBoss using Hibernate</h3></div></div></div>

<p>This was written from a JBoss - jUDDI perspective. Non-JBoss-users may have to tweak this a little bit, but for the most part, the files and information needed is here. Logged in as postgres user, access psql:</p>
<pre class="screen">postgres= CREATE USER juddi with PASSWORD 'password';
postgres= CREATE DATABASE juddi;
postgres= GRANT ALL PRIVILEGES ON DATABASE juddi to juddi;</pre>

<p>Note, for this example, my database is called juddi, as is the user who has full privileges to the database. The user <span class="emphasis"><em>juddi</em></span> has a password set to <span class="emphasis"><em>password</em></span>. Next edit the juddi-ds.xml datasource file with the settings for the postgres connection info:</p>

<pre class="literallayout">&lt;datasources&gt;
    &lt;local-tx-datasource&gt;
        &lt;jndi-name&gt;JuddiDS&lt;/jndi-name&gt;
        &lt;connection-url&gt;jdbc:postgresql://localhost:5432/juddi&lt;/connection-url&gt;
        &lt;driver-class&gt;org.postgresql.Driver&lt;/driver-class&gt;
        &lt;user-name&gt;juddi&lt;/user-name&gt;
        &lt;password&gt;password&lt;/password&gt;
        &lt;!-- sql to call when connection is created.  Can be anything,
        select 1 is valid for PostgreSQL
        &lt;new-connection-sql&gt;select 1&lt;/new-connection-sql&gt;
        --&gt;
        &lt;!-- sql to call on an existing pooled connection when it is obtained
        from pool.  Can be anything, select 1 is valid for PostgreSQL
        &lt;check-valid-connection-sql&gt;select 1&lt;/check-valid-connection-sql&gt;
        --&gt;
        &lt;!-- corresponding type-mapping in the standardjbosscmp-jdbc.xml --&gt;
        &lt;metadata&gt;
            &lt;type-mapping&gt;PostgreSQL 8.0&lt;/type-mapping&gt;
        &lt;/metadata&gt;
    &lt;/local-tx-datasource&gt;
&lt;/datasources&gt;</pre>


<p>In <span class="emphasis"><em>persistence.xml</em></span>, reference the correct JNDI name of the datasource and remove the derby Dialect and add in the postgresql Dialect, for Hibernate on JBoss use:</p>

<pre class="literallayout">&lt;jta-data-source&gt;java:comp/env/jdbc/JuddiDS&lt;/jta-data-source&gt;
...
&lt;property name="hibernate.dialect" value="org.hibernate.dialect.PostgreSQLDialect"/&gt;</pre>


<p>Be sure to have <span class="emphasis"><em>postgresql-8.3-604.jdbc4.jar</em></span> in the <span class="emphasis"><em>lib</em></span> folder.</p>
</div>
<div class="section" title="4.3.6. Switch to Oracle on Tomcat using Hibernate"><div class="titlepage"><div><div><h3 class="title"><a id="_switch_to_oracle_on_tomcat_using_hibernate"/>4.3.6. Switch to Oracle on Tomcat using Hibernate</h3></div></div></div>

<p>To switch over to Oracle you need to add the oracle driver (i.e. the_classes12.jar_) to the  classpath and you will need to edit the <span class="emphasis"><em>persistence.xml</em></span></p>

<pre class="literallayout">&lt;property name="hibernate.dialect" value="org.hibernate.dialect.Oracle10gDialect"/&gt;</pre>


<p>To create a Oracle database name juddiv3 with the ultimate in minimalism use</p>
<pre class="screen">sqlplus&gt; create database juddiv3;</pre>

<p>then you probably want to switch to a user which is a bit less potent then <span class="emphasis"><em>root</em></span> and set the appropriate password, and delete the <span class="emphasis"><em>&lt;tomcat&gt;/conf/CATALINA/localhost/juddiv3.xml</em></span></p>
<div class="section" title="4.3.6.1. Changing the Oracle Sequence name"><div class="titlepage"><div><div><h4 class="title"><a id="_changing_the_oracle_sequence_name"/>4.3.6.1. Changing the Oracle Sequence name</h4></div></div></div>

<p>If you are using Hibernate as a persistence layer for jUDDI, then Oracle will generate a default sequence for you ("HIBERNATE_SEQUENCE"). If you are using hibernate elsewhere, you may wish to change the sequence name so that you do not share this sequence with any other applications. If other applications try to manually create the default hibernate sequence, you may even run into situations where you find conflicts or a race condition.</p>
<p>The easiest way to handle this is to create an orm.xml file and place it within the classpath in a META-INF directory, which will override the jUDDI persistence annotations and will allow you to specify a specific sequence name for use with jUDDI. The orm.xml.example specifies a "juddi_sequence" sequence to be used with jUDDI. Rename this file and update it to your liking.</p>
</div>
</div>
<div class="section" title="4.3.7. Switch to HSQL on Tomcat using Hibernate"><div class="titlepage"><div><div><h3 class="title"><a id="_switch_to_hsql_on_tomcat_using_hibernate"/>4.3.7. Switch to HSQL on Tomcat using Hibernate</h3></div></div></div>

<p>First make sure you have a running hsqldb. For a standalone server startup use:</p>
<pre class="screen">java -cp hsqldb.jar org.hsqldb.server.Server --port 1747 --database.0 file:juddi --dbname.0 juddi</pre>

<p>Next, connect the client manager to this instance using:</p>
<pre class="screen">java -classpath hsqldb.jar org.hsqldb.util.DatabaseManagerSwing --driver org.hsqldb.jdbcDriver --url jdbc:hsqldb:hsql://localhost:1747/juddi  -user sa</pre>

<p>and create the juddi user:</p>
<pre class="screen">CREATE USER JUDDI PASSWORD "password"  ADMIN;
CREATE SCHEMA JUDDI AUTHORIZATION JUDDI;
SET DATABASE DEFAULT INITIAL SCHEMA JUDDI;
ALTER USER juddi set initial schema juddi;</pre>

<p>From now on, one can connect as JUDDI user to that database and the database is now ready to go. To switch jUDDI over to HSQL you need to add the hsql driver (i.e. The <span class="emphasis"><em>hsqldb.jar</em></span>) to the classpath and you will need to edit the <span class="emphasis"><em>persistence.xml</em></span></p>

<pre class="literallayout">&lt;property name="hibernate.dialect" value="org.hibernate.dialect.HSQLDialect"/&gt;</pre>


<p>and the datasource. For tomcat you the <span class="emphasis"><em>context.xml</em></span> should look something like</p>

<pre class="literallayout">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;Context&gt;
    &lt;WatchedResource&gt;WEB-INF/web.xml&lt;/WatchedResource&gt;
    &lt;!-- HSQL data source --&gt;
    &lt;Resource name="jdbc/JuddiDS" auth="Container"
            type="javax.sql.DataSource" username="JUDDI" password="password"
            driverClassName="org.hsqldb.jdbcDriver"
            url="jdbc:hsqldb:hsql://localhost:1747/juddi"
            maxActive="8"/&gt;
&lt;/Context&gt;</pre>


</div>
<div class="section" title="4.3.8. Switch to other db"><div class="titlepage"><div><div><h3 class="title"><a id="_switch_to_other_db"/>4.3.8. Switch to other db</h3></div></div></div>

<p>If you use another database, please document, and send us what you had to change to make it work and we will include it here.</p>
</div>
<div class="section" title="4.3.9. Override persistence properties in the juddiv3.xml"><div class="titlepage"><div><div><h3 class="title"><a id="_override_persistence_properties_in_the_juddiv3_xml"/>4.3.9. Override persistence properties in the juddiv3.xml</h3></div></div></div>

<p>The juddiv3.xml file can be externalized; if you give the path of juddiv3.xml in the JVM args, the juddiv3.xml will not be picked up from the WAR. To use this set the  <span class="emphasis"><em>juddi.propertiesFile</em></span> to a location of your configuration file. This allows the user to change the jUDDI properties without having to open up the juddiv3.war file. For this use case it makes sense that also persistence properties can be overridden as well in the juddiv3.xml file. The following properties can be set:</p>
<div class="table"><a id="d5e1062"/><p class="title"><strong>Table 4.1. Hibernate properties that can be referenced in the <span class="emphasis"><em>juddiv3.xml</em></span> file</strong></p><div class="table-contents">

  
  <table summary="Hibernate properties that can be referenced in the juddiv3.xml file" border="1"><colgroup><col width="33*" class="col_1"/><col width="33*" class="col_2"/><col width="33*" class="col_3"/></colgroup><thead><tr><th align="left" valign="top">property name</th><th align="left" valign="top">description</th><th align="left" valign="top">example value</th></tr></thead><tbody><tr><td align="left" valign="top"><p>persistenceProvider</p></td><td align="left" valign="top"><p>JPA Implementation</p></td><td align="left" valign="top"><p>Hibernate</p></td></tr><tr><td align="left" valign="top"><p>hibernate.connection.datasource</p></td><td align="left" valign="top"><p>datasource name</p></td><td align="left" valign="top"><p>java:/jdbc/JuddiDS</p></td></tr><tr><td align="left" valign="top"><p>hibernate.hbm2ddl.auto</p></td><td align="left" valign="top"><p>hibernate to ddl setting</p></td><td align="left" valign="top"><p>java:/jdbc/JuddiDS</p></td></tr><tr><td align="left" valign="top"><p>hibernate.default_schema</p></td><td align="left" valign="top"><p>Schema name</p></td><td align="left" valign="top"><p>JuddiSchema</p></td></tr><tr><td align="left" valign="top"><p>hibernate.dialect</p></td><td align="left" valign="top"><p>DataBase vendor name</p></td><td align="left" valign="top"><p>org.hibernate.dialect.DB2Dialect</p></td></tr></tbody></table>
</div></div><br class="table-break"/>

</div>
</div>
<div class="section" title="4.4. Logging"><div class="titlepage"><div><div><h2 class="title"><a id="_logging"/>4.4. Logging</h2></div></div></div>

<p>The jUDDI codebase uses the <span class="emphasis"><em>commons-logging-api</em></span>, and <span class="emphasis"><em>log4j</em></span> as the default logging implementation. The <span class="emphasis"><em>juddiv3/WEB-INF/classes/commons-logging.properties</em></span> sets the logging to <span class="emphasis"><em>log4j</em></span>. The default <span class="emphasis"><em>log4j</em></span> configuration logs to a <span class="emphasis"><em>juddi.log</em></span> file in the <span class="emphasis"><em>tomcat/logs</em></span> directory. The <span class="emphasis"><em>log4j</em></span> configuration lives in the <span class="emphasis"><em>juddiv3/WEB-INF/classes/log4j.properties</em></span> file, which is referenced in the <span class="emphasis"><em>web.xml</em></span></p>

<pre class="literallayout">&lt;context-param&gt;
    &lt;param-name&gt;log4jConfigLocation&lt;/param-name&gt;
    &lt;param-value&gt;/WEB-INF/classes/log4j.properties&lt;/param-value&gt;
&lt;/context-param&gt;</pre>


<p>The <span class="emphasis"><em>commons-logging</em></span> and <span class="emphasis"><em>log4j</em></span> jars are shipped in the <span class="emphasis"><em>juddiv3/WEB-INF/lib</em></span> directory.</p>
<p>If you are using CXF for the webservice stack you can log the request/response xml by adding</p>

<pre class="literallayout">log4j.category.org.apache.cxf=INFO</pre>


<p>to your log4j.properties and the cxf.xml file should contains this:</p>

<pre class="literallayout">&lt;cxf:bus&gt;
    &lt;cxf:features&gt;
        &lt;cxf:logging/&gt;
    &lt;/cxf:features&gt;
&lt;/cxf:bus&gt;</pre>


<p>The jUDDI beans.xml specifies the location of this file at <span class="emphasis"><em>META-INF/cxf/cxf.xml</em></span>.</p>
</div>
<div class="section" title="4.5. Administering the GUI (juddi-gui.war)"><div class="titlepage"><div><div><h2 class="title"><a id="_administering_the_gui_juddi_gui_war"/>4.5. Administering the GUI (juddi-gui.war)</h2></div></div></div>

<p>There are a few things worth mentioning for administering the jUDDI Graphical User Interface. The first is user authentication, which is covered in the authentication chapter. The other the the Digital Signature Applet. This applet enables users to digitally signed UDDI entities via the GUI. There are a number of requirements in order for this to work.</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
The applet must be digitally signed. It is recommended that this signed by the administrator using the SSL certificate of the jUDDI instance. If it is not signed, it may not be able to digital certificates.
</li><li class="listitem">
The Oracle Java browser plugin must be installed. For details on this, visit Oracle’s website.
</li><li class="listitem">
The end user must have a digital certificate installed that is accessible to the browser. On Windows computers, this is supported by Internet Explorer, Opera and Chrome which use the Windows Certificate Store (Start &gt; Run &gt; MMC, Add Certificates). Firefox uses its own certificate store. On MacOS, Safari uses the Mac Keychain.
</li></ul></div>

</div>
<div class="section" title="4.6. Task: Signing the Digital Signature Applet jar file"><div class="titlepage"><div><div><h2 class="title"><a id="_task_signing_the_digital_signature_applet_jar_file"/>4.6. Task: Signing the Digital Signature Applet jar file</h2></div></div></div>


<pre class="literallayout">jarsigner -keystore your.keystore -storepass yourpass -keypass keypass &lt;pathto&gt;/juddi-gui.war/applets/juddi-gui-dsig-all.jar</pre>


<p>Note: Jarsigner comes with most JDKs and has many command line options.</p>
</div>
<div class="section" title="4.7. Administrating your jUDDI Instance using the Administrative Console"><div class="titlepage"><div><div><h2 class="title"><a id="_administrating_your_juddi_instance_using_the_administrative_console"/>4.7. Administrating your jUDDI Instance using the Administrative Console</h2></div></div></div>

<p>Your instance of the jUDDI (juddiv3.war) can be managed via the administration console. It can be access url the following URL:</p>
<pre class="screen">http://localhost:8080/juddiv3/admin</pre>

<p>By default, only users with the role "uddiadmin" are allowed to access this page. In addition, it must be accessed from the same computer hosting juddiv3.war (this can be changed if needed). When accessing the URL, you should be prompted for login via username/password (this can also be changed to another mechanism).</p>
<p>After authenticating, you will be prompted with a very similar interface to the juddi-gui.war. From here, you can perform a number of tasks.</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
Access Status and Statistics of jUDDI
</li><li class="listitem">
Configure jUDDI (juddiv3.war)
</li><li class="listitem">
Access the jUDDIv3 API, which provides a number of administrative tasks and functions (requires an additional login)*
</li></ul></div>

<p>*Why is there another login required for the jUDDIv3 API functions?</p>
<p>The answer is because the admin console will be directly accesses a web service and it requires a user account with juddi admin rights. This may be the same username you use to access the admin console (juddiv3.war/admin) but unfortunately, this double login is unavoidable.</p>
</div>
<div class="section" title="4.8. Configure jUDDI"><div class="titlepage"><div><div><h2 class="title"><a id="_configure_juddi"/>4.8. Configure jUDDI</h2></div></div></div>

<p>From the browser, it is possible to configure jUDDI’s web services via the web browser. All of the settings available from the chapter on configuring jUDDI can be set there.</p>
<div class="section" title="4.8.1. Enabling Remote Access"><div class="titlepage"><div><div><h3 class="title"><a id="_enabling_remote_access"/>4.8.1. Enabling Remote Access</h3></div></div></div>

<p>The jUDDI Configuration page by default is only accessible via the same host that is hosting the server. To enable remote access, change the setting</p>
<pre class="screen">config/props/configLocalHostOnly=true</pre>

<p>To false.</p>
<div class="figure"><a id="figure-GuideAdministrator-Configure"/><p class="title"><strong>Figure 4.1. jUDDI Server Configuration Page.</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/juddi-admin-configure.png" alt="jUDDI Server Configuration Page"/></div>
</div></div><br class="figure-break"/>

</div>
</div>
<div class="section" title="4.9. Monitoring the Status and Statistics"><div class="titlepage"><div><div><h2 class="title"><a id="_monitoring_the_status_and_statistics"/>4.9. Monitoring the Status and Statistics</h2></div></div></div>

<p>The Statistics and Status page provides valuable information to administrators and developers looking to trouble shoot or debug problems with jUDDI.</p>
<div class="section" title="4.9.1. Statistics"><div class="titlepage"><div><div><h3 class="title"><a id="_statistics"/>4.9.1. Statistics</h3></div></div></div>

<p>The Statistics page provides you with access to usage counts and time spent processing on each method of each service that jUDDI provides.</p>
<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2>
<p>This information can be pulled and is available in JSON encoded data from the following URL: <a class="ulink" href="http://localhost:8080/juddiv3/admin/mbeans.jsp">http://localhost:8080/juddiv3/admin/mbeans.jsp</a></p>
</div>

<div class="figure"><a id="figure-GuideAdministrator-Statistics"/><p class="title"><strong>Figure 4.2. jUDDI Server Statistics.</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/juddi-admin-stats.png" alt="jUDDI Server Statistics"/></div>
</div></div><br class="figure-break"/>

<p>or you can hook up the jconsole to look at the jUDDI mbeans</p>
<div class="figure"><a id="figure-GuideAdministrator-MBeans"/><p class="title"><strong>Figure 4.3. jUDDI MBeans.</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/juddi-admin-mbeans.png" alt="jUDDI MBeans"/></div>
</div></div><br class="figure-break"/>

</div>
<div class="section" title="4.9.2. Status"><div class="titlepage"><div><div><h3 class="title"><a id="_status"/>4.9.2. Status</h3></div></div></div>

<p>The Status page gives you the former "Happy jUDDI" page from version 2 of jUDDI.</p>
<div class="figure"><a id="figure-GuideAdministrator-Status"/><p class="title"><strong>Figure 4.4. jUDDI Server Status.</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/juddi-admin-status.png" alt="jUDDI Server Status"/></div>
</div></div><br class="figure-break"/>

</div>
</div>
<div class="section" title="4.10. Accessing the jUDDIv3 API"><div class="titlepage"><div><div><h2 class="title"><a id="_accessing_the_juddiv3_api"/>4.10. Accessing the jUDDIv3 API</h2></div></div></div>

<p>The jUDDI API is a web service that extends the UDDI specification. It provides various functions for both configuring the jUDDI server and for performing administrative functions, such as authorizing a new username as a publisher, user rights assignment and so on. This page will let you access the functions from the web browser.</p>
<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2>
<p>You must authenticate using the top right hand side login/password box in order to use this.</p>
</div>

<div class="figure"><a id="figure-GuideAdministrator-API"/><p class="title"><strong>Figure 4.5. jUDDI API.</strong></p><div class="figure-contents">

  <div class="mediaobject"><img src="./images/juddi-admin-juddiapi.png" alt="jUDDI API"/></div>
</div></div><br class="figure-break"/>

</div>
<div class="section" title="4.11. Security Guidance"><div class="titlepage"><div><div><h2 class="title"><a id="_security_guidance"/>4.11. Security Guidance</h2></div></div></div>

<p>This guide contains general security guidelines to ensure that your jUDDI server and jUDDI Client based application are relatively safe and to prevent authorized users.</p>
<p>This section is broken down into guidance for the jUDDI server and for the jUDDI Client</p>
<div class="section" title="4.11.1. jUDDI Server"><div class="titlepage"><div><div><h3 class="title"><a id="_juddi_server_2"/>4.11.1. jUDDI Server</h3></div></div></div>

<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
Always use SSL or TLS for connections to and from the jUDDI server, especially connections where authentication is used. Use encrypted connections to the database server when possible. client configs (uddi.xml), database (juddiv3/WEB-INF/classes/META-INF/persistence.xml)
</li><li class="listitem">
If the juddi-gui web app is not on the same server as the juddiv3 web services web app, use SSL or TLS. (juddi-gui/WEB-INF/classes/META-INF/uddi.xml)
</li><li class="listitem">
Use UDDI Digital Signatures where appropriate. Enable all validation options. Java/.NET Clients + juddi-gui, uddi.xml uddi/client/signatures, checkTimestamps,checkTrust,checkRevocationCRL
</li><li class="listitem">
Require authentication for Inquiry API. (config/juddi/auth/Inquiry=true)
</li><li class="listitem">
Use a LDAP user store and set passwords to expire regularly. Enforce the usage of strong passwords of sufficient length and SSL for LDAP connections. (config/juddi/auth/token/authenticator)
</li><li class="listitem">
Encrypt all stored credentials (database, key stores, email, etc) with the highest possible encryption available. (config/juddi/cryptor=org.apache.juddi.v3.client.cryptor.AES256Cryptor or AES128)
</li><li class="listitem">
Configure Auth Tokens to expire with relatively short intervals. This should meet all automatic logout requirements and help reduce the risk that an intercepted auth token can’t be reused by a 3rd party. (config/juddi/auth/token/Expiration) and (config/juddi/auth/token/Timeout)
</li><li class="listitem">
Configure Auth Tokens to require Same IP Enforcement. This is a mitigation factor for when a token is intercepted and attempted to be reused from another source. (config/juddi/auth/token/enforceSameIPRule=true)
</li><li class="listitem">
Configure Custody Transfer Tokens to expire with relatively short intervals. (config/juddi/transfer/expiration/days)
</li><li class="listitem">
Disable sending authentication tokens to subscription notifications (config/juddi/notification/sendAuthTokenWithResultList=false)
</li><li class="listitem">
If you’re using the replication services, configure your application server to use mutual certification authentication for that deployment (per the specification’s recommendation).
</li></ul></div>

</div>
<div class="section" title="4.11.2. jUDDI Client (and developers)"><div class="titlepage"><div><div><h3 class="title"><a id="_juddi_client_and_developers"/>4.11.2. jUDDI Client (and developers)</h3></div></div></div>

<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
Never log auth tokens. Protect it as if it was a password
</li><li class="listitem">
Encrypt all stored credentials (key stores, UDDI credentials, etc) with the highest possible encryption available (uddi.xml)
</li><li class="listitem">
Discard auth tokens when they are no longer needed.
</li></ul></div>

</div>
<div class="section" title="4.11.3. jUDDI GUI (Web user interface)"><div class="titlepage"><div><div><h3 class="title"><a id="_juddi_gui_web_user_interface"/>4.11.3. jUDDI GUI (Web user interface)</h3></div></div></div>

<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
Enable automatic logouts (WEB-ING/classes/META-INF/uddi.xml)
</li><li class="listitem">
All cached credentials are encrypted in the session tokens using an AES key that is generated at boot up time of the juddi-gui instance.
</li><li class="listitem">
Use SSL or TLS when connecting using your web browser to juddi-gui.
</li><li class="listitem">
The juddi-gui uses cookies to store user preferences, such as language and the current node.
</li><li class="listitem">
The juddi-gui makes heavy use of JavaScript using Jquery and JqueryUI. Without a JavaScript enabled browser that supports AJAX, the juddi-gui will not be functional. This usually implies Firefox 1.6 or higher, IE 6, Chrome/Chromium (nearly all versions), Opera v8 or higher, and Safari v2 or higher.
</li><li class="listitem">
The juddi-gui uses a Java applet that is used for Digital Signature support. This runs within your web browser. The Java plugin for your web browser must be enabled in order to use this functionality. In addition, the applet itself must be digitally signed (usually performed by the administrator, see article on this).
</li><li class="listitem">
The juddi-gui has built in validation for digital signatures. This requires a trusted key store. Ensure that the passwords are encrypted using the highest available crypto class and that the validation settings are enabled.
</li><li class="listitem">
The juddi-gui has a settings pages for altering the uddi.xml configuration file. By default, this is only accessible from the same machine running juddi-gui (i.e. localhost). This behavior can be changed by either using the setting page from localhost or by manually editing the uddi.xml page. Unless required, the recommended setting is to prevent remote configuration changes. If the settings page isn’t required, it can be removed.
</li><li class="listitem">
The juddi-gui has a settings page that is password protected to prevent unauthorized changes. Use the strongest available mechanism to protect credentials. The default configuration is for HTTP BASIC. It is recommended to use this with SSL/TLS and/or switch to DIGEST based authentication. If the settings page isn’t required, it can be removed.
</li></ul></div>

</div>
</div>
<div class="section" title="4.12. Backups, Upgrading and Data Migration"><div class="titlepage"><div><div><h2 class="title"><a id="_backups_upgrading_and_data_migration"/>4.12. Backups, Upgrading and Data Migration</h2></div></div></div>

<p>There are several different strategies for managing your jUDDI backups.</p>
<div class="section" title="4.12.1. Database Backups"><div class="titlepage"><div><div><h3 class="title"><a id="_database_backups"/>4.12.1. Database Backups</h3></div></div></div>

<p>Database backups are vendor specific and are effective for backup/restore to a similar or exact jUDDI version reinstall.</p>
</div>
<div class="section" title="4.12.2. Config Backup"><div class="titlepage"><div><div><h3 class="title"><a id="_config_backup"/>4.12.2. Config Backup</h3></div></div></div>

<p>Aside from database backups, you should also make backup copies of all jUDDI configuration files and any files that you have customized to meet your operational needs.</p>
</div>
</div>
<div class="section" title="4.13. Upgrading jUDDI"><div class="titlepage"><div><div><h2 class="title"><a id="_upgrading_juddi"/>4.13. Upgrading jUDDI</h2></div></div></div>

<p>Sometimes, the jUDDI development team has no choice but to alter the database schema. In many cases, OpenJPA or Hibernate (both Java Persistence API provides) will automatically alter database columns when a new version is installed. In some cases, there may actually be data loss.</p>
<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2>
<p>Check the jUDDI distribution notes before attempting an upgrade.</p>
</div>

<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Important</h2>
<p>Always perform a database level backup of your instance before attempting the upgrade.</p>
</div>

</div>
<div class="section" title="4.14. Scaling jUDDI and Federation"><div class="titlepage"><div><div><h2 class="title"><a id="_scaling_juddi_and_federation"/>4.14. Scaling jUDDI and Federation</h2></div></div></div>

<p>The capabilities and components provided by jUDDI are designed to scale. The following will describe the options and known limitations of jUDDI.</p>
<div class="section" title="4.14.1. Scaling the jUDDI Services (multiple servers)"><div class="titlepage"><div><div><h3 class="title"><a id="_scaling_the_juddi_services_multiple_servers"/>4.14.1. Scaling the jUDDI Services (multiple servers)</h3></div></div></div>

<p>The jUDDI web services (juddiv3.war) is designed to be scaled to multiple servers in a number of ways. The following sub sections outline the available options.</p>
<div class="section" title="4.14.1.1. Scaling using a common database"><div class="titlepage"><div><div><h4 class="title"><a id="_scaling_using_a_common_database"/>4.14.1.1. Scaling using a common database</h4></div></div></div>

<p>The first and simplest mechanism is for the instances of juddiv3.war to share the same database. All of jUDDI’s database calls are transactional SQL, meaning that concurrent changes will function just fine from multiple concurrent users. Each instance of juddiv3.war must point to the same database and must use the same Node ID and configuration settings. See the Database Configuration Chapter for more information.</p>
</div>
<div class="section" title="4.14.1.2. Scaling using Subscriptions"><div class="titlepage"><div><div><h4 class="title"><a id="_scaling_using_subscriptions"/>4.14.1.2. Scaling using Subscriptions</h4></div></div></div>

<p>The second mechanism is to use the Subscription API to import data and updates from a remote registry. Unfortunately, this scenario isn’t quite yet supported for jUDDI, but may be in a future release.</p>
</div>
<div class="section" title="4.14.1.3. Replication API"><div class="titlepage"><div><div><h4 class="title"><a id="_replication_api"/>4.14.1.3. Replication API</h4></div></div></div>

<p>The third mechanism is the Replication API, which is part of the OASIS UDDIv3 specification. Since version 3.3, jUDDI provides support for synchronizating UDDI servers using the techniques described in the specification as Replication. See the Replication Services chapter for additional information,</p>
</div>
</div>
<div class="section" title="4.14.2. Limitations of jUDDI"><div class="titlepage"><div><div><h3 class="title"><a id="_limitations_of_juddi"/>4.14.2. Limitations of jUDDI</h3></div></div></div>

<p>jUDDI’s web services have no explicit upper bound on the volume of businesses and services registered. Load testing has shown that at least 10,000 are supported for each category. The upper limit is more of a function of both the underlying database implementation and hardware (free disk space). In either case, the likelihood of hitting the limit is low for most instances. If you happen to run into scaling issues, please file a bug report at JUDDI’s JIRA site at: <a class="ulink" href="https://issues.apache.org/jira/browse/JUDDI">https://issues.apache.org/jira/browse/JUDDI</a></p>
</div>
</div>
</div>
<div class="chapter" title="Chapter 5. jUDDI Server Configuration (juddiv3.xml)"><div class="titlepage"><div><div><h2 class="title"><a id="jUDDIServerConfig"/>Chapter 5. jUDDI Server Configuration (<code class="literal">juddiv3.xml</code>)</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#_authentication">5.1. Authentication</a></span></dt><dt><span class="section"><a href="#_startup">5.2. Startup</a></span></dt><dt><span class="section"><a href="#_email">5.3. Email</a></span></dt><dt><span class="section"><a href="#_query_properties">5.4. Query Properties</a></span></dt><dt><span class="section"><a href="#_rmi_proxy">5.5. RMI Proxy</a></span></dt><dt><span class="section"><a href="#_key_generation_and_cryptography">5.6. Key Generation and Cryptography</a></span></dt><dt><span class="section"><a href="#_subscription">5.7. Subscription</a></span></dt><dt><span class="section"><a href="#_custody_transfer">5.8. Custody Transfer</a></span></dt><dt><span class="section"><a href="#_validation">5.9. Validation</a></span></dt><dt><span class="section"><a href="#_logging_2">5.10. Logging</a></span></dt><dt><span class="section"><a href="#_performance">5.11. Performance</a></span></dt><dt><span class="section"><a href="#_replication">5.12. Replication</a></span></dt><dt><span class="section"><a href="#_deploying_two_or_more_juddi_server_on_the_same_application_server">5.13. Deploying two or more jUDDI server on the same application server</a></span></dt><dt><span class="section"><a href="#_juddi_gui_configuration">5.14. jUDDI GUI Configuration</a></span></dt><dt><span class="section"><a href="#_juddi_client_uddi_xml_settings">5.15. jUDDI Client uddi.xml Settings</a></span></dt><dt><span class="section"><a href="#_encryption_keys">5.16. Encryption Keys</a></span></dt><dt><span class="section"><a href="#_customizing_the_juddi_gui">5.17. Customizing the juddi-gui</a></span></dt></dl></div>

<p>jUDDI will look for a <code class="literal">juddiv3.xml</code> file on the root of the classpath. In the <code class="literal">juddiv3.war</code> you can find it in <code class="literal">juddiv3.war/WEB_INF/classes/juddiv3.xml</code>.</p>
<pre class="screen">Since 3.2 the jUDDI server now uses an XML file for configuration. Previous versions uses a properties file.</pre>

<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Important</h2>
<p>When referring to configuration <span class="emphasis"><em>properties</em></span>, we are really referencing the XPath to specified setting.</p>
</div>

<div class="section" title="5.1. Authentication"><div class="titlepage"><div><div><h2 class="title"><a id="_authentication"/>5.1. Authentication</h2></div></div></div>

<div class="table"><a id="d5e1331"/><p class="title"><strong>Table 5.1. Authentication properties that can be referenced in the juddiv3.xml file</strong></p><div class="table-contents">

  
  <table summary="Authentication properties that can be referenced in the juddiv3.xml file" border="1"><colgroup><col width="25*" class="col_1"/><col width="25*" class="col_2"/><col width="25*" class="col_3"/><col width="25*" class="col_4"/></colgroup><thead><tr><th align="left" valign="top">Property Name</th><th align="left" valign="top">Description</th><th align="left" valign="top">Required</th><th align="left" valign="top">Default Value or [Example Value]</th></tr></thead><tbody><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/auth/authenticator/class</em></span></p></td><td align="left" valign="top"><p>The jUDDI authenticator class to use. See Chapter &lt;add ref&gt; of the Userguide for the choices provided.</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p><span class="emphasis"><em>org.apache.juddi.v3.auth.JUDDIAuthenticator</em></span></p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/auth/Inquiry</em></span></p></td><td align="left" valign="top"><p>This flag determines whether authentication (the presence of a getAuthToken) is required on queries invoking the Inquiry API. By default, jUDDI sets this to false for ease of use.</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p><span class="emphasis"><em>false</em></span></p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/auth/token/Timeout</em></span></p></td><td align="left" valign="top"><p>Time in minutes to expire tokes after inactivity.</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p><span class="emphasis"><em>15</em></span></p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/auth/token/Expiration</em></span></p></td><td align="left" valign="top"><p>As of 3.1.5 Duration of time for tokens to expire, regardless of inactivity.</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p><span class="emphasis"><em>15</em></span></p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/auth/token/enforceSameIPRule</em></span></p></td><td align="left" valign="top"><p>As of 3.2 This setting will enable or disable the auth token check to ensure that auth tokens can only be used from the same IP address that they were issued to..</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p><span class="emphasis"><em>true</em></span></p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/auth/authenticator@useAuthToken</em></span></p></td><td align="left" valign="top"><p>Indicates that the authenticator is use requires a UDDI auth token. Set to false when using HTTP based authenticators</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p><span class="emphasis"><em>true</em></span></p></td></tr></tbody></table>
</div></div><br class="table-break"/>

</div>
<div class="section" title="5.2. Startup"><div class="titlepage"><div><div><h2 class="title"><a id="_startup"/>5.2. Startup</h2></div></div></div>

<div class="table"><a id="d5e1413"/><p class="title"><strong>Table 5.2. Startup properties that can be referenced in the <span class="emphasis"><em>juddiv3.xml</em></span> file</strong></p><div class="table-contents">

  
  <table summary="Startup properties that can be referenced in the juddiv3.xml file" border="1"><colgroup><col width="25*" class="col_1"/><col width="25*" class="col_2"/><col width="25*" class="col_3"/><col width="25*" class="col_4"/></colgroup><thead><tr><th align="left" valign="top">Property Name</th><th align="left" valign="top">Description</th><th align="left" valign="top">Required</th><th align="left" valign="top">Default Value or [Example Value]</th></tr></thead><tbody><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/server/baseurl</em></span></p></td><td align="left" valign="top"><p>Token that can be accessed in accessPointURLs and resolved at runtime. Currently this is only used during the Installation process (seeding root data)</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p><span class="emphasis"><em><a class="ulink" href="http://localhost:8080">http://localhost:8080</a></em></span></p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/root/publisher</em></span></p></td><td align="left" valign="top"><p>The username for the jUDDI root publisher. This is usually just set to "root".</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p><span class="emphasis"><em>root</em></span></p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/seed/always</em></span></p></td><td align="left" valign="top"><p>Forces seeding of the jUDDI data. This will re-apply all files with the exception of the root data files. Note that this can lead to losing data that was added to the entities that are re-seeded, since data is not merged.</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p><span class="emphasis"><em>false</em></span></p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/server/name</em></span></p></td><td align="left" valign="top"><p>This token is referenced in the install data. Note that you can use any tokens, and that their values can be set here or as system parameters..</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p><span class="emphasis"><em>false</em></span></p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/server/port</em></span></p></td><td align="left" valign="top"><p>This token is referenced in the install data. Note that you can use any tokens, and that their values can be set here or as system parameters..</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p><span class="emphasis"><em>false</em></span></p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/nodeId</em></span></p></td><td align="left" valign="top"><p>The Node ID uniquely identifies this server. Use caution when changing the Node ID after jUDDI has been started, you may not be able to edit any existing entities! ..</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p><span class="emphasis"><em>uddi:juddi.apache.org:node1</em></span></p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi//load/install/data</em></span></p></td><td align="left" valign="top"><p>This property allows you to cancel loading of the jUDDI install data.</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p>false</p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/locale</em></span></p></td><td align="left" valign="top"><p>The default local to use. This currently is not used.</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p><span class="emphasis"><em>en_US</em></span></p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/operatorEmailAddress</em></span></p></td><td align="left" valign="top"><p>The UDDI Operator Contact Email Address. This currently is not used.</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p><span class="emphasis"><em>admin@juddi.org</em></span></p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/persistenceunit.name</em></span></p></td><td align="left" valign="top"><p>The persistence name for the jUDDI database that is specified in the persistence.xml file.</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p>juddiDatabase</p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/configuration/reload/delay</em></span></p></td><td align="left" valign="top"><p>The time in milliseconds in which juddiv3.xmlis polled for changes.</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p>5000</p></td></tr></tbody></table>
</div></div><br class="table-break"/>

<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="caution" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Caution</h2>
<p>Take caution in changing the jUDDI Node ID. (Updated at 3.3) jUDDI can now change Node IDs via the Admin console. However care must be taken to prevent changes to data while the rename is in progress. It is recommended to use the Admin console to change the Node ID. It will automatically update the database and the <span class="emphasis"><em>juddiv3.xml</em></span> configuration file.</p>
</div>

</div>
<div class="section" title="5.3. Email"><div class="titlepage"><div><div><h2 class="title"><a id="_email"/>5.3. Email</h2></div></div></div>

<p title="As of 3.1.5, jUDDI supports Email delivery options for Subscription API functions. Email properties can be referenced in the juddiv3.xml file.">
<strong>As of 3.1.5, jUDDI supports Email delivery options for Subscription API functions. Email properties can be referenced in the <span class="emphasis"><em>juddiv3.xml</em></span> file. </strong>
Starting with 3.2.1, jUDDI can now send a test email via the juddiv3.war/admin console.
</p>
<div class="informaltable">
  
  <table border="1"><colgroup><col width="25*" class="col_1"/><col width="25*" class="col_2"/><col width="25*" class="col_3"/><col width="25*" class="col_4"/></colgroup><thead><tr><th align="left" valign="top">Property Name</th><th align="left" valign="top">Description</th><th align="left" valign="top">Required</th><th align="left" valign="top">Default Value or [Example Value]</th></tr></thead><tbody><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/mail/smtp/from</em></span></p></td><td align="left" valign="top"><p>The Operator’s Email address</p></td><td align="left" valign="top"><p>Y</p></td><td align="left" valign="top"><p>[<span class="emphasis"><em>jUDDI@example.org</em></span>]</p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/mail/smtp/host</em></span></p></td><td align="left" valign="top"><p>The hostname of the SMTP server</p></td><td align="left" valign="top"><p>Y</p></td><td align="left" valign="top"><p>[<span class="emphasis"><em>localhost</em></span>]</p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/mail/smtp/port</em></span></p></td><td align="left" valign="top"><p>The portname of the SMTP server</p></td><td align="left" valign="top"><p>Y</p></td><td align="left" valign="top"><p>[<span class="emphasis"><em>25</em></span>]</p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/mail/smtp/socketFactory.class</em></span></p></td><td align="left" valign="top"><p>If set, specifies the name of a class that implements the <span class="emphasis"><em>javax.net.SocketFactory interface</em></span>. This class will be used to create SMTP sockets.</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"> </td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/mail/smtp/socketFactory/fallback</em></span></p></td><td align="left" valign="top"><p>If set to true, failure to create a socket using the specified socket factory class will cause the socket to be created using the <span class="emphasis"><em>java.net.Socket</em></span> class. Defaults to true.</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p><span class="emphasis"><em>true</em></span></p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/mail/smtp/starttls/enable</em></span></p></td><td align="left" valign="top"><p>f true, enables the use of the STARTTLS command (if supported by the server) to switch the connection to a TLS-protected connection before issuing any login commands. Note that an appropriate trust store must configured so that the client will trust the server’s certificate. Defaults to false.</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p><span class="emphasis"><em>false</em></span></p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/mail/smtp/socketFactory/port</em></span></p></td><td align="left" valign="top"><p>Specifies the port to connect to when using the specified socket factory. If not set, the default port will be used.</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p>[<span class="emphasis"><em>465</em></span>]</p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/mail/smtp/auth</em></span></p></td><td align="left" valign="top"><p>If true, attempt to authenticate the user using the AUTH command. Defaults to false.</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p>[<span class="emphasis"><em>false</em></span>]</p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/mail/smtp/user</em></span></p></td><td align="left" valign="top"><p>Username used to authenticate to the SMTP server</p></td><td align="left" valign="top"><p>Y, if <span class="emphasis"><em>juddi/mail/smtp/auth</em></span> is true</p></td><td align="left" valign="top"><p>[<span class="emphasis"><em>juddi@apache.org</em></span>]</p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/mail/smtp/password</em></span></p></td><td align="left" valign="top"><p>Username used to authenticate to the SMTP server</p></td><td align="left" valign="top"><p>Y, if <span class="emphasis"><em>juddi/mail/smtp/auth</em></span> is true</p></td><td align="left" valign="top"><p>[<span class="emphasis"><em>secret</em></span>]</p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/mail/smtp/password@encrypted</em></span></p></td><td align="left" valign="top"><p>If the password is encrypted, the setting juddi/cryptor is the Cryptographic provider used to decrypt at runtime.</p></td><td align="left" valign="top"><p>Y, if <span class="emphasis"><em>juddi/mail/smtp/auth</em></span> is true</p></td><td align="left" valign="top"><p>false</p></td></tr></tbody></table>
</div>

</div>
<div class="section" title="5.4. Query Properties"><div class="titlepage"><div><div><h2 class="title"><a id="_query_properties"/>5.4. Query Properties</h2></div></div></div>

<div class="table"><a id="d5e1694"/><p class="title"><strong>Table 5.3. Query properties that can be referenced in the <span class="emphasis"><em>juddiv3.xml</em></span> file</strong></p><div class="table-contents">

  
  <table summary="Query properties that can be referenced in the juddiv3.xml file" border="1"><colgroup><col width="25*" class="col_1"/><col width="25*" class="col_2"/><col width="25*" class="col_3"/><col width="25*" class="col_4"/></colgroup><thead><tr><th align="left" valign="top">Property Name</th><th align="left" valign="top">Description</th><th align="left" valign="top">Required</th><th align="left" valign="top">Default Value or [Example Value]</th></tr></thead><tbody><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/maxBusinessesPerPublisher</em></span></p></td><td align="left" valign="top"><p>The maximum number of UDDI Businesses that can be registered  per publisher. A value of <span class="emphasis"><em>-1</em></span> indicates any number of businesses is allowed (These values can be overridden at the individual publisher level)</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p>-1</p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/maxServicesPerBusiness</em></span></p></td><td align="left" valign="top"><p>The maximum number of UDDI BusinessServices allowed per Business. A value of <span class="emphasis"><em>-1</em></span> indicates any number of artifacts is valid (These values can be
# overridden at the individual publisher level).</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p>-1</p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/maxBindingsPerService</em></span></p></td><td align="left" valign="top"><p>The maximum number of UDDI TemplateBindings allowed per BusinessService. A value of <span class="emphasis"><em>-1</em></span> indicates any number of artifacts is valid (These values can be overridden at the individual publisher level).</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p>-1</p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/maxTModelsPerPublisher</em></span></p></td><td align="left" valign="top"><p>The maximum number of TModels allowed per publisher. A value of <span class="emphasis"><em>-1</em></span> indicates any number of artifacts is valid (These values can be overridden at the individual publisher level).</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p>-1</p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/maxInClause</em></span></p></td><td align="left" valign="top"><p>The maximum number of "IN" clause parameters.  Some RDMBS limit the number of parameters allowed in a SQL "IN" clause.</p></td><td align="left" valign="top"><p>Y</p></td><td align="left" valign="top"><p>[<span class="emphasis"><em>1000</em></span>]</p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/maxNameElementsAllowed</em></span></p></td><td align="left" valign="top"><p>The maximum name size and maximum number of name elements allows in several of the <span class="emphasis"><em>FindXxxx</em></span> and <span class="emphasis"><em>SaveXxxx</em></span> UDDI functions</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p>[<span class="emphasis"><em>5</em></span>]</p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/maxNameLength</em></span></p></td><td align="left" valign="top"><p>The maximum name size of name elements</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p>[<span class="emphasis"><em>255</em></span>]</p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/maxRows</em></span></p></td><td align="left" valign="top"><p>The maximum number of rows returned in a find* operation.  Each call can set this independently, but this property defines a global maximum. This is related to the <span class="emphasis"><em>maxInClause</em></span> setting (the same?).</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p>1000</p></td></tr></tbody></table>
</div></div><br class="table-break"/>

</div>
<div class="section" title="5.5. RMI Proxy"><div class="titlepage"><div><div><h2 class="title"><a id="_rmi_proxy"/>5.5. RMI Proxy</h2></div></div></div>

<p title="These properties are used to bring up RMI server socket. The settings allow for registering this service to JNDI.">
<strong>These properties are used to bring up RMI server socket. The settings allow for registering this service to JNDI. </strong>
RMI Proxy properties that can be referenced in the <span class="emphasis"><em>juddiv3.xml</em></span> file and is only used by RMITransport.
</p>
<div class="informaltable">
  
  <table border="1"><colgroup><col width="25*" class="col_1"/><col width="25*" class="col_2"/><col width="25*" class="col_3"/><col width="25*" class="col_4"/></colgroup><thead><tr><th align="left" valign="top">Property Name</th><th align="left" valign="top">Description</th><th align="left" valign="top">Required</th><th align="left" valign="top">Default Value or [Example Value]</th></tr></thead><tbody><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/proxy/factory/initial</em></span></p></td><td align="left" valign="top"><p>JNDI Contect Facory</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p>[<span class="emphasis"><em>org.jnp.interfaces.NamingContextFactory</em></span>]</p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/proxy/provider/url</em></span></p></td><td align="left" valign="top"><p>JNDI Provider Address</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p>[<span class="emphasis"><em>jnp://localhost:1099</em></span>]</p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/proxy/factory/url/pkg</em></span></p></td><td align="left" valign="top"><p>JNDI Naming Convention</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p>[<span class="emphasis"><em>org.jboss.naming</em></span>]</p></td></tr></tbody></table>
</div>

</div>
<div class="section" title="5.6. Key Generation and Cryptography"><div class="titlepage"><div><div><h2 class="title"><a id="_key_generation_and_cryptography"/>5.6. Key Generation and Cryptography</h2></div></div></div>

<div class="table"><a id="d5e1853"/><p class="title"><strong>Table 5.4. UDDI Key generation properties that can be referenced in the <code class="literal">juddiv3.xml</code> file.</strong></p><div class="table-contents">

  
  <table summary="UDDI Key generation properties that can be referenced in the juddiv3.xml file." border="1"><colgroup><col width="25*" class="col_1"/><col width="25*" class="col_2"/><col width="25*" class="col_3"/><col width="25*" class="col_4"/></colgroup><thead><tr><th align="left" valign="top">Property Name</th><th align="left" valign="top">Description</th><th align="left" valign="top">Required</th><th align="left" valign="top">Default Value or [Example Value]</th></tr></thead><tbody><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/cryptor</em></span></p></td><td align="left" valign="top"><p>jUDDI Cryptor implementation class that jUDDI will use to encrypt and decrypt password settings</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p><span class="emphasis"><em>org.apache.juddi.cryptor.DefaultCryptor</em></span></p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/keygenerator</em></span></p></td><td align="left" valign="top"><p>Key generator implementation that jUDDI will use to create UDDI keys if no key is passed in by the user.</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p><span class="emphasis"><em>org.apache.juddi.keygen.KeyGenerator</em></span></p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/uuidgen</em></span></p></td><td align="left" valign="top"><p>UUID generator implementation that jUDDI will use to create UUIDs.</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p><span class="emphasis"><em>org.apache.juddi.uuidgen.DefaultUUIDGen</em></span></p></td></tr></tbody></table>
</div></div><br class="table-break"/>

</div>
<div class="section" title="5.7. Subscription"><div class="titlepage"><div><div><h2 class="title"><a id="_subscription"/>5.7. Subscription</h2></div></div></div>

<div class="table"><a id="d5e1903"/><p class="title"><strong>Table 5.5. Subscription properties that can be referenced in the <span class="emphasis"><em>juddiv3.xml</em></span> file.</strong></p><div class="table-contents">

  
  <table summary="Subscription properties that can be referenced in the juddiv3.xml file." border="1"><colgroup><col width="25*" class="col_1"/><col width="25*" class="col_2"/><col width="25*" class="col_3"/><col width="25*" class="col_4"/></colgroup><thead><tr><th align="left" valign="top">Property Name</th><th align="left" valign="top">Description</th><th align="left" valign="top">Required</th><th align="left" valign="top">Default Value or [Example Value]</th></tr></thead><tbody><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/subscription/expiration/days</em></span></p></td><td align="left" valign="top"><p>Days before a subscription expires</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p>[<span class="emphasis"><em>30</em></span>]</p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/subscription/chunkexpiration/minutes</em></span></p></td><td align="left" valign="top"><p>Minutes before a "chunked" subscription call expires</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p>[<span class="emphasis"><em>5</em></span>]</p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/notification/interval</em></span></p></td><td align="left" valign="top"><p>Specifies the interval at which the notification timer triggers. This is the upper boundary set by the registry. Between the user defined endDate of a Subscription and this value, the registry will pick the earliest date. (in ms)</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p><span class="emphasis"><em>3000000</em></span></p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/notification/start/buffer</em></span></p></td><td align="left" valign="top"><p>Specifies the amount of time to wait before the notification timer initially fires. (in ms)</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p>20000</p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/notification/acceptableLagtime</em></span></p></td><td align="left" valign="top"><p>Specifies the amount of time (in ms) from which to determine if the server is overload and to skip notifications. Notifications during this cycle will not be repeated (i.e. never be delivered). (in ms)</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p>10000</p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/notification/maxTries</em></span></p></td><td align="left" valign="top"><p>Specifies the number of times to attempt the delivery of messages to subscribers.</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p>3</p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/notification/maxTriesResetInterval</em></span></p></td><td align="left" valign="top"><p>Once the maximum delivery attempts have been made, the server will add that endpoint to an ignore list, which is reset every N ms.</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p>600000</p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/notification/sendAuthTokenWithResultList</em></span></p></td><td align="left" valign="top"><p>Sends a valid authentication token for the owning user of the subscription in the subscription notification result message. Unless it is specifically needed, this is recommended to be set to false.</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p>false</p></td></tr></tbody></table>
</div></div><br class="table-break"/>

</div>
<div class="section" title="5.8. Custody Transfer"><div class="titlepage"><div><div><h2 class="title"><a id="_custody_transfer"/>5.8. Custody Transfer</h2></div></div></div>

<div class="table"><a id="d5e2003"/><p class="title"><strong>Table 5.6. Transfer properties that can be referenced in the <span class="emphasis"><em>juddiv3.xml</em></span> file.</strong></p><div class="table-contents">

  
  <table summary="Transfer properties that can be referenced in the juddiv3.xml file." border="1"><colgroup><col width="25*" class="col_1"/><col width="25*" class="col_2"/><col width="25*" class="col_3"/><col width="25*" class="col_4"/></colgroup><thead><tr><th align="left" valign="top">Property Name</th><th align="left" valign="top">Description</th><th align="left" valign="top">Required</th><th align="left" valign="top">Default Value or [Example Value]</th></tr></thead><tbody><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/transfer/expiration/days</em></span></p></td><td align="left" valign="top"><p>Days before a transfer request expires.</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p>[<span class="emphasis"><em>3</em></span>]</p></td></tr></tbody></table>
</div></div><br class="table-break"/>

</div>
<div class="section" title="5.9. Validation"><div class="titlepage"><div><div><h2 class="title"><a id="_validation"/>5.9. Validation</h2></div></div></div>

<div class="table"><a id="d5e2031"/><p class="title"><strong>Table 5.7. These settings are for validating the data that users store in jUDDI. They can be referenced in the <span class="emphasis"><em>juddiv3.xml</em></span> file.</strong></p><div class="table-contents">

  
  <table summary="These settings are for validating the data that users store in jUDDI. They can be referenced in the juddiv3.xml file." border="1"><colgroup><col width="25*" class="col_1"/><col width="25*" class="col_2"/><col width="25*" class="col_3"/><col width="25*" class="col_4"/></colgroup><thead><tr><th align="left" valign="top">Property Name</th><th align="left" valign="top">Description</th><th align="left" valign="top">Required</th><th align="left" valign="top">Default Value or [Example Value]</th></tr></thead><tbody><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/validation/enforceReferentialIntegrity</em></span></p></td><td align="left" valign="top"><p>As of 3.1.5 This setting will force referential integrity for all tModels (except keyGenerators), category bags, bindingTemplate/AccessPoint/hostingRedirector (referencing another host), tModelInstanceParms and anything else that references a KeyName default value is true. Set to false for backwards compatibility or for a more lax registry.</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p>[<span class="emphasis"><em>true</em></span>]</p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/validation/rejectInvalidSignatures/enable</em></span></p></td><td align="left" valign="top"><p>Enables or Disables the validation of signatures when a publisher attempts to save an entity</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p>false</p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/validation/rejectInvalidSignatures/enable/trustStorePath</em></span></p></td><td align="left" valign="top"><p>Path to the trust store. Can be overridden via system properties. If not specified, the Windows trust store will be used, else the default JRE trust store will be used.</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p>[truststore.jks]</p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/validation/rejectInvalidSignatures/trustStoreType</em></span></p></td><td align="left" valign="top"><p>The type of store to use</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p>JKS</p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/validation/rejectInvalidSignatures/trustStorePassword</em></span></p></td><td align="left" valign="top"><p>The clear text or encrypted password to the trust store</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"> </td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/validation/rejectInvalidSignatures/trustStorePassword@isPasswordEncrypted</em></span></p></td><td align="left" valign="top"><p>True/False</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p>false</p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/validation/rejectInvalidSignatures/trustStorePassword@cryptoProvider</em></span></p></td><td align="left" valign="top"><p>A cryptographic provider, representing the one that was used to encrypt</p></td><td align="left" valign="top"> </td><td align="left" valign="top"><p><span class="emphasis"><em>juddi/validation/rejectInvalidSignatures/checkTimestamps</em></span></p></td></tr><tr><td align="left" valign="top"><p>If true, certificates are checked against the time validity</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p>false</p></td><td align="left" valign="top"><p><span class="emphasis"><em>juddi/validation/rejectInvalidSignatures/checkTrust</em></span></p></td></tr><tr><td align="left" valign="top"><p>If true, the certificates trust chain is validated against the trust store</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p>false</p></td><td align="left" valign="top"><p><span class="emphasis"><em>juddi/validation/rejectInvalidSignatures/checkRevocationCRL</em></span></p></td></tr></tbody></table>
</div></div><br class="table-break"/>

</div>
<div class="section" title="5.10. Logging"><div class="titlepage"><div><div><h2 class="title"><a id="_logging_2"/>5.10. Logging</h2></div></div></div>

<p title="These properties are used to enable additional logging capabilities.">
<strong>These properties are used to enable additional logging capabilities. </strong>
Logging properties that can be referenced in the <span class="emphasis"><em>juddiv3.xml</em></span> file.
</p>
<div class="informaltable">
  
  <table border="1"><colgroup><col width="25*" class="col_1"/><col width="25*" class="col_2"/><col width="25*" class="col_3"/><col width="25*" class="col_4"/></colgroup><thead><tr><th align="left" valign="top">Property Name</th><th align="left" valign="top">Description</th><th align="left" valign="top">Required</th><th align="left" valign="top">Default Value or [Example Value]</th></tr></thead><tbody><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/logging/logInquirySearchPayloads</em></span></p></td><td align="left" valign="top"><p>Enables request payload logging for the Inquiry Find apis</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p>false</p></td></tr></tbody></table>
</div>

</div>
<div class="section" title="5.11. Performance"><div class="titlepage"><div><div><h2 class="title"><a id="_performance"/>5.11. Performance</h2></div></div></div>

<p title="These properties are used to enable or disable certain capabilities based on performance considerations.">
<strong>These properties are used to enable or disable certain capabilities based on performance considerations. </strong>
Perofrmance properties are referenced in the <span class="emphasis"><em>juddiv3.xm</em></span> file.
</p>
<div class="informaltable">
  
  <table border="1"><colgroup><col width="25*" class="col_1"/><col width="25*" class="col_2"/><col width="25*" class="col_3"/><col width="25*" class="col_4"/></colgroup><thead><tr><th align="left" valign="top">Property Name</th><th align="left" valign="top">Description</th><th align="left" valign="top">Required</th><th align="left" valign="top">Default Value or [Example Value]</th></tr></thead><tbody><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/performance/enableFindBusinessTModelBagFiltering</em></span></p></td><td align="left" valign="top"><p>UDDI defines a mechansim to filter findBusiness relates based on tModelInstanceInfo within their service’s binding templates. This is an expensive operation and will cause significant performance degredation on larger registries. For spec complliance, it should be set to true. We suspect it’s not a commonly used feature and recommend setting this to false.</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p>true</p></td></tr></tbody></table>
</div>

</div>
<div class="section" title="5.12. Replication"><div class="titlepage"><div><div><h2 class="title"><a id="_replication"/>5.12. Replication</h2></div></div></div>

<p title="These properties are used to tweak the replication service capabilities.">
<strong>These properties are used to tweak the replication service capabilities. </strong>
These properties are referenced in the <span class="emphasis"><em>juddiv3.xml</em></span> file.
</p>
<div class="informaltable">
  
  <table border="1"><colgroup><col width="25*" class="col_1"/><col width="25*" class="col_2"/><col width="25*" class="col_3"/><col width="25*" class="col_4"/></colgroup><thead><tr><th align="left" valign="top">Property Name</th><th align="left" valign="top">Description</th><th align="left" valign="top">Required</th><th align="left" valign="top">Default Value or [Example Value]</th></tr></thead><tbody><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/replication/getChangeRecordsMax</em></span></p></td><td align="left" valign="top"><p>The maximum number of records to return from a getChangeRecord request</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p>100</p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/replication/start/buffer</em></span></p></td><td align="left" valign="top"><p>Specifies the amount of time to wait before the replication timer initially fires. (in ms)</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p>5000</p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>juddi/replication/interval</em></span></p></td><td align="left" valign="top"><p>Specifies the interval at which the replication timer triggers (in ms).</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p>5000</p></td></tr></tbody></table>
</div>

</div>
<div class="section" title="5.13. Deploying two or more jUDDI server on the same application server"><div class="titlepage"><div><div><h2 class="title"><a id="_deploying_two_or_more_juddi_server_on_the_same_application_server"/>5.13. Deploying two or more jUDDI server on the same application server</h2></div></div></div>

<div class="orderedlist" title="It is possible to deploy one or more jUDDI servers to the same application server. You will need copy the juddiv3.war archive (let’s say you copied it to juddiv3a.war), and change the following settings to have it connect to a different database:"><p class="title"><strong>It is possible to deploy one or more jUDDI servers to the same application server. You will need copy the juddiv3.war archive (let’s say you copied it to juddiv3a.war), and change the following settings to have it connect to a different database:</strong></p><ol class="orderedlist" type="1"><li class="listitem">
edit the <code class="literal">juddiv3a/META-INF/context.xml</code> (and <code class="literal">conf/Catalina/localhost/juddiv3a.xml</code>) to use the <span class="emphasis"><em>jdbc/JuddiADS</em></span> datasource, and add <span class="emphasis"><em>a</em></span> to the url: <code class="literal">url="jdbc:derby:target/juddi-derby-test-db-v3a;create=true"</code>
</li><li class="listitem">
edit the <span class="emphasis"><em>juddiv3a/WEB-INF/classes/META-INF/persistence.xml</em></span> to use <code class="literal">&lt;non-jta-data-source&gt;java:comp/env/jdbc/JuddiADS</code> and <code class="literal">persistence-unit name="juddiADatabase"</code>
</li><li class="listitem">
edit the <span class="emphasis"><em>juddiv3a/WEB-INF/classes/juddiv3.xml</em></span> to have
<code class="literal">&lt;persistenceunit&gt;&lt;name&gt;juddiADatabase&lt;/name&gt;&lt;/persistenceunit&gt;</code>
</li></ol></div>

<p>This will create a new jUDDI server under the <a class="ulink" href="http://localhost:8080/juddiv3a">http://localhost:8080/juddiv3a</a> url which connects to the juddi-derby-test-db-v3a Derby database.</p>
</div>
<div class="section" title="5.14. jUDDI GUI Configuration"><div class="titlepage"><div><div><h2 class="title"><a id="_juddi_gui_configuration"/>5.14. jUDDI GUI Configuration</h2></div></div></div>

<p>The jUDDI GUI (juddi-gui.war) has one place for configuration settings, the jUDDI Client config file.</p>
</div>
<div class="section" title="5.15. jUDDI Client uddi.xml Settings"><div class="titlepage"><div><div><h2 class="title"><a id="_juddi_client_uddi_xml_settings"/>5.15. jUDDI Client uddi.xml Settings</h2></div></div></div>

<p>Defined in WEB-INF/classes/META-INF/uddi.xml, there are many settings to configure. All of these are clearly defined by the jUDDI Client Configuration Guide. The juddi-gui, uses things a bit differently, so here are the relevant parts to use. Note: this is xpath notation.</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
uddi/client/nodes/properties, not used
</li><li class="listitem">
uddi/client/clerks, not used
</li><li class="listitem">
uddi/client/nodes/node, all URLs except juddiApiUrl (not used)
</li><li class="listitem">
uddi/client/signature, all validation related settings
</li><li class="listitem">
uddi/client/subscriptionCallbacks, not used
</li><li class="listitem">
uddi/client/XtoWsdl, not used
</li></ul></div>

<p>In addition, there a special section added just for the juddi-gui.war</p>
<div class="table"><a id="d5e2285"/><p class="title"><strong>Table 5.8. jUDDI GUI Configuration</strong></p><div class="table-contents">

  
  <table summary="jUDDI GUI Configuration" border="1"><colgroup><col width="25*" class="col_1"/><col width="25*" class="col_2"/><col width="25*" class="col_3"/><col width="25*" class="col_4"/></colgroup><thead><tr><th align="left" valign="top">Property Name</th><th align="left" valign="top">Description</th><th align="left" valign="top">Required</th><th align="left" valign="top">Default Value or [Example Value]</th></tr></thead><tbody><tr><td align="left" valign="top"><p><span class="emphasis"><em>uddi/config/props/authtype</em></span></p></td><td align="left" valign="top"><p>This controls the authentication mode to connect to a UDDI server. Most implementations of UDDI use the security service, however others use HTTP based authentication. In this case, us the value of <span class="emphasis"><em>HTTP</em></span>, otherwise <span class="emphasis"><em>UDDI_AUTH</em></span></p></td><td align="left" valign="top"><p>Y</p></td><td align="left" valign="top"><p><span class="emphasis"><em>UDDI_AUTH</em></span></p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>uddi/config/props/enableAutomaticLogouts</em></span></p></td><td align="left" valign="top"><p>This flag determines whether automatic logouts is enabled. By default, jUDDI-gui sets this to false for ease of use. (true/false)</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p><span class="emphasis"><em>false</em></span></p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>udddi/config/props/enableAutomaticLogouts/duration</em></span></p></td><td align="left" valign="top"><p>Time in milliseconds to force an automatic logout after inactivity.</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p><span class="emphasis"><em>900000</em></span></p></td></tr><tr><td align="left" valign="top"><p><span class="emphasis"><em>uddi/config/props/configLocalHostOnly</em></span></p></td><td align="left" valign="top"><p>If false, the configuration page will be available from anywhere. If true, it will only be accessible from the server hosting juddi-gui. (true/false)</p></td><td align="left" valign="top"><p>N</p></td><td align="left" valign="top"><p><span class="emphasis"><em>true</em></span></p></td></tr></tbody></table>
</div></div><br class="table-break"/>

</div>
<div class="section" title="5.16. Encryption Keys"><div class="titlepage"><div><div><h2 class="title"><a id="_encryption_keys"/>5.16. Encryption Keys</h2></div></div></div>

<p>By default, the juddi-gui will use a randomly generated AES encryption key to help protect user credentials stored in the session object. This key is generated using the "StartupServlet" defined in the web.xml file of juddi-gui.war/WEB-INF/web.xml and then it is stored at the path juddi-gui.war/META-INF/config.properties@key.</p>
<p>If the start up servlet fails to start, any authenticate operation of the juddi-gui will fail.</p>
<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Important</h2>
<p>The user account that the container for juddi-gui runs as must have write access to the file juddi-gui.war/META-INF/config.properties.</p>
</div>

</div>
<div class="section" title="5.17. Customizing the juddi-gui"><div class="titlepage"><div><div><h2 class="title"><a id="_customizing_the_juddi_gui"/>5.17. Customizing the juddi-gui</h2></div></div></div>

<p>The juddi-gui has a mechanism that you can use to alter the appearance of every page. This is typically used for organizations that require legal notifications, banners or warnings on every page for one reason or another. To add your own html to every page, edit the file in</p>
<pre class="screen">juddi-gui/user/banner.jsp</pre>

</div>
</div>
<div class="chapter" title="Chapter 6. Replication Services"><div class="titlepage"><div><div><h2 class="title"><a id="chapter-Replication"/>Chapter 6. Replication Services</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#_introduction">6.1. Introduction</a></span></dt><dt><span class="section"><a href="#_uddiv3_replication_overview">6.2. UDDIv3 Replication Overview</a></span></dt><dd><dl><dt><span class="section"><a href="#_uddiv3_replication_topology">6.2.1. UDDIv3 Replication Topology</a></span></dt><dt><span class="section"><a href="#_conflict_handling">6.2.2. Conflict handling</a></span></dt></dl></dd><dt><span class="section"><a href="#_configuring_your_juddi_node_for_replication">6.3. Configuring your jUDDI Node for replication</a></span></dt><dd><dl><dt><span class="section"><a href="#_changing_the_node_id">6.3.1. Changing the Node ID</a></span></dt><dt><span class="section"><a href="#_setting_up_client_cert_authentication">6.3.2. Setting up CLIENT-CERT authentication</a></span></dt><dt><span class="section"><a href="#_setting_the_replication_configuration">6.3.3. Setting the Replication Configuration</a></span></dt><dt><span class="section"><a href="#_performing_custody_transfer_between_nodes">6.3.4. Performing Custody Transfer between nodes</a></span></dt><dt><span class="section"><a href="#_what_s_supported_and_what_s_not">6.3.5. What’s Supported and What’s Not</a></span></dt></dl></dd></dl></div>

<div class="section" title="6.1. Introduction"><div class="titlepage"><div><div><h2 class="title"><a id="_introduction"/>6.1. Introduction</h2></div></div></div>

<p>The UDDIv3 specification introduced a Replication API that outlines a mechansim for maintaing data ownership and data synchronization across more than one UDDI node. The replication specification has a number of facets that to the casual reader, can see overwhelmingly complex. jUDDI v3 provides support for the majority of the UDDIv3 replication API. This article will attempt to describe the in’s and out’s of the specification, what jUDDI supports and doesn’t, finally, how to use it with your jUDDI instance(s).</p>
</div>
<div class="section" title="6.2. UDDIv3 Replication Overview"><div class="titlepage"><div><div><h2 class="title"><a id="_uddiv3_replication_overview"/>6.2. UDDIv3 Replication Overview</h2></div></div></div>

<p>The UDDIv3 replication API defines a number of web service methods that are used to manage and replicate UDDI data. Each node is responsible for maintaining a record of all changes made both locally and at all remote nodes. Everytime a Business, Service, Binding, tModel, or Publisher Assertion changes, all nodes are notified of the change. Once receiving the notification of the change, all nodes are then responsible to obtain the change set, apply it locally, and then retransmit (if needed and based on topology). The topology is configured via the Replication Configuration. With jUDDI, this is configured using the adminstration console.</p>
<p>There’s one important note to remember. Each piece of data in UDDI is owned by a given node.</p>
<div class="section" title="6.2.1. UDDIv3 Replication Topology"><div class="titlepage"><div><div><h3 class="title"><a id="_uddiv3_replication_topology"/>6.2.1. UDDIv3 Replication Topology</h3></div></div></div>

<p>The specification identifies two scenarios for replication topology.</p>
<div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
Non-directed Graph: All nodes can talk directly to each other and have direct communication with each other.
</li><li class="listitem">
Directed Graph: Nodes can only talk to subset of the complete set of nodes.
</li></ol></div>

<p>The Non-directed graph is easier to implement and to understand. During the "notify" phase of replication, the node where the change originates, simply tell’s everyone it knows about it.</p>
<p>In a directed graph, the node where the change originates only notifies the nodes designated nodes. This typically forms some kind of ring in which one node notifies the next and so on until the original change ends up at the origin.</p>
</div>
<div class="section" title="6.2.2. Conflict handling"><div class="titlepage"><div><div><h3 class="title"><a id="_conflict_handling"/>6.2.2. Conflict handling</h3></div></div></div>

<p>The specification defines a mechanism that is similar to a two step commit (for those familiar with database terminology). Esscentially, when a given change (typically a new record) is created, it then notifies all other nodes to put a block on the new record’s keys and waits for all nodes to respond with an "OK" to commit message. This prevents the same record from being created in multiple locations. These types of messages are refered to in the specification as NewDataConditional. As of the time of this writting jUDDI doesn’t support it. When a record is created at the same at two different nodes within the same replication graph, jUDDI will simply reject the change and prevent the modifications or the transfer from happening. Records that fail to apply for one reason or another are stored in the database and can be accessed via the admin console via "Admin" and selected "getFailedReplicationChangeRecords" from the drop down menu.</p>
</div>
</div>
<div class="section" title="6.3. Configuring your jUDDI Node for replication"><div class="titlepage"><div><div><h2 class="title"><a id="_configuring_your_juddi_node_for_replication"/>6.3. Configuring your jUDDI Node for replication</h2></div></div></div>

<p>Prerequisites:</p>
<div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
Each node must have a unique ID associated with it.
</li><li class="listitem">
Each node must have the UDDI v3 Replication service (juddiv3replication.war) deployed and configured for CLIENT-CERT authentication using SSL/TLS.
</li><li class="listitem">
Each node must have a configured JKS key store and trust store.
</li></ol></div>

<div class="section" title="6.3.1. Changing the Node ID"><div class="titlepage"><div><div><h3 class="title"><a id="_changing_the_node_id"/>6.3.1. Changing the Node ID</h3></div></div></div>

<p>Forgot to change the Node ID before starting jUDDI for the first time? No problem. Visit the jUDDI Administration console at <a class="ulink" href="http://localhost:8080/juddiv3/admin">http://localhost:8080/juddiv3/admin</a>, then go to the Admin page and select "Change Node Id" from the drop down menu.</p>
</div>
<div class="section" title="6.3.2. Setting up CLIENT-CERT authentication"><div class="titlepage"><div><div><h3 class="title"><a id="_setting_up_client_cert_authentication"/>6.3.2. Setting up CLIENT-CERT authentication</h3></div></div></div>

<p>Since a registry can be corrupted via the replication endpoint, it is important to provide adequate security. The UDDI spec recommends using mutual certificate authentication. This is somtimes returned to as "CLIENT-CERT", certificate based authentication, or two-way SSL. All of these terms really refer to the same thing. jUDDI comes prebundled with Apache Tomcat that is configured for mutal certificate authentication out of the box (with self signed certificates). To setup CLIENT-CERT authentication, please see the documentation for your web application server.</p>
<div class="section" title="6.3.2.1. Special notes on key stores and trust stores"><div class="titlepage"><div><div><h4 class="title"><a id="_special_notes_on_key_stores_and_trust_stores"/>6.3.2.1. Special notes on key stores and trust stores</h4></div></div></div>

<p>jUDDI’s use of key stores and trust stores for replication purposes using the standard system properties
 - -Djavax.net.ssl.keyStore
 - -Djavax.net.ssl.keyPassword
 - -Djavax.net.ssl.trustStore
 - -Djavax.net.ssl.trustStorePassword</p>
<p>These are used for transport layer security (node to node). On a side node, jUDDI (server) can also use the trust store to verify signed entities (configured though <span class="emphasis"><em>juddiv3.xml</em></span>) and finally, the application server itself needs access to the key store and trust store for providing a certificate for SSL/TLS communication with clients for validating users (or another jUDDI replication node) that provide a client certificate.</p>
<p>For Tomcat, all you need is a connector with "clientAuth=want". Here’s an example:</p>
<pre class="screen">&lt;Connector port="8443" protocol="HTTP/1.1" SSLEnabled="true"
               maxThreads="150" scheme="https" secure="true"
               clientAuth="want" sslProtocol="TLS"
               truststoreFile="truststore.jks" truststorePass="password"
			   keystoreFile="conf/keystore.jks" keystorePass="password"/&gt;</pre>

</div>
<div class="section" title="6.3.2.2. Mapping certificates to roles"><div class="titlepage"><div><div><h4 class="title"><a id="_mapping_certificates_to_roles"/>6.3.2.2. Mapping certificates to roles</h4></div></div></div>

<p>For each certificate that is used by a jUDDI node to authenticate to another, you’ll have to map the Subject DN of the certificate to a user with the role "replication". In our example, we’ll use tomcat’s <span class="emphasis"><em>tomcat-users.xml</em></span> file.</p>
<pre class="screen">&lt;user username="CN=localhost, OU=jUDDI Test, O=Apache Software Foundation, L=Anytown, ST=MD, C=US" password="null" roles="replication"/&gt;</pre>

<p>In this example, we’ve added our test certificate’s subject DN to the role of "replication".</p>
<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2>
<p>If you run into issues getting things working, try adding the following to the startup parameters for tomcat: -Djavax.net.debug=all</p>
</div>

<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Important</h2>
<p>Besides mapping the certificates to the replication role, either the certificate itself or the issuer of the certificate must be in the trust store used by the application server.</p>
</div>

<p>Since dealing with certificates can be confusing, consider the following configuration.</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
Node 1 sends updates to Node 2
</li><li class="listitem">
Node 2 sends updates to Node 1
</li></ul></div>

<p>Then the certificates must be setup as follows (assuming that each node’s SSL cert is used for authentication to the other node(s))</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
Node 1’s public key must be trusted by Node 2 (in Node 2 app server’s trust store)
</li><li class="listitem">
Node 2’s public key must be trusted by Node 1 (in Node 1 app server’s trust store)
</li><li class="listitem">
Node 1 must have Node 2’s certificate’s Subject DN mapped to the <span class="emphasis"><em>replication</em></span> role
</li><li class="listitem">
Node 2 must have Node 1’s certificate’s Subject DN mapped to the <span class="emphasis"><em>replication</em></span> role
</li><li class="listitem">
Node 1’s public and private keys must be in a keystore on Node 1 (and the Java -D properties set)
</li><li class="listitem">
Node 2’s public and private keys must be in a keystore on Node 2 (and the Java -D properties set)
</li></ul></div>

</div>
</div>
<div class="section" title="6.3.3. Setting the Replication Configuration"><div class="titlepage"><div><div><h3 class="title"><a id="_setting_the_replication_configuration"/>6.3.3. Setting the Replication Configuration</h3></div></div></div>

<p>To set the replication configuration, you’ll need to go to <a class="ulink" href="http://localhost:8080/juddiv3/admin">http://localhost:8080/juddiv3/admin</a> then click on "Admin" in the top navigation bar and login. Once logged in, select "set_ReplicationNodes" from the drop down menu. The text entry field is actually resizable, so you’ll probably want to make it bigger. This text box should be pre-populated with an example replication configuration. Edit the replication as needed, then click the "Go!" button to save it.</p>
<p>Note: when saving the configuration, several of the fields (time stamp, serial number) will be overwritten by the server. This is normal.</p>
<p>Additional notes:
jUDDI doesn’t currently support maximumTimeToSyncRegistry, maximumTimeToGetChanges, and controlledMessage. Due to the way the specification was written, these fields are mandatory (they must be in the Replication Configuration XML), but jUDDI wont’t respect them.</p>
<div class="section" title="6.3.3.1. Replication Configuration"><div class="titlepage"><div><div><h4 class="title"><a id="_replication_configuration"/>6.3.3.1. Replication Configuration</h4></div></div></div>

<p>When using jUDDI’s Admin console to set the replication config, here’s a few things to keep in mind (using xpath notation).</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
replicationConfiguration/operator()  - All nodes in the replication graph must be listed in the Operator section, including all directed graph nodes
</li><li class="listitem">
replicationConfiguration/registryContact - Must have at least one contact. If one is specified for the node’s root business, then jUDDI will include that with the default config.
</li><li class="listitem">
replicationConfiguration/communicationGraph - Must be specified with all nodes listed as identified by the NodeID in replicationConfiguration/operator/operatorNodeID.
</li><li class="listitem">
replicationConfiguration/communicationGraph/controlledMessage must be specified. jUDDI uses a <span class="emphasis"><em>*</em></span> to represent all messages.
</li><li class="listitem">
replicationConfiguration/maximumTimeToSyncRegistry isn’t used and jUDDI will always set it to 1
</li><li class="listitem">
replicationConfiguration/maximumTimeToGetChanges - isn’t used and jUDDI will always set it to 1
</li><li class="listitem">
replicationConfiguration/serialNumber - jUDDI will always set this to the time stamp when the configuration was last changed (time since epoch)
</li><li class="listitem">
replicationConfiguration/timeOfConfigurationUpdate - jUDDI will always set this to the time stamp when the configuraiton was last changed in a human readable form. The UDDI specification doesn’t state what format it should be in, so we used ISO 8601 as the format.
</li></ul></div>

<p>Everytime the configuration changes, an audit log is required in jUDDI log file.</p>
<p>Here’s an example default configuration</p>
<pre class="screen">&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;replicationConfiguration xmlns="urn:uddi-org:repl_v3" xmlns:ns2="urn:uddi-org:api_v3" xmlns:ns3="http://www.w3.org/2000/09/xmldsig#"&gt;
    &lt;serialNumber&gt;1424114880586&lt;/serialNumber&gt;
    &lt;timeOfConfigurationUpdate&gt;201502161428-0500&lt;/timeOfConfigurationUpdate&gt;
    &lt;registryContact&gt;
        &lt;ns2:contact&gt;
            &lt;ns2:personName&gt;unknown&lt;/ns2:personName&gt;
        &lt;/ns2:contact&gt;
    &lt;/registryContact&gt;
    &lt;operator&gt;
        &lt;operatorNodeID&gt;uddi:juddi.apache.org:node1&lt;/operatorNodeID&gt;
        &lt;operatorStatus&gt;normal&lt;/operatorStatus&gt;
        &lt;ns2:contact/&gt;
        &lt;soapReplicationURL&gt;http://localhost:8080/juddiv3/services/replication&lt;/soapReplicationURL&gt;
    &lt;/operator&gt;
    &lt;communicationGraph&gt;
        &lt;node&gt;uddi:juddi.apache.org:node1&lt;/node&gt;
        &lt;controlledMessage&gt;*&lt;/controlledMessage&gt;
    &lt;/communicationGraph&gt;
    &lt;maximumTimeToSyncRegistry&gt;1&lt;/maximumTimeToSyncRegistry&gt;
    &lt;maximumTimeToGetChanges&gt;1&lt;/maximumTimeToGetChanges&gt;
&lt;/replicationConfiguration&gt;</pre>

<p>Here’s an example non-directed replicaton graph. In this example, all changes perform on all nodes get set to all the other nodes.</p>
<pre class="screen">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;replicationConfiguration xmlns="urn:uddi-org:repl_v3" xmlns:ns2="urn:uddi-org:api_v3" xmlns:ns3="http://www.w3.org/2000/09/xmldsig#"&gt;
    &lt;serialNumber&gt;0&lt;/serialNumber&gt;
    &lt;timeOfConfigurationUpdate&gt;&lt;/timeOfConfigurationUpdate&gt;
    &lt;registryContact&gt;
        &lt;ns2:contact&gt;
            &lt;ns2:personName&gt;unknown&lt;/ns2:personName&gt;
        &lt;/ns2:contact&gt;
    &lt;/registryContact&gt;
    &lt;operator&gt;
        &lt;operatorNodeID&gt;uddi:juddi.apache.org:node1&lt;/operatorNodeID&gt;
        &lt;operatorStatus&gt;normal&lt;/operatorStatus&gt;
        &lt;ns2:contact useType="admin"&gt;
            &lt;ns2:personName xml:lang="en"&gt;bob&lt;/ns2:personName&gt;
        &lt;/ns2:contact&gt;
        &lt;soapReplicationURL&gt;https://localhost:8443/juddiv3replication/services/replication&lt;/soapReplicationURL&gt;
    &lt;/operator&gt;
    &lt;operator&gt;
        &lt;operatorNodeID&gt;uddi:another.juddi.apache.org:node2&lt;/operatorNodeID&gt;
        &lt;operatorStatus&gt;normal&lt;/operatorStatus&gt;
        &lt;ns2:contact useType="admin"&gt;
            &lt;ns2:personName xml:lang="en"&gt;mary&lt;/ns2:personName&gt;
        &lt;/ns2:contact&gt;
        &lt;soapReplicationURL&gt;https://localhost:9443/juddiv3replication/services/replication&lt;/soapReplicationURL&gt;
    &lt;/operator&gt;
    &lt;communicationGraph&gt;
        &lt;node&gt;uddi:juddi.apache.org:node1&lt;/node&gt;
        &lt;node&gt;uddi:another.juddi.apache.org:node2&lt;/node&gt;
        &lt;controlledMessage&gt;*&lt;/controlledMessage&gt;
    &lt;/communicationGraph&gt;
    &lt;maximumTimeToSyncRegistry&gt;1&lt;/maximumTimeToSyncRegistry&gt;
    &lt;maximumTimeToGetChanges&gt;1&lt;/maximumTimeToGetChanges&gt;
&lt;/replicationConfiguration&gt;</pre>

<p>In this example, we have a directed graph where Node 1 sends to Node2, Node 2 to Node 3, and Node 3 to Node 1. Note the addition of the replicationConfiguration/communicationGraph/edge() that defines this interaction pattern. Again all nodes defined in edges must also be defined both in the communicationGraph and as operator() XML elements.</p>
<pre class="screen">&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;replicationConfiguration xmlns="urn:uddi-org:repl_v3" xmlns:ns2="urn:uddi-org:api_v3" xmlns:ns3="http://www.w3.org/2000/09/xmldsig#"&gt;
    &lt;serialNumber&gt;0&lt;/serialNumber&gt;
    &lt;timeOfConfigurationUpdate&gt;&lt;/timeOfConfigurationUpdate&gt;
    &lt;registryContact&gt;
        &lt;ns2:contact&gt;
            &lt;ns2:personName&gt;unknown&lt;/ns2:personName&gt;
        &lt;/ns2:contact&gt;
    &lt;/registryContact&gt;
    &lt;operator&gt;
        &lt;operatorNodeID&gt;uddi:juddi.apache.org:node1&lt;/operatorNodeID&gt;
        &lt;operatorStatus&gt;normal&lt;/operatorStatus&gt;
        &lt;ns2:contact useType="admin"&gt;
            &lt;ns2:personName xml:lang="en"&gt;bob&lt;/ns2:personName&gt;
        &lt;/ns2:contact&gt;
        &lt;soapReplicationURL&gt;https://localhost:8443/juddiv3replication/services/replication&lt;/soapReplicationURL&gt;
    &lt;/operator&gt;
    &lt;operator&gt;
        &lt;operatorNodeID&gt;uddi:another.juddi.apache.org:node2&lt;/operatorNodeID&gt;
        &lt;operatorStatus&gt;normal&lt;/operatorStatus&gt;
        &lt;ns2:contact useType="admin"&gt;
            &lt;ns2:personName xml:lang="en"&gt;mary&lt;/ns2:personName&gt;
        &lt;/ns2:contact&gt;
        &lt;soapReplicationURL&gt;https://localhost:9443/juddiv3replication/services/replication&lt;/soapReplicationURL&gt;
    &lt;/operator&gt;
    &lt;operator&gt;
        &lt;operatorNodeID&gt;uddi:yet.another.juddi.apache.org:node3&lt;/operatorNodeID&gt;
        &lt;operatorStatus&gt;normal&lt;/operatorStatus&gt;
        &lt;ns2:contact useType="admin"&gt;
            &lt;ns2:personName xml:lang="en"&gt;mary&lt;/ns2:personName&gt;
        &lt;/ns2:contact&gt;
        &lt;soapReplicationURL&gt;https://localhost:10443/juddiv3replication/services/replication&lt;/soapReplicationURL&gt;
    &lt;/operator&gt;
    &lt;communicationGraph&gt;
        &lt;node&gt;uddi:another.juddi.apache.org:node2&lt;/node&gt;
        &lt;node&gt;uddi:juddi.apache.org:node1&lt;/node&gt;
        &lt;node&gt;uddi:yet.another.juddi.apache.org:node3&lt;/node&gt;
        &lt;edge&gt;
            &lt;messageSender&gt;uddi:juddi.apache.org:node1&lt;/messageSender&gt;
            &lt;messageReceiver&gt;uddi:another.juddi.apache.org:node2&lt;/messageReceiver&gt;
        &lt;/edge&gt;
        &lt;edge&gt;
            &lt;messageSender&gt;uddi:another.juddi.apache.org:node2&lt;/messageSender&gt;
            &lt;messageReceiver&gt;uddi:yet.another.juddi.apache.org:node3&lt;/messageReceiver&gt;
        &lt;/edge&gt;
        &lt;edge&gt;
            &lt;messageSender&gt;uddi:yet.another.juddi.apache.org:node3&lt;/messageSender&gt;
            &lt;messageReceiver&gt;uddi:juddi.apache.org:node1&lt;/messageReceiver&gt;
        &lt;/edge&gt;
    &lt;/communicationGraph&gt;
    &lt;maximumTimeToSyncRegistry&gt;1&lt;/maximumTimeToSyncRegistry&gt;
    &lt;maximumTimeToGetChanges&gt;1&lt;/maximumTimeToGetChanges&gt;
&lt;/replicationConfiguration&gt;</pre>

<p>One last point of interest, Edge’s can have a list of alternate message receivers and it is supported by jUDDI.</p>
</div>
</div>
<div class="section" title="6.3.4. Performing Custody Transfer between nodes"><div class="titlepage"><div><div><h3 class="title"><a id="_performing_custody_transfer_between_nodes"/>6.3.4. Performing Custody Transfer between nodes</h3></div></div></div>

<p>Custody transfer (from a user’s perspective) happens exacty the same way as it would to transfer between two users on the same node. The only change is that the Replication API plays a signficant role in this process and is thus a requirement.</p>
</div>
<div class="section" title="6.3.5. What’s Supported and What’s Not"><div class="titlepage"><div><div><h3 class="title"><a id="_what_s_supported_and_what_s_not"/>6.3.5. What’s Supported and What’s Not</h3></div></div></div>

<p>Here’s a quick summary of what is and isn’t supported for jUDDI replication capabilities. Want more support? Open a ticket and contribute.</p>
<p>Supported:</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
Directed graph replication with retransmit (primary and alternate message receivers)
</li><li class="listitem">
Non-directed graphic replication (no edges defined)
</li><li class="listitem">
All UDDI data is replicated (Business, Binding, Serivce, tModels and Publisher Assertions)
</li><li class="listitem">
Custody transfer from Node to Node within the replication graph.
</li></ul></div>

<p>Functions not supported:</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
Conditional Data Updates
</li><li class="listitem">
Configuration Settings:
</li><li class="listitem">
maximumTimeToSyncRegistry
</li><li class="listitem">
maximumTimeToGetChanges
</li><li class="listitem">
OperatorStatus - Node Status (New, Normal, Resigned)
</li><li class="listitem">
Controlled Messages (all messages are sent to all nodes)
</li></ul></div>

</div>
</div>
</div>
<div class="chapter" title="Chapter 7. UDDI Seed Data"><div class="titlepage"><div><div><h2 class="title"><a id="chapter-UDDISeedData"/>Chapter 7. UDDI Seed Data</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#_seed_data_files">7.1. Seed Data Files</a></span></dt><dt><span class="section"><a href="#_tokens_in_the_seed_data">7.2. Tokens in the Seed Data</a></span></dt><dt><span class="section"><a href="#_customer_seed_data">7.3. Customer Seed Data</a></span></dt></dl></div>

<p>This information is relevant for both understanding how jUDDI’s default data is set when jUDDI first runs (i.e. to a new database). It’s also useful for scripting or automating the deployment of a jUDDI server within your organization which will enable you to prepopulate the data.</p>
<p>As of UDDI v3, each registry need to have a "root" publisher. The root publisher is the owner of the UDDI services (inquiry, publication, etc). There can only be one root publisher per node. JUDDI ships some default seed data for the root account. The default data can be found in the juddi-core-3.x.jar, under juddi_install_data/. By default jUDDI installs two Publishers: "root" and "uddi". Root owns the root partition, and uddi owns all the other seed data such as pre-defined tModels.</p>
<div class="section" title="7.1. Seed Data Files"><div class="titlepage"><div><div><h2 class="title"><a id="_seed_data_files"/>7.1. Seed Data Files</h2></div></div></div>

<p>For each publisher there are four seed data files that will be read the first time you start jUDDI:</p>
<pre class="screen">&lt;publisher&gt;_Publisher.xml
&lt;publisher&gt;_tModelKeyGen.xml
&lt;publisher&gt;_BusinessEntity.xml
&lt;publisher&gt;_tModels.xml</pre>

<p>For example the content of the root_Publisher.xml looks like</p>
<pre class="screen">&lt;publisher xmlns="urn:juddi-apache-org:api_v3" authorizedName="root"&gt;
    &lt;publisherName&gt;root publisher&lt;/publishername&gt;
    &lt;isAdmin&gt;true&lt;/isadmin&gt;
&lt;/publisher&gt;</pre>

<p>Each publisher should have its own key generator schema so that custom generated keys cannot end up being identical to keys generated by other publishers. It is therefor that the each publisher need to define their own KenGenerator tModel. The tModel Key Generator is defined in the file root_tModelKeyGen.xml and the content of this file is</p>
<pre class="screen">&lt;tModel tModelKey="uddi:juddi.apache.org:keygenerator" xmlns="urn:uddi-org:api_v3"&gt;
    &lt;name&gt;uddi-org:keyGenerator&lt;/name&gt;
    &lt;description&gt;Root domain key generator&lt;/description&gt;
    &lt;overviewDoc&gt;
        &lt;overviewURL useType="text"&gt;
        http://uddi.org/pubs/uddi_v3.htm#keyGen
        &lt;/overviewurl&gt;
    &lt;/overviewdoc&gt;
    &lt;categoryBag&gt;
        &lt;keyedReference tModelKey="uddi:uddi.org:categorization:types"
            keyName="uddi-org:types:keyGenerator"
            keyValue="keyGenerator" /&gt;
    &lt;/categorybag&gt;
&lt;/tmodel&gt;</pre>

<p>This means that the legal format of keys used by the root publisher need to be in the form uddi:juddi.apache.org:&lt;text-of-chioce&gt;&lt;/text-of-chioce&gt; The use of other types of format will lead to an <span class="emphasis"><em>illegal key</em></span> error. The root publisher can only own one KeyGenerator while any other publisher can own more then one KeyGenerator. KeyGenerators should not be shared unless there is a good reason to do so. If you want to see your publisher with more then just the one KeyGenerator tModel, you can use the &lt;publisher&gt;&lt;/publisher&gt;_tModels.xml file.
Finally, in the &lt;publisher&gt;&lt;/publisher&gt;_BusinessEntity.xml file can be used to setup Business and Service data. In the root_BusinessEntity.xml we specified the ASF Business, and the UDDI services; Inquiry, Publish, etc.:</p>
<pre class="screen">&lt;businessEntity xmlns="urn:uddi-org:api_v3" xmlns:xml="http://www.w3.org/XML/1998/namespace" businessKey="uddi:juddi.apache.org:businesses-asf"&gt;
  &lt;!-- Change the name field to represent the name of your registry --&gt;
  &lt;name xml:lang="en"&gt;An Apache jUDDI Node&lt;/name&gt;
  &lt;!-- Change the description field to provided a brief description of your registry --&gt;
  &lt;description xml:lang="en"&gt;This is a UDDI v3 registry node as implemented by Apache jUDDI.&lt;/description&gt;
  &lt;discoveryURLs&gt;
    &lt;!-- This discovery URL should point to the home installation URL of jUDDI --&gt;
    &lt;discoveryURL useType="home"&gt;${juddi.server.baseurl}/juddiv3&lt;/discoveryURL&gt;
  &lt;/discoveryURLs&gt;
  &lt;categoryBag&gt;
    &lt;keyedReference tModelKey="uddi:uddi.org:categorization:nodes" keyValue="node" /&gt;
  &lt;/categoryBag&gt;
  &lt;businessServices&gt;
    &lt;!-- As mentioned above, you may want to provide user-defined keys for these (and the services/bindingTemplates below.  Services that you
    don't intend to support should be removed entirely --&gt;
    &lt;businessService serviceKey="uddi:juddi.apache.org:services-inquiry" businessKey="uddi:juddi.apache.org:businesses-asf"&gt;
      &lt;name xml:lang="en"&gt;UDDI Inquiry Service&lt;/name&gt;
      &lt;description xml:lang="en"&gt;Web Service supporting UDDI Inquiry API&lt;/description&gt;
      &lt;bindingTemplates&gt;
        &lt;bindingTemplate bindingKey="uddi:juddi.apache.org:servicebindings-inquiry-ws" serviceKey="uddi:juddi.apache.org:services-inquiry"&gt;
          &lt;description&gt;UDDI Inquiry API V3&lt;/description&gt;
          &lt;!-- This should be changed to the WSDL URL of the inquiry API.  An access point inside a bindingTemplate will be found for every service
          in this file.  They all must point to their API's WSDL URL --&gt;
          &lt;accessPoint useType="wsdlDeployment"&gt;${juddi.server.baseurl}/services/inquiry?wsdl&lt;/accessPoint&gt;
          &lt;tModelInstanceDetails&gt;
            &lt;tModelInstanceInfo tModelKey="uddi:uddi.org:v3_inquiry"&gt;
              &lt;instanceDetails&gt;
                &lt;instanceParms&gt;
                &lt;![CDATA[
                  &lt;?xml version="1.0" encoding="utf-8" ?&gt;
                  &lt;UDDIinstanceParmsContainer xmlns="urn:uddi-org:policy_v3_instanceParms"&gt;
                    &lt;defaultSortOrder&gt;
                      uddi:uddi.org:sortorder:binarysort
                    &lt;/defaultSortOrder&gt;
                  &lt;/UDDIinstanceParmsContainer&gt;
                ]]&gt;
                &lt;/instanceParms&gt;
              &lt;/instanceDetails&gt;
            &lt;/tModelInstanceInfo&gt;
          &lt;/tModelInstanceDetails&gt;
          &lt;categoryBag&gt;
            &lt;keyedReference keyName="uddi-org:types:wsdl" keyValue="wsdlDeployment" tModelKey="uddi:uddi.org:categorization:types"/&gt;
          &lt;/categoryBag&gt;
        &lt;/bindingTemplate&gt;
      &lt;/bindingTemplates&gt;
    &lt;/businessService&gt;
&lt;!-- snip --&gt;
&lt;/businessService&gt;</pre>

<p>Note that the seeding process only kicks off if no publishers exist in the database. So this will only work with a clean database, unless you set juddi/seed/always to true. Then it will re-apply all files with the exception of the root data files. Note that this can lead to losing data that was added to entities that are re-seeded, since data is not merged.</p>
</div>
<div class="section" title="7.2. Tokens in the Seed Data"><div class="titlepage"><div><div><h2 class="title"><a id="_tokens_in_the_seed_data"/>7.2. Tokens in the Seed Data</h2></div></div></div>

<p>You may have noticed the tokens in the root_BusinessEntity.xml file (${juddi.server.baseurl}. The value of this tokens can set in the juddiv3.xml file. The value substitution takes place at runtime, so that different nodes can do the substitution with their own value if needed.</p>
</div>
<div class="section" title="7.3. Customer Seed Data"><div class="titlepage"><div><div><h2 class="title"><a id="_customer_seed_data"/>7.3. Customer Seed Data</h2></div></div></div>

<p>In your deployment you probably do not want to use the Seed Data shipped with the default jUDDI install. The easiest way to overwrite this data is to add it to a directory call juddi_custom_install_data in the juddiv3.war/WEB-INF/classes/ directory. That way you don’t have to modify the juddi-core-3.x.jar. Additionally if your root publisher is not called "root" you will need to set the juddi/root/publisher property in the juddiv3.xml file to something other then</p>
<pre class="screen">juddi/root/publisher=root</pre>

<p>The juddiv3.war ships with two example data directory. One for the Sales Affiliate, and one for the Marketing Affiliate. To use the Sales Seed Data, in the juddiv3.war/WEB-INF/classes/, rename the directory</p>
<pre class="screen">*nix
mv RENAME4Sales_juddi_custom_install_data juddi_custom_install_data
Win*
ren RENAME4Sales_juddi_custom_install_data juddi_custom_install_data</pre>

<p>before you start jUDDI the first time. It will then use this data to populate the database. If you want to rerun you can trash the database it created and restart tomcat. Don’t forget to set the tokens in the juddiv3.xml file.</p>
</div>
</div>
<div class="chapter" title="Chapter 8. How to deploy jUDDI To?"><div class="titlepage"><div><div><h2 class="title"><a id="chapter-HowToDeployjUDDITo"/>Chapter 8. How to deploy jUDDI To?</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#_tomcat">8.1. Tomcat</a></span></dt><dd><dl><dt><span class="section"><a href="#_openjpa_and_cxf">8.1.1. OpenJPA and CXF</a></span></dt><dt><span class="section"><a href="#_hibernate_and_cxf">8.1.2. Hibernate and CXF</a></span></dt><dt><span class="section"><a href="#_openjpa_and_axis2">8.1.3. OpenJPA and Axis2</a></span></dt></dl></dd><dt><span class="section"><a href="#_jboss">8.2. JBoss</a></span></dt><dd><dl><dt><span class="section"><a href="#_jbossas_6_0_0_ga">8.2.1. JBossAS 6.0.0.GA</a></span></dt><dt><span class="section"><a href="#_jbossas_7_x_jbosseap_6_x">8.2.2. JBossAS 7.x/JBossEAP-6.x</a></span></dt></dl></dd><dt><span class="section"><a href="#_deploying_to_glassfish">8.3. Deploying to Glassfish</a></span></dt><dd><dl><dt><span class="section"><a href="#_glassfish_jars">8.3.1. Glassfish jars</a></span></dt><dt><span class="section"><a href="#_configure_the_juddi_datasource">8.3.2. Configure the JUDDI datasource</a></span></dt><dt><span class="section"><a href="#_add_juddiv3_cxf_war">8.3.3. Add juddiv3-cxf.war</a></span></dt><dt><span class="section"><a href="#_run_juddi">8.3.4. Run jUDDI</a></span></dt></dl></dd></dl></div>

<p>The jUDDI distribution ships preconfigured on Tomcat - it runs out of the box. All you have to do in go into the <code class="literal">juddi-distro-&lt;version&gt;/juddi-tomcat-&lt;version&gt;/bin</code> directory and start up Tomcat. All of this just as described in  <a class="xref" href="#chapter-GettingStarted" title="Chapter 2. Getting Started">Chapter 2, <em>Getting Started</em></a>.</p>
<p>By default the <code class="literal">juddiv3.war</code> is configured to use OpenJPA and CXF. If you want to change your JPA or WS provider, or you’d like to run on a different container then this chapter may come in handy, as there a number of scripted <span class="emphasis"><em>profiles</em></span> to change the configuration and dependencies in the <code class="literal">juddiv3.war</code>. To run these maven based scripts you need to go into <code class="literal">juddi-distro-&lt;version&gt;/juddiv3-war</code> directory.</p>
<div class="section" title="8.1. Tomcat"><div class="titlepage"><div><div><h2 class="title"><a id="_tomcat"/>8.1. Tomcat</h2></div></div></div>

<div class="section" title="8.1.1. OpenJPA and CXF"><div class="titlepage"><div><div><h3 class="title"><a id="_openjpa_and_cxf"/>8.1.1. OpenJPA and CXF</h3></div></div></div>

<p>Target platform Tomcat and Derby using OpenJPA and CXF. Both OpenJPA and CXF are packaged up in the juddiv3.war.</p>
<pre class="screen">mvn clean package -P openjpa</pre>

<p>Then copy the <code class="literal">target/juddiv3.war</code> to the <code class="literal">&lt;tomcat&gt;/webapps</code> directory.</p>
</div>
<div class="section" title="8.1.2. Hibernate and CXF"><div class="titlepage"><div><div><h3 class="title"><a id="_hibernate_and_cxf"/>8.1.2. Hibernate and CXF</h3></div></div></div>

<p>Target platform Tomcat and Derby using Hibernate and CXF. Both Hibernate and CXF are packaged up in the juddiv3.war.</p>
<pre class="screen">mvn clean package -P hibernate</pre>

<p>Then copy the <code class="literal">target/juddiv3.war</code> to the <code class="literal">&lt;tomcat&gt;/webapps</code> directory.</p>
</div>
<div class="section" title="8.1.3. OpenJPA and Axis2"><div class="titlepage"><div><div><h3 class="title"><a id="_openjpa_and_axis2"/>8.1.3. OpenJPA and Axis2</h3></div></div></div>

<p>Target platform Tomcat and Derby using OpenJPA and Apache Axis2. Both Hibernate and Axis2 are packaged up in the juddiv3.war.</p>
<pre class="screen">mvn clean package -P axis2</pre>

<p>Then copy the <code class="literal">target/juddiv3.war</code> to the <code class="literal">&lt;tomcat&gt;/webapps</code> directory.</p>
</div>
</div>
<div class="section" title="8.2. JBoss"><div class="titlepage"><div><div><h2 class="title"><a id="_jboss"/>8.2. JBoss</h2></div></div></div>

<div class="section" title="8.2.1. JBossAS 6.0.0.GA"><div class="titlepage"><div><div><h3 class="title"><a id="_jbossas_6_0_0_ga"/>8.2.1. JBossAS 6.0.0.GA</h3></div></div></div>

<p>This section describes how to deploy juddi to JBoss 6.0.0.GA.</p>
<p>First, download jboss-6.0.0.GA - the zip or tar.gz bundle may be found at <a class="ulink" href="http://www.jboss.org/jbossas/downloads/">http://www.jboss.org/jbossas/downloads/</a>. Download the bundle and uncompress it.</p>
<div class="section" title="8.2.1.1. Hibernate and JBossWS-Native"><div class="titlepage"><div><div><h4 class="title"><a id="_hibernate_and_jbossws_native"/>8.2.1.1. Hibernate and JBossWS-Native</h4></div></div></div>

<p>Target platform JBoss-6.x and HSQL using Hibernate and JBossWS-native. The juddiv3.war relies on Hibernate and JBossWS-native in the appserver.</p>
<pre class="screen">mvn clean package -P hibernate-jbossws-native</pre>

<p>Then copy the <code class="literal">target/juddiv3.war</code> to the <code class="literal">&lt;jboss&gt;/server/default/deploy</code> directory.</p>
</div>
<div class="section" title="8.2.1.2. Hibernate and JBossWS-CXF"><div class="titlepage"><div><div><h4 class="title"><a id="_hibernate_and_jbossws_cxf"/>8.2.1.2. Hibernate and JBossWS-CXF</h4></div></div></div>

<p>Target platform JBoss-6.x and HSQL using Hibernate and JBossWS-cxf. The juddiv3.war relies on Hibernate and JBossWS-cxf in the appserver.</p>
<pre class="screen">mvn clean package -P hibernate-jbossws-cxf</pre>

<div class="variablelist" title="KNOWN ISSUES"><p class="title"><strong>KNOWN ISSUES</strong></p><dl><dt><span class="term">Issue 1</span></dt><dd>
<pre class="screen">15:14:37,275 SEVERE [RegistryServlet] jUDDI registry could not be started. org.apache.commons.configuration.ConfigurationException: java.util.zip.ZipException: error in opening zip file: org.apache.commons.configuration.ConfigurationException: org.apache.commons.configuration.ConfigurationException: java.util.zip.ZipException: error in opening zip file</pre>

<p class="simpara">Workaround: deploy juddiv3.war as a directory (not a zip file).</p>
</dd><dt><span class="term">Issue 2</span></dt><dd>
<p class="simpara">JBoss-5.x Note that configuration 3 and 4 will also run on JBoss-5.x, but you may run into the following</p>
<pre class="screen">ERROR [org.jboss.ws.metadata.wsdl.xmlschema.JBossXSErrorHandler] (main) [domain:http://www.w3.org/TR/xml-schema-1]::[key=src-resolve]::Message=src-resolve: Cannot resolve the name ns1:Signature to a element declaration component.</pre>

<p class="simpara">Workaround: Unzip the deployers/jbossws.deployer/jbossws-native-core.jar and add the xmldsig-core-schema.xsd in the schema directory,</p>
<pre class="screen">10293 Fri May 27 14:40:40 EDT 2011 schema/xmldsig-core-schema.xsd</pre>

<p class="simpara">Edit the file META-INF/jbossws-entities.properties by adding a line at the bottom saying:</p>
<pre class="screen">http\://www.w3.org/2000/09/xmldsig#=schema/xmldsig-core-schema.xsd</pre>

</dd></dl></div>

<p>Copy juddiv3.war to server/default/deploy and unpack it.</p>
<p>Insert jboss-web.xml into the juddiv3.war/WEB-INF directory , should look like the following :</p>
<pre class="screen">&lt;?xml version="1.0" encoding="ISO-8859-1"?&gt;

&lt;!DOCTYPE jboss-web PUBLIC
	"-//JBoss//DTD Web Application 2.3V2//EN"
    "http://www.jboss.org/j2ee/dtd/jboss-web_3_2.dtd"&gt;

&lt;jboss-web&gt;

    &lt;resource-ref&gt;
        &lt;res-ref-name&gt;jdbc/JuddiDS&lt;/res-ref-name&gt;
        &lt;jndi-name&gt;java:JuddiDS&lt;/jndi-name&gt;
    &lt;/resource-ref&gt;
    &lt;depends&gt;jboss.jdbc:datasource=JuddiDS,service=metadata&lt;/depends&gt;

&lt;/jboss-web&gt;</pre>

</div>
<div class="section" title="8.2.1.3. Change web.xml"><div class="titlepage"><div><div><h4 class="title"><a id="_change_web_xml"/>8.2.1.3. Change web.xml</h4></div></div></div>

<p>Replace the WEB-INF/web.xml with the jbossws-native-web.xml within docs/examples/appserver.</p>
</div>
<div class="section" title="8.2.1.4. Configure Datasource"><div class="titlepage"><div><div><h4 class="title"><a id="_configure_datasource"/>8.2.1.4. Configure Datasource</h4></div></div></div>

<p>The first step for configuring a datasource is to copy your JDBC driver into the classpath. Copy your JDBC driver into ${jboss.home.dir}/server/${configuration}/lib, where configuration is the profile you wish to start with (default, all, etc.). Example :</p>
<pre class="screen">cp mysql-connector-java-5.0.8-bin.jar /opt/jboss-5.1.0.GA/server/default/lib</pre>

<p>Next, configure a JBoss datasource file for your db. Listed below is an example datasource for MySQL :</p>
<pre class="screen">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;datasources&gt;
 &lt;local-tx-datasource&gt;
   &lt;jndi-name&gt;JuddiDS&lt;/jndi-name&gt;
   &lt;connection-url&gt;jdbc:mysql://localhost:3306/juddiv3&lt;/connection-url&gt;
   &lt;driver-class&gt;com.mysql.jdbc.Driver&lt;/driver-class&gt;
   &lt;user-name&gt;root&lt;/user-name&gt;
   &lt;password&gt;&lt;/password&gt;
   &lt;exception-sorter-class-name&gt;org.jboss.resource.adapter.jdbc.vendor.MySQLExceptionSorter&lt;/exception-sorter-class-name&gt;

   &lt;!-- corresponding type-mapping in the standardjbosscmp-jdbc.xml (optional) --&gt;
   &lt;metadata&gt;
      &lt;type-mapping&gt;mySQL&lt;/type-mapping&gt;
   &lt;/metadata&gt;
 &lt;/local-tx-datasource&gt;
&lt;/datasources&gt;</pre>

<p>Next, make a few changes to the juddiv3.war/classes/META-INF/persistence.xml. Change the "hibernate.dialect" property to match the database you have chosen for persistence. For MySQL, change the value of hibernate.dialect to "org.hibernate.dialect.MySQLDialect". A full list of dialects available can be found in the hibernate documentation (<a class="ulink" href="https://www.hibernate.org/hib_docs/v3/api/org/hibernate/dialect/package-summary.html">https://www.hibernate.org/hib_docs/v3/api/org/hibernate/dialect/package-summary.html</a>). Next, change the &lt;jta-data-source&gt; tags so that it reads &lt;non-jta-data-source&gt;, and change the value from java:comp/env/jdbc/JuddiDS to java:/JuddiDS.</p>
</div>
</div>
<div class="section" title="8.2.2. JBossAS 7.x/JBossEAP-6.x"><div class="titlepage"><div><div><h3 class="title"><a id="_jbossas_7_x_jbosseap_6_x"/>8.2.2. JBossAS 7.x/JBossEAP-6.x</h3></div></div></div>

<p>This section describes how to deploy juddi to JBossAS 7, WildFly and JBossEAP 6</p>
<div class="section" title="8.2.2.1. Hibernate and JBossWS-CXF"><div class="titlepage"><div><div><h4 class="title"><a id="_hibernate_and_jbossws_cxf_2"/>8.2.2.1. Hibernate and JBossWS-CXF</h4></div></div></div>

<p>Target platform Wildfly/EAP and H2 using Hibernate and JBossWS-cxf. The juddiv3.war relies on Hibernate and JBossWS-cxf modules in the appserver. To build the correct juddiv3.war run</p>
<pre class="screen">mvn clean package -P jboss7up</pre>

<p>Use the JBoss add-user.sh script to create an application user with the uddiadmin role.</p>
</div>
</div>
</div>
<div class="section" title="8.3. Deploying to Glassfish"><div class="titlepage"><div><div><h2 class="title"><a id="_deploying_to_glassfish"/>8.3. Deploying to Glassfish</h2></div></div></div>

<p>This section describes how to deploy juddi to Glassfish 2.1.1. These instructions will use CXF as a webservice framework.</p>
<p>First, download the glassfish-v2.1.1 installer JAR. Once downloaded,install using the JAR and then run the ant setup script :</p>
<pre class="screen">java -jar glassfish-installer-v2.1.1-b31g-linux.jar
cd glassfish
ant -f setup.xml</pre>

<div class="section" title="8.3.1. Glassfish jars"><div class="titlepage"><div><div><h3 class="title"><a id="_glassfish_jars"/>8.3.1. Glassfish jars</h3></div></div></div>

<p>Copy the following JARs into domains/domain1/lib/ext. Note that for the purposes of this example, we have copied the MySQL driver to domains/domain1/lib/ext :</p>
<pre class="screen">antlr-2.7.6.jar
cglib-nodep-2.1_3.jar
commons-collections-3.2.1.jar
commons-logging-1.1.jar
dom4j-1.6.1.jar
hibernate-3.2.5.ga.jar
hibernate-annotations-3.3.0.ga.jar
hibernate-commons-annotations-3.0.0.ga.jar
hibernate-entitymanager-3.3.1.ga.jar
hibernate-validator-3.0.0.ga.jar
javassist-3.3.ga.jar
jboss-common-core-2.0.4.GA.jar
jta-1.0.1B.jar
mysql-connector-java-5.0.8-bin.jar
persistence-api-1.0.jar</pre>

</div>
<div class="section" title="8.3.2. Configure the JUDDI datasource"><div class="titlepage"><div><div><h3 class="title"><a id="_configure_the_juddi_datasource"/>8.3.2. Configure the JUDDI datasource</h3></div></div></div>

<p>First, using the asadmin administration tool, import the following file :</p>
<pre class="screen">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE resources PUBLIC "-//Sun Microsystems Inc.//DTD Application Server 9.0 Domain//EN" "*&lt;install directory&gt;/lib/dtds/sun-resources_1_3.dtd*"&gt;
&lt;resources&gt;
&lt;jdbc-connection-pool name="mysql-pool" datasource-classname="com.mysql.jdbc.jdbc2.optional.MysqlDataSource" res-type="javax.sql.DataSource"&gt;
&lt;property name="user" value="juddi"/&gt;
&lt;property name="password" value="juddi"/&gt;
&lt;property name="url" value="jdbc:mysql://localhost:3306/juddiv3"/&gt;
&lt;/jdbc-connection-pool&gt;
&lt;jdbc-resource enabled="true" jndi-name="jdbc/mysql-resource" object-type="user" pool-name="mysql-pool"/&gt;
&lt;/resources&gt;</pre>

<pre class="screen">asadmin add-resources resource.xml</pre>

<p>Then use the Glassfish administration console to create a "jdbc/juddiDB" JDBC datasource resource based on the mysql-pool Connection Pool.</p>
</div>
<div class="section" title="8.3.3. Add juddiv3-cxf.war"><div class="titlepage"><div><div><h3 class="title"><a id="_add_juddiv3_cxf_war"/>8.3.3. Add juddiv3-cxf.war</h3></div></div></div>

<p>Unzip the juddiv3-cxf WAR into domains/domain1/autodeploy/juddiv3.war .</p>
<p>Add a sun-web.xml file into juddiv3.war/WEB-INF. Make sure that the JNDI references matches the JNDI location you configured in the Glassfish administration console.</p>
<pre class="screen">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!DOCTYPE sun-web-app PUBLIC '-//Sun Microsystems, Inc.//DTD
Application Server 9.0 Servlet 2.5//EN'
'http://www.sun.com/software/appserver/dtds/sun-web-app_2_5-0.dtd'&gt;
&lt;sun-web-app&gt;
&lt;resource-ref&gt;
&lt;res-ref-name&gt;jdbc/juddiDB&lt;/res-ref-name&gt;
&lt;jndi-name&gt;jdbc/juddiDB&lt;/jndi-name&gt;
&lt;/resource-ref&gt;
&lt;/sun-web-app&gt;</pre>

<p>Next, make a few changes to juddiv3.war/WEB-INF/classes/META-INF/persistence.xml . Change the "hibernate.dialect" property to match the database that you have chosen for persistence. For MySQL, change the value of hibernate.dialect to "org.hibernate.dialect.MySQLDialect". A full list of dialects available can be found in the hibernate documentation (<a class="ulink" href="https://www.hibernate.org/hib_docs/v3/api/org/hibernate/dialect/package-summary.html">https://www.hibernate.org/hib_docs/v3/api/org/hibernate/dialect/package-summary.html</a>). Next, change the &lt;jta-data-source&gt; change the value from java:comp/env/jdbc/JuddiDS to java:comp/env/jdbc/JuddiDB.</p>
</div>
<div class="section" title="8.3.4. Run jUDDI"><div class="titlepage"><div><div><h3 class="title"><a id="_run_juddi"/>8.3.4. Run jUDDI</h3></div></div></div>

<p>Start up the server :</p>
<pre class="screen">cd bin
asadmin start-domain domain1</pre>

<p>Once the server is deployed, browse to <a class="ulink" href="http://localhost:8080/juddiv3">http://localhost:8080/juddiv3</a></p>
</div>
</div>
</div>
<div class="chapter" title="Chapter 9. Extending UDDI"><div class="titlepage"><div><div><h2 class="title"><a id="_extending_uddi"/>Chapter 9. Extending UDDI</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#_authentication_modules">9.1. Authentication modules</a></span></dt><dt><span class="section"><a href="#_subscription_notification_handlers">9.2. Subscription Notification Handlers</a></span></dt><dt><span class="section"><a href="#_keyedreference_value_set_validation_services">9.3. KeyedReference Value Set Validation Services</a></span></dt><dt><span class="section"><a href="#_cryptographic_providers">9.4. Cryptographic Providers</a></span></dt><dt><span class="section"><a href="#_juddi_client_transport">9.5. jUDDI Client Transport</a></span></dt></dl></div>

<p>jUDDI has extensively uses the Interface/Factory pattern to enable configuration runtime options and to provide you, the developer easy insertion points to customize the behavior of jUDDI. The remaining sections of this chapter outline the different technology insertion points.</p>
<div class="section" title="9.1. Authentication modules"><div class="titlepage"><div><div><h2 class="title"><a id="_authentication_modules"/>9.1. Authentication modules</h2></div></div></div>

<p>Authentication modules are used when the UDDI’s AuthToken is utilized on the Security web service. It’s function is to point to some kind of user credential store to validate users. See the User Guide for details on what’s available out of the box.</p>
<p>All of the provided classes implement the interface .org.apache.juddi.v3.auth.Authenticator.. So, if you wanted something a bit more functional than what’s provided out of the box. you’ll need to implement your own Authenticator.  To wire it in, edit the juddiv3.xml file, specifying your class name as the value to the property "juddi/auth/authenticator/class" and then add the class or jar containing your implementation to juddiv3.war/WEB-INF/classes or judiv3.war/WEB-INF/lib respectively.</p>
</div>
<div class="section" title="9.2. Subscription Notification Handlers"><div class="titlepage"><div><div><h2 class="title"><a id="_subscription_notification_handlers"/>9.2. Subscription Notification Handlers</h2></div></div></div>

<p>Subscription Notification Handlers are used to asynchronously notify users that something has changed in UDDI. In order to do this, a UDDI Subscription is created that references a specific Binding Template key which represents the service that will be called whens something changes. jUDDI comes with support for Email delivery and the UDDI Subscription Listener Web Service (HTTP) delivery. In addition, jUDDI comes with an example for publishing to an Apache Qpid AMQP pub/sub server, which can be used to further disseminate the change. The following is an exert from the jUDDI Blog posting on this.</p>
<div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
Make a new Java library projects in your IDE of choice. Reference the juddi-core, and uddi-ws projects or JAR files or the Maven dependency equivalent
</li><li class="listitem">
Create a class of your own within the following package name: org.apache.juddi.subscription.notify
</li><li class="listitem">
The class name MUST follow this pattern: PROTOCOLNotifier Where PROTOCOL is the prefix of whatever URL you want users to be able to use. Here’s an example using Apache Qpid. Example URL: amqp://guest:guest@client1/development?brokerlist=<span class="emphasis"><em>tcp://localhost:5672</em></span> Class Name: AMQPNotifier. The Notification class basically takes the protocol of the Access Point’s value, splits it on the character ":" and then grabs the first token "amqp" and converts to upper case. Using this pattern you should be able to insert anything you want.
</li><li class="listitem">
Our new shinny class, AMQPNotifier, must implement the interface org.apache.juddi.subscription.notify.Notifier. From there, all you need to do is to add in the jars necessary for your transport mechanism and wire in your own code.
</li><li class="listitem">
Deployment is simple. Add your PROTOCOLNotifier jar and its dependencies to the juddiv3.war/WEB-INF/lib folder.
</li></ol></div>

<p>Note: be careful and watch for conflicting jar file versions. In general, usually moving up a version is ok, but moving down may cause the services to fail unexpectedly.</p>
<p>To test, create a Service with the BindingTemplate’s Access Point’s value equal to whatever you need.
Next, setup a subscription and reference the BindingTemplate key that represents your call back handler’s end point. Finally,   change an item that is covered by the subscription’s filter and monitor the log files. Hopefully, you won’t see an unexpected errors.</p>
</div>
<div class="section" title="9.3. KeyedReference Value Set Validation Services"><div class="titlepage"><div><div><h2 class="title"><a id="_keyedreference_value_set_validation_services"/>9.3. KeyedReference Value Set Validation Services</h2></div></div></div>

<p>Since jUDDI 3.2.1, we now have support for the Value Set Validation Service. This allows you to define a validator that will check when a user saves a UDDI entity that references a given tModel that contains a keyed reference to uddi:uddi.org:identifier:validatedby (which points to the VSV service).</p>
<p>To defined your own validator, use the following steps
# Create you tModel with a named key
# Implement the org.apache.juddi.validation.vsv.ValueSetValidator interface
# Name your implementation class using the naming schema defined in the ConvertKeyToClass function of UDDIValueSetValidationImpl (first letter is upper, all else is lower. Numbers and letters only. Class must be in the package org.apache.juddi.validation.vsv
# Update your saved tModel and add a keyed reference for uddi:uddi.org:identifier:validatedby using the value of uddi:juddi.apache.org:servicebindings-valueset-cp
# Get your class in the class path of jUDDI and give it a shot</p>
</div>
<div class="section" title="9.4. Cryptographic Providers"><div class="titlepage"><div><div><h2 class="title"><a id="_cryptographic_providers"/>9.4. Cryptographic Providers</h2></div></div></div>

<p>jUDDI provides cryptographic functions via (Java) juddi-client.jar/org.apache.juddi.v3.client.cryptor and implement the Cryptor interface which provides two simple functions, encrypt and decrypt. (Note: .NET has similar functionality).</p>
</div>
<div class="section" title="9.5. jUDDI Client Transport"><div class="titlepage"><div><div><h2 class="title"><a id="_juddi_client_transport"/>9.5. jUDDI Client Transport</h2></div></div></div>

<p>The juddi-client’s Transport class is an abstract class that you can you alter the transport mechanism used by jUDDI’s client APIs. Included is what would be used in most cases, such as JAXWS, RMI, and InVM (Embedded mode). This can be extended to use whatever you may need.</p>
</div>
</div>
<div class="chapter" title="Chapter 10. Digital Signatures"><div class="titlepage"><div><div><h2 class="title"><a id="DigitalSignatures"/>Chapter 10. Digital Signatures</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#_requirements">10.1. Requirements</a></span></dt><dt><span class="section"><a href="#_using_digital_signatures_using_the_juddi_gui">10.2. Using Digital Signatures using the jUDDI GUI</a></span></dt><dt><span class="section"><a href="#_frequently_asked_questions">10.3. Frequently Asked Questions</a></span></dt></dl></div>

<p>Users of UDDI can use digital signatures to ensure that no unauthorized users alter the content of UDDI. We’re sure that one of the first questions one would ask is "can’t access control rules handle this problem for us?" The answer is yes, however it does not mitigate the risk of a number of opportunities for electronic attack.</p>
<div class="section" title="10.1. Requirements"><div class="titlepage"><div><div><h2 class="title"><a id="_requirements"/>10.1. Requirements</h2></div></div></div>

<p>UDDI supports both the XML Digital Signature specification, which effectively means that you can use PGP Keys and X509 certificates. jUDDI provides out of the box support for X509 certificates and the Public Key Infrastructure (PKI). If you require direct PGP signing support, please open a JIRA ticket.</p>
</div>
<div class="section" title="10.2. Using Digital Signatures using the jUDDI GUI"><div class="titlepage"><div><div><h2 class="title"><a id="_using_digital_signatures_using_the_juddi_gui"/>10.2. Using Digital Signatures using the jUDDI GUI</h2></div></div></div>

<p>Please see <a class="xref" href="#">???</a>.</p>
</div>
<div class="section" title="10.3. Frequently Asked Questions"><div class="titlepage"><div><div><h2 class="title"><a id="_frequently_asked_questions"/>10.3. Frequently Asked Questions</h2></div></div></div>

<div class="variablelist"><dl><dt><span class="term">Doesn’t UDDI access control rules prevent alteration of the content?</span></dt><dd>
Yes, however it does not mitigate the man in the middle attack vectors. Since UDDI is used to determine the location of the thing you want, it’s possible that falsified endpoints can be interjected in transport. The target service requires authentication, then the end user’s credentials could be compromised without their knowledge.
</dd><dt><span class="term">How can I sign a business, service, tModel or binding?</span></dt><dd>
Use the juddi-gui’s digital signature applet by first located the item in the juddi-gui interface, then click on the "Sign" button. You need write access to the entity.
</dd><dt><span class="term">The digital signature applet doesn’t run. Now what?</span></dt><dd>
The applet requires the Java browser plugin. Unfortunately, due to recent (2013) security vulnerabilities, many places of business have heeded Oracle’s advice and have disabled the browser plugin. There are other options, however.
</dd><dt><span class="term">What other tools can I use to sign a UDDI entity?</span></dt><dd>
TBD
</dd><dt><span class="term">What is a signature?</span></dt><dd>
It’s basically a cryptographic (a fancy math equation) using a set a keys (one is public and everyone can see/know it, the other only is held by the owner) that proves that the owner signed a piece of data.
</dd><dt><span class="term">How is a signature verified?</span></dt><dd>
There’s a few ways, we can prove mathematically that the signature is valid (the content hasn’t been modified). From there we can also verify that the signing key is valid.
</dd><dt><span class="term">How do we know the signing key is valid?</span></dt><dd>
Most certificates (key pairs) have some kind of mechanism in it to verify if the certificate has been revoked. If your certificate has it, it will be labeled with something like OCSP or CRL. Both of these are supported in both .NET and Java juddi-clients as well as via the juddi-gui.
</dd></dl></div>

</div>
</div>
<div class="chapter" title="Chapter 11. Troubleshooting jUDDI"><div class="titlepage"><div><div><h2 class="title"><a id="_troubleshooting_juddi"/>Chapter 11. Troubleshooting jUDDI</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#_juddi_web_services_juddiv3_war">11.1. jUDDI Web Services, juddiv3.war</a></span></dt><dd><dl><dt><span class="section"><a href="#_enable_debugging_logging">11.1.1. Enable debugging logging</a></span></dt></dl></dd><dt><span class="section"><a href="#_juddi_gui_juddi_gui_war">11.2. jUDDI GUI, juddi-gui.war</a></span></dt><dt><span class="section"><a href="#_juddi_client_java">11.3. jUDDI Client Java</a></span></dt><dd><dl><dt><span class="section"><a href="#_enable_debugging_logging_2">11.3.1. Enable debugging logging</a></span></dt></dl></dd><dt><span class="section"><a href="#_juddi_client_net">11.4. jUDDI Client .NET</a></span></dt><dt><span class="section"><a href="#_getting_help">11.5. Getting help</a></span></dt></dl></div>

<p>Here are some tips to help you troubleshoot problems with jUDDI, jUDDI-GUI, jUDDI Client and more.</p>
<div class="section" title="11.1. jUDDI Web Services, juddiv3.war"><div class="titlepage"><div><div><h2 class="title"><a id="_juddi_web_services_juddiv3_war"/>11.1. jUDDI Web Services, juddiv3.war</h2></div></div></div>

<div class="section" title="11.1.1. Enable debugging logging"><div class="titlepage"><div><div><h3 class="title"><a id="_enable_debugging_logging"/>11.1.1. Enable debugging logging</h3></div></div></div>

<p>You can adjust the logging level to provide additional output for troubleshooting purposes. To do so, see the Administration Guide, Logging.</p>
</div>
</div>
<div class="section" title="11.2. jUDDI GUI, juddi-gui.war"><div class="titlepage"><div><div><h2 class="title"><a id="_juddi_gui_juddi_gui_war"/>11.2. jUDDI GUI, juddi-gui.war</h2></div></div></div>

<p>Problem: Can’t authentication from juddi-gui’s top right hand side login box to juddiv3.war services
Solutions:</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
Check the server’s log files for both juddi, juddi-gui and the server itself for error messages. This can sometimes be caused by the lack of Java Crypto Extensions (Oracle/Sun JRE/JDK only).
</li><li class="listitem">
Check juddi-gui’s configuration page at <a class="ulink" href="http://localhost:8080/juddi-gui/settings.jsp">http://localhost:8080/juddi-gui/settings.jsp</a>, confirm that the URL’s that are referenced for the UDDI services are correct and accessible from the server hosting juddi-gui.
</li><li class="listitem">
Make sure you’re using a valid username/password ;)
</li><li class="listitem">
Increase the logging level of jUDDI by changing the commons-logging.properties file
</li><li class="listitem">
If you’re having problems with Email delivery of subscription updates, enable debug logging by setting config/uddi/mail/debug=true in juddiv3.xml
</li></ul></div>

</div>
<div class="section" title="11.3. jUDDI Client Java"><div class="titlepage"><div><div><h2 class="title"><a id="_juddi_client_java"/>11.3. jUDDI Client Java</h2></div></div></div>

<div class="section" title="11.3.1. Enable debugging logging"><div class="titlepage"><div><div><h3 class="title"><a id="_enable_debugging_logging_2"/>11.3.1. Enable debugging logging</h3></div></div></div>

<p>You can adjust the logging level to provide additional output for troubleshooting purposes. To do so, see the Administration Guide, Logging.</p>
</div>
</div>
<div class="section" title="11.4. jUDDI Client .NET"><div class="titlepage"><div><div><h2 class="title"><a id="_juddi_client_net"/>11.4. jUDDI Client .NET</h2></div></div></div>

<p>Components based on jUDDI’s Client for the .NET Framework can configure logging from their application’s config file. This is usually app.config or web.config. To configure logging, the following three settings must appear in the configuration/appSetttings section.</p>
<pre class="screen">	&lt;!-- DEBUG, INFO, WARN, ERROR --&gt;
	&lt;add key="org.apache.juddi.v3.client.log.level" value="INFO" /&gt;
    &lt;!-- options are CONSOLE, EVENTLOG, FILE multiple values can be specified, comma delimited.
		Notes for EVENTLOG, you must run the juddi-installer as admin before running--&gt;
    &lt;add key="org.apache.juddi.v3.client.log.target" value="CONSOLE" /&gt;
	&lt;!-- only used when target=FILE --&gt;
    &lt;add key="org.apache.juddi.v3.client.log.logger.file" value="pathToOutputFile" /&gt;</pre>

<p>If nothing is defined, the default log level is "WARN" and the target is "CONSOLE" which is standard out.</p>
</div>
<div class="section" title="11.5. Getting help"><div class="titlepage"><div><div><h2 class="title"><a id="_getting_help"/>11.5. Getting help</h2></div></div></div>

<p>There are many different ways to get help with your jUDDI instance. Please refer to the following URLs for more information.</p>
<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
jUDDI Home Page <a class="ulink" href="http://juddi.apache.org/">http://juddi.apache.org/</a>
</li><li class="listitem">
User Guide <a class="ulink" href="http://juddi.apache.org/docs/3.x/userguide/html/index.htmlnavbar.help.userguide">http://juddi.apache.org/docs/3.x/userguide/html/index.htmlnavbar.help.userguide</a>
</li><li class="listitem">
Developer Guide <a class="ulink" href="http://juddi.apache.org/docs/3.x/devguide/html/index.htmlnavbar.help.devguide">http://juddi.apache.org/docs/3.x/devguide/html/index.htmlnavbar.help.devguide</a>
</li><li class="listitem">
Developer API Documentation <a class="ulink" href="http://juddi.apache.org/docs.html">http://juddi.apache.org/docs.html</a>
</li><li class="listitem">
jUDDI Wiki <a class="ulink" href="http://wiki.apache.org/juddi">http://wiki.apache.org/juddi</a>
</li><li class="listitem">
jUDDI Issue/Bug Tracker <a class="ulink" href="http://juddi.apache.org/issue-tracking.html">http://juddi.apache.org/issue-tracking.html</a>
</li><li class="listitem">
jUDDI User and Developer Mailing List <a class="ulink" href="http://juddi.apache.org/mailing-list.html">http://juddi.apache.org/mailing-list.html</a>
</li><li class="listitem">
jUDDI Source Code <a class="ulink" href="http://svn.apache.org/viewvc/juddi/">http://svn.apache.org/viewvc/juddi/</a>
</li></ul></div>

</div>
</div>
<div class="chapter" title="Chapter 12. Contributing to jUDDI"><div class="titlepage"><div><div><h2 class="title"><a id="_contributing_to_juddi"/>Chapter 12. Contributing to jUDDI</h2></div></div></div><div class="toc"><p><strong>Table of Contents</strong></p><dl><dt><span class="section"><a href="#_license_guidance">12.1. License guidance</a></span></dt><dt><span class="section"><a href="#_svn_access">12.2. SVN access</a></span></dt><dt><span class="section"><a href="#_project_structure">12.3. Project structure</a></span></dt><dt><span class="section"><a href="#_building_and_testing_juddi">12.4. Building and testing jUDDI</a></span></dt><dd><dl><dt><span class="section"><a href="#_all_java_components">12.4.1. All Java Components</a></span></dt><dt><span class="section"><a href="#__net">12.4.2. .NET</a></span></dt></dl></dd><dt><span class="section"><a href="#_other_ways_to_contribute_to_juddi">12.5. Other ways to Contribute to jUDDI</a></span></dt><dd><dl><dt><span class="section"><a href="#_bug_reports">12.5.1. Bug Reports</a></span></dt><dt><span class="section"><a href="#_internationalization">12.5.2. Internationalization</a></span></dt><dt><span class="section"><a href="#_contributing_source_code">12.5.3. Contributing Source code</a></span></dt><dt><span class="section"><a href="#_releases">12.5.4. Releases</a></span></dt></dl></dd><dt><span class="section"><a href="#_what_the">12.6. What the?</a></span></dt></dl></div>

<p>We welcome contributions to jUDDI. Visit the jUDDI web set at <a class="ulink" href="http://juddi.apache.org">http://juddi.apache.org</a> for more information.</p>
<div class="section" title="12.1. License guidance"><div class="titlepage"><div><div><h2 class="title"><a id="_license_guidance"/>12.1. License guidance</h2></div></div></div>

<p>Apache jUDDI is released under the Apache Software Foundation v2.0 License. Details on the license is located at the following link: <a class="ulink" href="http://apache.org/licenses/LICENSE-2.0">http://apache.org/licenses/LICENSE-2.0</a>.</p>
<p>If you wish to bring in 3rd libraries, please keep in mind that certain libraries cannot be used due to license restrictions. See <a class="ulink" href="http://www.apache.org/legal/3party.html">http://www.apache.org/legal/3party.html</a> for details.</p>
</div>
<div class="section" title="12.2. SVN access"><div class="titlepage"><div><div><h2 class="title"><a id="_svn_access"/>12.2. SVN access</h2></div></div></div>

<p>Source code is accessible at the following link: <a class="ulink" href="https://svn.apache.org/viewvc/juddi/trunk/">https://svn.apache.org/viewvc/juddi/trunk/</a>.</p>
</div>
<div class="section" title="12.3. Project structure"><div class="titlepage"><div><div><h2 class="title"><a id="_project_structure"/>12.3. Project structure</h2></div></div></div>

<p>jUDDI, from a developer’s perspective, is divided into a number of smaller, more manageable modules. In general, each module contains all of the necessary unit tests in order to ensure functionality.</p>
</div>
<div class="section" title="12.4. Building and testing jUDDI"><div class="titlepage"><div><div><h2 class="title"><a id="_building_and_testing_juddi"/>12.4. Building and testing jUDDI</h2></div></div></div>

<p>jUDDI has a number of components, however it is mostly Java based. The following sections describe the particulars for each language.</p>
<div class="section" title="12.4.1. All Java Components"><div class="titlepage"><div><div><h3 class="title"><a id="_all_java_components"/>12.4.1. All Java Components</h3></div></div></div>

<p>Procedure</p>
<div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
Acquire a Subversion client.
</li><li class="listitem">
Execute svn co <a class="ulink" href="https://svn.apache.org/viewvc/juddi/trunk/">https://svn.apache.org/viewvc/juddi/trunk/</a>
</li><li class="listitem">
Acquire a JDK5 or higher and setup the JAVA_HOME environment variable.
</li><li class="listitem">
Acquire Apache Maven. Known working version: 3.0.4
</li><li class="listitem">
Setup an environment variable, MAVEN_OPTS=-Xmx768m -XX:MaxPermSize=512m
</li><li class="listitem">
Make sure the Maven/bin folder and the JDK/bin folders are in the current path
</li><li class="listitem">
Execute "mvn clean install"
</li></ol></div>

<p>This will build, test and package all of the Java components of jUDDI. This includes the Technical Conformance Kit (TCK), a live Tomcat server, the user interfaces, and more.</p>
<p>For additional build output, add -Ddebug-true for Java.</p>
<p>To prepare a deployable jUDDI war for an alternate deployment scenario (other than Tomcat with CXF and OpenJPA), use the following procedure:</p>
<div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
Execute "mvn clean package -P&lt;packageName&gt;"
</li></ol></div>

<p>Where &lt;packageName&gt; is one of the following</p>
<div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
openjpa-jboss7up for EAP 6 and up, GA 7 and up
</li><li class="listitem">
hibernate-jbossws-native for EAP 5, Jboss GA 6 and down with the JbossWS Native soap stack
</li><li class="listitem">
hibernate-jbossws-cxf for EAP 5, Jboss GA 6 and down with the JbossWS Native soap stack
</li><li class="listitem">
hibernate (includes CXF in the war, used for Tomcat)
</li><li class="listitem">
openjpa (includes CXF in the war, used for Tomcat)
</li><li class="listitem">
axis2 (includes Axis2 in the war)
</li></ol></div>

<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2>
<p>When altering the TCK based modules, make sure you clean install in the root check out location. Due to the build order, you may end up with strange results when just executing the tests, even with clean install.</p>
</div>

<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2>
<p>To attach the debugger to the build process try "mvn -Dmaven.surefire.debug clean install". It listens on port 5005 by default. More info on debugging maven projects is here <a class="ulink" href="http://maven.apache.org/surefire/maven-surefire-plugin/examples/debugging.html">http://maven.apache.org/surefire/maven-surefire-plugin/examples/debugging.html</a></p>
</div>

</div>
<div class="section" title="12.4.2. .NET"><div class="titlepage"><div><div><h3 class="title"><a id="__net"/>12.4.2. .NET</h3></div></div></div>

<p>jUDDI also has a .NET based jUDDI Client. To build this, only the .NET Framework needs to be installed, version 3.5 or higher. A Visual Studio solution file is included, but it is not required for building.</p>
<p>Procedure - Windows
* Add MSBuild.exe to your system path. It’s usually in %SYSTEMROOT%\Microsoft.NET\Framework(64)\v4.x.x. If you haven’t installed .NET 4 yet, replace v4.x.x with v2.x.x
* Build the solution. This will build the juddi-client.net.dll, the same application(s) and the test project(s).</p>
<pre class="screen">MSBuild.exe juddi-client.net.sln /p:Configuration=Debug /p:Platform="Any CPU"</pre>

<p>For additional debug output set the environment variable <span class="emphasis"><em>debug=true</em></span></p>
<pre class="screen">set debug=true</pre>

<p>Procedure - *nix using Mono</p>
<div xmlns:d="http://docbook.org/ns/docbook" xmlns:rf="java:org.jboss.highlight.XhtmlRendererFactory" class="tip" style="margin-left: 0.5in; margin-right: 0.5in;"><h2>Tip</h2>
<p>Support on Mono is very experimental. There are still many APIs that have no yet been implements on Mono that may cause compilation failure.</p>
</div>

<p>To build the .NET assemblies on a Linux or Unix based computer:
* Install Mono (apt-get install mono-complete mono-develop
* Build it</p>
<pre class="screen">cd juddi-client.net
xbuild judddi-client.net-mono.sln
cd juddi-client.net-sample/bin/Debug/
mono juddi-client.net-sample.exe</pre>

</div>
</div>
<div class="section" title="12.5. Other ways to Contribute to jUDDI"><div class="titlepage"><div><div><h2 class="title"><a id="_other_ways_to_contribute_to_juddi"/>12.5. Other ways to Contribute to jUDDI</h2></div></div></div>

<p>There are many ways you can contribute to jUDDI. We welcome all kinds and types contributions.</p>
<div class="section" title="12.5.1. Bug Reports"><div class="titlepage"><div><div><h3 class="title"><a id="_bug_reports"/>12.5.1. Bug Reports</h3></div></div></div>

<p>Bug reports and feature requests are low effort tasks that do not require a high level of technical proficiency.</p>
</div>
<div class="section" title="12.5.2. Internationalization"><div class="titlepage"><div><div><h3 class="title"><a id="_internationalization"/>12.5.2. Internationalization</h3></div></div></div>

<p>The jUDDI GUI user interface is designed to be multi-lingual. For the 3.2 release, English and Spanish are provided for the user interface. The jUDDI server administration user interface is also available in English and Spanish.</p>
</div>
<div class="section" title="12.5.3. Contributing Source code"><div class="titlepage"><div><div><h3 class="title"><a id="_contributing_source_code"/>12.5.3. Contributing Source code</h3></div></div></div>

<p>When contributing source code, you must own the code and be will to donate the code to the Apache Software Foundation. For those without SVN access, the process is as follows:
. Open a JIRA on the jUDDI Issue Tracker
. Write your code and test it (mvn clean install)
. Use Subversion to create a patch (svn patch)
. Upload the patch as an attachment for the JIRA</p>
<p>Once accepted, your code will be added to the baseline. Code submissions may be modified for style, content, documentation and any other reason that we see fit.</p>
<div class="section" title="12.5.3.1. Coding Standards"><div class="titlepage"><div><div><h4 class="title"><a id="_coding_standards"/>12.5.3.1. Coding Standards</h4></div></div></div>

<p>The majority of jUDDI’s source code is formatted using 8 space tabs and using Javadoc style documentation. In general, test cases are often more useful and more valuable that the code being tested.</p>
</div>
</div>
<div class="section" title="12.5.4. Releases"><div class="titlepage"><div><div><h3 class="title"><a id="_releases"/>12.5.4. Releases</h3></div></div></div>

<p>For the latest information on jUDDI’s release process, visit <a class="ulink" href="http://juddi.apache.org/committers.html">http://juddi.apache.org/committers.html</a></p>
</div>
</div>
<div class="section" title="12.6. What the?"><div class="titlepage"><div><div><h2 class="title"><a id="_what_the"/>12.6. What the?</h2></div></div></div>

<p>Having ran into a number of strange issues when developing with jUDDI, we decided to write a few of them down.</p>
<div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">
I added a new class to juddi-core but it doesn’t end up in the packaged tomcat instance? A: Modify the pom and make sure the package name is added to juddi-core-openjpa
</li><li class="listitem">
Some unit tests fail, but only under windows. A: This is specifically for the SubscriptionListerner Tests and most likely has something to do with ports getting locked up by the Java process.
</li></ol></div>

</div>
</div>
<div class="bibliography" title="Bibliography"><div class="titlepage"><div><div><h2 class="title"><a id="_bibliography"/>Bibliography</h2></div></div></div>

<div class="bibliodiv" title="Books">
<h3 class="title"><a id="d5e2884"/>Books</h3>
<div class="bibliomixed"><a id="d5e2886"/><p class="bibliomixed">
<span class="bibliomisc"><a id="graham-Davis-et-all"/>[graham-Davis-et-all] Steve Graham, Doug Davis et all.
<span class="emphasis"><em>Building Web Services with Java - Making sense of XML, SOAP, WSDL, and UDDI</em></span>. Second Edition. Sams Publishing. 2005.
ISBN 0-672-32641-8.</span>
</p></div>
<div class="bibliomixed"><a id="d5e2890"/><p class="bibliomixed">
<span class="bibliomisc"><a id="stam-oree"/>[stam-oree] Kurt Stam, Alex O’Ree et all.
<span class="emphasis"><em>jUDDI Client and GUI Guide</em></span>. 2014.</span>
</p></div>
</div>

<div class="bibliodiv" title="Articles">
<h3 class="title"><a id="d5e2894"/>Articles</h3>
<div class="bibliomixed"><a id="d5e2896"/><p class="bibliomixed">
<span class="bibliomisc"><a id="uddi-v3"/>[uddi-v3] OASIS. <span class="emphasis"><em><a class="ulink" href="https://www.oasis-open.org/standards#uddiv3.0.2">https://www.oasis-open.org/standards#uddiv3.0.2</a></em></span>. 2003.</span>
</p></div>
</div>

<div class="bibliodiv" title="WebSites">
<h3 class="title"><a id="d5e2901"/>WebSites</h3>
<div class="bibliomixed"><a id="d5e2903"/><p class="bibliomixed">
<span class="bibliomisc"><a id="uddi-xml-org"/>[uddi-xml-org] UDDI XML.org Editorial Board. <span class="emphasis"><em><a class="ulink" href="http://uddi.xml.org/">http://uddi.xml.org/</a></em></span>. 2014.</span>
</p></div>
<div class="bibliomixed"><a id="d5e2908"/><p class="bibliomixed">
<span class="bibliomisc"><a id="uddi-oasis-open-org"/>[uddi-oasis-open-org] OASIS. <span class="emphasis"><em><a class="ulink" href="https://www.oasis-open.org/standards#uddiv3.0.2">https://www.oasis-open.org/standards#uddiv3.0.2</a></em></span>. 2003.</span>
</p></div>
</div>

</div>
<div class="index" title="Index"><div class="titlepage"><div><div><h2 class="title"><a id="_index"/>Index</h2></div></div></div><div class="index"><div class="indexdiv"><h3>D</h3><dl><dt>directory, <a class="indexterm" href="#_uddi_registry">UDDI Registry</a></dt></dl></div><div class="indexdiv"><h3>R</h3><dl><dt>registry, <a class="indexterm" href="#_uddi_registry">UDDI Registry</a></dt></dl></div><div class="indexdiv"><h3>S</h3><dl><dt>specification, <a class="indexterm" href="#_uddi_registry">UDDI Registry</a></dt></dl></div><div class="indexdiv"><h3>U</h3><dl><dt>UDDI</dt><dd><dl><dt>registry, <a class="indexterm" href="#_uddi_registry">UDDI Registry</a></dt><dt>specification, <a class="indexterm" href="#_uddi_registry">UDDI Registry</a></dt></dl></dd></dl></div></div></div>
</div></body></html>